var hn=Object.defineProperty;var pn=(l,e,t)=>e in l?hn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var bt=(l,e,t)=>pn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Q(){}const ln=l=>l;function se(l,e){for(const t in e)l[t]=e[t];return l}function nn(l){return l()}function Ht(){return Object.create(null)}function Fe(l){l.forEach(nn)}function Ft(l){return typeof l=="function"}function be(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let at;function Ke(l,e){return l===e?!0:(at||(at=document.createElement("a")),at.href=e,l===at.href)}function gn(l){return Object.keys(l).length===0}function mn(l,...e){if(l==null){for(const n of e)n(void 0);return Q}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ne(l,e,t){l.$$.on_destroy.push(mn(e,t))}function Be(l,e,t,n){if(l){const r=rn(l,e,t,n);return l[0](r)}}function rn(l,e,t,n){return l[1]&&n?se(t.ctx.slice(),l[1](n(e))):t.ctx}function Re(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|r[s];return i}return e.dirty|r}return e.dirty}function We(l,e,t,n,r,i){if(r){const o=rn(e,t,n,i);l.p(o,r)}}function Ae(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ke(l){const e={};for(const t in l)t[0]!=="$"&&(e[t]=l[t]);return e}function Ot(l,e){const t={};e=new Set(e);for(const n in l)!e.has(n)&&n[0]!=="$"&&(t[n]=l[n]);return t}const on=typeof window<"u";let _n=on?()=>window.performance.now():()=>Date.now(),St=on?l=>requestAnimationFrame(l):Q;const Ye=new Set;function sn(l){Ye.forEach(e=>{e.c(l)||(Ye.delete(e),e.f())}),Ye.size!==0&&St(sn)}function bn(l){let e;return Ye.size===0&&St(sn),{promise:new Promise(t=>{Ye.add(e={c:l,f:t})}),abort(){Ye.delete(e)}}}function u(l,e){l.appendChild(e)}function an(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function kn(l){const e=_("style");return e.textContent="/* empty */",vn(an(l),e),e.sheet}function vn(l,e){return u(l.head||l,e),e.sheet}function P(l,e,t){l.insertBefore(e,t||null)}function I(l){l.parentNode&&l.parentNode.removeChild(l)}function he(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function _(l){return document.createElement(l)}function dt(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function K(l){return document.createTextNode(l)}function F(){return K(" ")}function $t(){return K("")}function J(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Et(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function ht(l,e){for(const t in e)f(l,t,e[t])}function wn(l){return Array.from(l.childNodes)}function ge(l,e){e=""+e,l.data!==e&&(l.data=e)}function Ge(l,e){l.value=e??""}function ye(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function ct(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}l.selectedIndex=-1}function yn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}function Ut(l,e){return new l(e)}const pt=new Map;let gt=0;function xn(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Cn(l,e){const t={stylesheet:kn(e),rules:{}};return pt.set(l,t),t}function Vt(l,e,t,n,r,i,o,s=0){const c=16.666/n;let a=`{
`;for(let x=0;x<=1;x+=c){const b=e+(t-e)*i(x);a+=x*100+`%{${o(b,1-b)}}
`}const h=a+`100% {${o(t,1-t)}}
}`,d=`__svelte_${xn(h)}_${s}`,p=an(l),{stylesheet:m,rules:g}=pt.get(p)||Cn(p,l);g[d]||(g[d]=!0,m.insertRule(`@keyframes ${d} ${h}`,m.cssRules.length));const k=l.style.animation||"";return l.style.animation=`${k?`${k}, `:""}${d} ${n}ms linear ${r}ms 1 both`,gt+=1,d}function Fn(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(l.style.animation=n.join(", "),gt-=r,gt||Sn())}function Sn(){St(()=>{gt||(pt.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&I(e)}),pt.clear())})}let nt;function lt(l){nt=l}function cn(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Mt(l){cn().$$.on_mount.push(l)}function $n(l){cn().$$.after_update.push(l)}function En(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const qe=[],rt=[];let je=[];const qt=[],Mn=Promise.resolve();let yt=!1;function Tn(){yt||(yt=!0,Mn.then(un))}function Ze(l){je.push(l)}const kt=new Set;let Ue=0;function un(){if(Ue!==0)return;const l=nt;do{try{for(;Ue<qe.length;){const e=qe[Ue];Ue++,lt(e),Bn(e.$$)}}catch(e){throw qe.length=0,Ue=0,e}for(lt(null),qe.length=0,Ue=0;rt.length;)rt.pop()();for(let e=0;e<je.length;e+=1){const t=je[e];kt.has(t)||(kt.add(t),t())}je.length=0}while(qe.length);for(;qt.length;)qt.pop()();yt=!1,kt.clear(),lt(l)}function Bn(l){if(l.fragment!==null){l.update(),Fe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Ze)}}function Rn(l){const e=[],t=[];je.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),je=e}let tt;function Wn(){return tt||(tt=Promise.resolve(),tt.then(()=>{tt=null})),tt}function vt(l,e,t){l.dispatchEvent(yn(`${e?"intro":"outro"}${t}`))}const ft=new Set;let ze;function xe(){ze={r:0,c:[],p:ze}}function Ce(){ze.r||Fe(ze.c),ze=ze.p}function B(l,e){l&&l.i&&(ft.delete(l),l.i(e))}function N(l,e,t,n){if(l&&l.o){if(ft.has(l))return;ft.add(l),ze.c.push(()=>{ft.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const An={duration:0};function ut(l,e,t,n){let i=e(l,t,{direction:"both"}),o=n?0:1,s=null,c=null,a=null,h;function d(){a&&Fn(l,a)}function p(g,k){const x=g.b-o;return k*=Math.abs(x),{a:o,b:g.b,d:x,duration:k,start:g.start,end:g.start+k,group:g.group}}function m(g){const{delay:k=0,duration:x=300,easing:b=ln,tick:v=Q,css:W}=i||An,H={start:_n()+k,b:g};g||(H.group=ze,ze.r+=1),"inert"in l&&(g?h!==void 0&&(l.inert=h):(h=l.inert,l.inert=!0)),s||c?c=H:(W&&(d(),a=Vt(l,o,g,x,k,b,W)),g&&v(0,1),s=p(H,x),Ze(()=>vt(l,g,"start")),bn(L=>{if(c&&L>c.start&&(s=p(c,x),c=null,vt(l,s.b,"start"),W&&(d(),a=Vt(l,o,s.b,s.duration,0,b,i.css))),s){if(L>=s.end)v(o=s.b,1-o),vt(l,s.b,"end"),c||(s.b?d():--s.group.r||Fe(s.group.c)),s=null;else if(L>=s.start){const U=L-s.start;o=s.a+s.d*b(U/s.duration),v(o,1-o)}}return!!(s||c)}))}return{run(g){Ft(i)?Wn().then(()=>{i=i({direction:g?"in":"out"}),m(g)}):m(g)},end(){d(),s=c=null}}}function j(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function fn(l,e){l.d(1),e.delete(l.key)}function Nn(l,e){N(l,1,1,()=>{e.delete(l.key)})}function Tt(l,e,t,n,r,i,o,s,c,a,h,d){let p=l.length,m=i.length,g=p;const k={};for(;g--;)k[l[g].key]=g;const x=[],b=new Map,v=new Map,W=[];for(g=m;g--;){const E=d(r,i,g),$=t(E);let R=o.get($);R?W.push(()=>R.p(E,e)):(R=a($,E),R.c()),b.set($,x[g]=R),$ in k&&v.set($,Math.abs(g-k[$]))}const H=new Set,L=new Set;function U(E){B(E,1),E.m(s,h),o.set(E.key,E),h=E.first,m--}for(;p&&m;){const E=x[m-1],$=l[p-1],R=E.key,D=$.key;E===$?(h=E.first,p--,m--):b.has(D)?!o.has(R)||H.has(R)?U(E):L.has(D)?p--:v.get(R)>v.get(D)?(L.add(R),U(E)):(H.add(D),p--):(c($,o),p--)}for(;p--;){const E=l[p];b.has(E.key)||c(E,o)}for(;m;)U(x[m-1]);return Fe(W),x}function Pe(l,e){const t={},n={},r={$$scope:1};let i=l.length;for(;i--;){const o=l[i],s=e[i];if(s){for(const c in o)c in s||(n[c]=1);for(const c in s)r[c]||(t[c]=s[c],r[c]=1);l[i]=s}else for(const c in o)r[c]=1}for(const o in n)o in t||(t[o]=void 0);return t}function He(l){return typeof l=="object"&&l!==null?l:{}}function re(l){l&&l.c()}function le(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),Ze(()=>{const i=l.$$.on_mount.map(nn).filter(Ft);l.$$.on_destroy?l.$$.on_destroy.push(...i):Fe(i),l.$$.on_mount=[]}),r.forEach(Ze)}function ne(l,e){const t=l.$$;t.fragment!==null&&(Rn(t.after_update),Fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ln(l,e){l.$$.dirty[0]===-1&&(qe.push(l),Tn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Se(l,e,t,n,r,i,o=null,s=[-1]){const c=nt;lt(l);const a=l.$$={fragment:null,ctx:[],props:i,update:Q,not_equal:r,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let h=!1;if(a.ctx=t?t(l,e.props||{},(d,p,...m)=>{const g=m.length?m[0]:p;return a.ctx&&r(a.ctx[d],a.ctx[d]=g)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](g),h&&Ln(l,d)),p}):[],a.update(),h=!0,Fe(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const d=wn(e.target);a.fragment&&a.fragment.l(d),d.forEach(I)}else a.fragment&&a.fragment.c();e.intro&&B(l.$$.fragment),le(l,e.target,e.anchor),un()}lt(c)}class $e{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){ne(this,1),this.$destroy=Q}$on(e,t){if(!Ft(t))return Q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!gn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const In="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(In);const Ve=[];function ot(l,e=Q){let t;const n=new Set;function r(s){if(be(l,s)&&(l=s,t)){const c=!Ve.length;for(const a of n)a[1](),Ve.push(a,l);if(c){for(let a=0;a<Ve.length;a+=2)Ve[a][0](Ve[a+1]);Ve.length=0}}}function i(s){r(s(l))}function o(s,c=Q){const a=[s,c];return n.add(a),n.size===1&&(t=e(r,i)||Q),s(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}const xt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},Yt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function Dn(){const{subscribe:l,set:e,update:t}=ot({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:Yt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:l,set:e,update:t,updateCaption:(n,r)=>{t(i=>{if(!i)return i;const o=i.captions.map(s=>s.id===n?{...s,...r}:s);return{...i,captions:o,updatedAt:new Date}})},updateStyle:n=>{t(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{t(r=>{if(!r)return r;const i=xt[n];return i?{...r,style:{...Yt,...i},updatedAt:new Date}:r})},addBRoll:n=>{t(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{t(r=>r&&{...r,bRollClips:r.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((h,d)=>d===r?{...h,emoji:i||null}:h);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((h,d)=>d===r?{...h,isKeyword:i}:h);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(0,r);return{...s,start:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(.1,r);return{...s,duration:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},addZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,zoomEffects:o,updatedAt:new Date}})},addSoundEffect:n=>{t(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{t(r=>r&&{...r,soundEffects:r.soundEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,soundEffects:o,updatedAt:new Date}})}}}const fe=Dn();function zn(){const{subscribe:l,set:e,update:t}=ot({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:l,set:e,update:t,setCurrentTime:n=>t(r=>({...r,currentTime:n})),setPlaying:n=>t(r=>({...r,isPlaying:n})),togglePlay:()=>t(n=>({...n,isPlaying:!n.isPlaying}))}}const De=zn(),Ct=ot("captions"),it=ot({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Kt(l,e,t){const n=l.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function wt(l){let e,t=[l[11]],n={};for(let r=0;r<t.length;r+=1)n=se(n,t[r]);return{c(){e=dt(l[10]),ht(e,n)},m(r,i){P(r,e,i)},p(r,i){ht(e,n=Pe(t,[i&32&&r[11]]))},d(r){r&&I(e)}}}function Gt(l){let e=l[10],t,n=l[10]&&wt(l);return{c(){n&&n.c(),t=$t()},m(r,i){n&&n.m(r,i),P(r,t,i)},p(r,i){r[10]?e?be(e,r[10])?(n.d(1),n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&I(t),n&&n.d(r)}}}function Pn(l){let e,t,n,r,i,o=j(l[5]),s=[];for(let p=0;p<o.length;p+=1)s[p]=Gt(Kt(l,o,p));const c=l[9].default,a=Be(c,l,l[8],null);let h=[jt,l[6],{width:l[2]},{height:l[2]},{stroke:l[1]},{"stroke-width":n=l[4]?Number(l[3])*24/Number(l[2]):l[3]},{class:r=`lucide-icon lucide lucide-${l[0]} ${l[7].class??""}`}],d={};for(let p=0;p<h.length;p+=1)d=se(d,h[p]);return{c(){e=dt("svg");for(let p=0;p<s.length;p+=1)s[p].c();t=$t(),a&&a.c(),ht(e,d)},m(p,m){P(p,e,m);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(e,null);u(e,t),a&&a.m(e,null),i=!0},p(p,[m]){if(m&32){o=j(p[5]);let g;for(g=0;g<o.length;g+=1){const k=Kt(p,o,g);s[g]?s[g].p(k,m):(s[g]=Gt(k),s[g].c(),s[g].m(e,t))}for(;g<s.length;g+=1)s[g].d(1);s.length=o.length}a&&a.p&&(!i||m&256)&&We(a,c,p,p[8],i?Re(c,p[8],m,null):Ae(p[8]),null),ht(e,d=Pe(h,[jt,m&64&&p[6],(!i||m&4)&&{width:p[2]},(!i||m&4)&&{height:p[2]},(!i||m&2)&&{stroke:p[1]},(!i||m&28&&n!==(n=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":n},(!i||m&129&&r!==(r=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:r}]))},i(p){i||(B(a,p),i=!0)},o(p){N(a,p),i=!1},d(p){p&&I(e),he(s,p),a&&a.d(p)}}}function Hn(l,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ot(e,n),{$$slots:i={},$$scope:o}=e,{name:s}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:h=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:p}=e;return l.$$set=m=>{t(7,e=se(se({},e),ke(m))),t(6,r=Ot(e,n)),"name"in m&&t(0,s=m.name),"color"in m&&t(1,c=m.color),"size"in m&&t(2,a=m.size),"strokeWidth"in m&&t(3,h=m.strokeWidth),"absoluteStrokeWidth"in m&&t(4,d=m.absoluteStrokeWidth),"iconNode"in m&&t(5,p=m.iconNode),"$$scope"in m&&t(8,o=m.$$scope)},e=ke(e),[s,c,a,h,d,p,r,e,o,i]}class Oe extends $e{constructor(e){super(),Se(this,e,Hn,Pn,be,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function On(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Un(l){let e,t;const n=[{name:"film"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[On]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function Vn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Bt extends $e{constructor(e){super(),Se(this,e,Vn,Un,be,{})}}function qn(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Yn(l){let e,t;const n=[{name:"loader-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[qn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function jn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class st extends $e{constructor(e){super(),Se(this,e,jn,Yn,be,{})}}function Kn(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Gn(l){let e,t;const n=[{name:"palette"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function Zn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Jn extends $e{constructor(e){super(),Se(this,e,Zn,Gn,be,{})}}function Xn(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Qn(l){let e,t;const n=[{name:"plus"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Xn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function er(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class dn extends $e{constructor(e){super(),Se(this,e,er,Qn,be,{})}}function tr(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function lr(l){let e,t;const n=[{name:"sparkles"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[tr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function nr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class mt extends $e{constructor(e){super(),Se(this,e,nr,lr,be,{})}}function rr(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function ir(l){let e,t;const n=[{name:"trash-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[rr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function or(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class sr extends $e{constructor(e){super(),Se(this,e,or,ir,be,{})}}function ar(l){let e;const t=l[2].default,n=Be(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&We(n,t,r,r[3],e?Re(t,r[3],i,null):Ae(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function cr(l){let e,t;const n=[{name:"type"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[ar]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Oe({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?Pe(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(B(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function ur(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class fr extends $e{constructor(e){super(),Se(this,e,ur,cr,be,{})}}function Zt(l,e,t){const n=l.slice();return n[3]=e[t],n}function Jt(l){let e,t,n,r,i,o,s,c,a;var h=l[3].icon;function d(m,g){return{props:{class:"w-5 h-5"}}}h&&(t=Ut(h,d()));function p(){return l[2](l[3])}return{c(){e=_("button"),t&&re(t.$$.fragment),n=F(),r=_("span"),r.textContent=`${l[3].label}`,i=F(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",l[3].label)},m(m,g){P(m,e,g),t&&le(t,e,null),u(e,n),u(e,r),u(e,i),s=!0,c||(a=J(e,"click",p),c=!0)},p(m,g){if(l=m,h!==(h=l[3].icon)){if(t){xe();const k=t;N(k.$$.fragment,1,0,()=>{ne(k,1)}),Ce()}h?(t=Ut(h,d()),re(t.$$.fragment),B(t.$$.fragment,1),le(t,e,n)):t=null}(!s||g&1&&o!==(o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",o)},i(m){s||(t&&B(t.$$.fragment,m),s=!0)},o(m){t&&N(t.$$.fragment,m),s=!1},d(m){m&&I(e),t&&ne(t),c=!1,a()}}}function dr(l){let e,t,n,r,i,o,s,c,a,h,d,p,m=j(l[1]),g=[];for(let x=0;x<m.length;x+=1)g[x]=Jt(Zt(l,m,x));const k=x=>N(g[x],1,1,()=>{g[x]=null});return{c(){e=_("div"),t=_("div"),t.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=F(),r=_("nav");for(let x=0;x<g.length;x+=1)g[x].c();i=F(),o=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',c=F(),a=_("button"),a.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(t,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(a,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(a,"title","Logout"),f(o,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m(x,b){P(x,e,b),u(e,t),u(e,n),u(e,r);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(r,null);u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),h=!0,d||(p=J(a,"click",hr),d=!0)},p(x,[b]){if(b&3){m=j(x[1]);let v;for(v=0;v<m.length;v+=1){const W=Zt(x,m,v);g[v]?(g[v].p(W,b),B(g[v],1)):(g[v]=Jt(W),g[v].c(),B(g[v],1),g[v].m(r,null))}for(xe(),v=m.length;v<g.length;v+=1)k(v);Ce()}},i(x){if(!h){for(let b=0;b<m.length;b+=1)B(g[b]);h=!0}},o(x){g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)N(g[b]);h=!1},d(x){x&&I(e),he(g,x),d=!1,p()}}}function hr(){window.location.href="/logout"}function pr(l,e,t){let n;return Ne(l,Ct,o=>t(0,n=o)),[n,[{id:"captions",label:"Captions",icon:fr},{id:"style",label:"Style",icon:Jn},{id:"broll",label:"B-Roll",icon:Bt},{id:"ai-tools",label:"AI Tools",icon:mt}],o=>Ct.set(o.id)]}class gr extends $e{constructor(e){super(),Se(this,e,pr,dr,be,{})}}const mr=l=>({}),Xt=l=>({}),_r=l=>({}),Qt=l=>({}),br=l=>({}),el=l=>({}),kr=l=>({}),tl=l=>({});function vr(l){let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v,W;const H=l[1].sidebar,L=Be(H,l,l[0],tl),U=l[1].panel,E=Be(U,l,l[0],el),$=l[1].preview,R=Be($,l,l[0],Qt),D=l[1].timeline,A=Be(D,l,l[0],Xt);return{c(){e=_("div"),t=_("aside"),L&&L.c(),n=F(),r=_("aside"),E&&E.c(),i=F(),o=_("div"),s=_("div"),c=_("header"),a=_("div"),a.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',h=F(),d=_("div"),p=_("button"),p.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,m=F(),g=_("div"),R&&R.c(),k=F(),x=_("aside"),A&&A.c(),f(t,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(a,"class","flex items-center gap-4"),f(p,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(d,"class","flex items-center gap-2"),f(c,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(g,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f(x,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(o,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(S,M){P(S,e,M),u(e,t),L&&L.m(t,null),u(e,n),u(e,r),E&&E.m(r,null),u(e,i),u(e,o),u(o,s),u(s,c),u(c,a),u(c,h),u(c,d),u(d,p),u(s,m),u(s,g),R&&R.m(g,null),u(o,k),u(o,x),A&&A.m(x,null),b=!0,v||(W=J(p,"click",l[2]),v=!0)},p(S,[M]){L&&L.p&&(!b||M&1)&&We(L,H,S,S[0],b?Re(H,S[0],M,kr):Ae(S[0]),tl),E&&E.p&&(!b||M&1)&&We(E,U,S,S[0],b?Re(U,S[0],M,br):Ae(S[0]),el),R&&R.p&&(!b||M&1)&&We(R,$,S,S[0],b?Re($,S[0],M,_r):Ae(S[0]),Qt),A&&A.p&&(!b||M&1)&&We(A,D,S,S[0],b?Re(D,S[0],M,mr):Ae(S[0]),Xt)},i(S){b||(B(L,S),B(E,S),B(R,S),B(A,S),b=!0)},o(S){N(L,S),N(E,S),N(R,S),N(A,S),b=!1},d(S){S&&I(e),L&&L.d(S),E&&E.d(S),R&&R.d(S),A&&A.d(S),v=!1,W()}}}function wr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=()=>it.update(o=>({...o,isExporting:!0}));return l.$$set=o=>{"$$scope"in o&&t(0,r=o.$$scope)},[r,n,i]}class yr extends $e{constructor(e){super(),Se(this,e,wr,vr,be,{})}}function ll(l){let e,t,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-dark ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(r,i){P(r,e,i),t||(n=J(e,"click",l[4]),t=!0)},p:Q,d(r){r&&I(e),t=!1,n()}}}function xr(l){let e,t,n,r,i,o,s,c,a,h=Math.floor(l[3].currentTime/60)+"",d,p,m=(Math.floor(l[3].currentTime)%60).toString().padStart(2,"0")+"",g,k,x,b=!l[3].isPlaying&&ll(l);return{c(){var v;e=_("div"),t=_("video"),n=_("track"),i=F(),o=_("canvas"),s=F(),b&&b.c(),c=F(),a=_("div"),d=K(h),p=K(":"),g=K(m),f(n,"kind","captions"),Ke(t.src,r=(v=l[1])==null?void 0:v.videoUrl)||f(t,"src",r),f(t,"class","w-full h-full object-contain"),f(t,"crossorigin","anonymous"),t.playsInline=!0,t.muted=!0,f(o,"class","absolute top-0 left-0 w-full h-full pointer-events-none"),f(a,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(v,W){P(v,e,W),u(e,t),u(t,n),l[9](t),u(e,i),u(e,o),l[10](o),u(e,s),b&&b.m(e,null),u(e,c),u(e,a),u(a,d),u(a,p),u(a,g),k||(x=J(t,"click",l[4]),k=!0)},p(v,[W]){var H;W&2&&!Ke(t.src,r=(H=v[1])==null?void 0:H.videoUrl)&&f(t,"src",r),v[3].isPlaying?b&&(b.d(1),b=null):b?b.p(v,W):(b=ll(v),b.c(),b.m(e,c)),W&8&&h!==(h=Math.floor(v[3].currentTime/60)+"")&&ge(d,h),W&8&&m!==(m=(Math.floor(v[3].currentTime)%60).toString().padStart(2,"0")+"")&&ge(g,m)},i:Q,o:Q,d(v){v&&I(e),l[9](null),l[10](null),b&&b.d(),k=!1,x()}}}function Cr(l){switch(l){case"light":return"1px 1px 2px rgba(0,0,0,0.5)";case"medium":return"2px 2px 4px rgba(0,0,0,0.7)";case"heavy":return"3px 3px 6px rgba(0,0,0,0.9)";default:return""}}function Fr(l,e,t){let n,r;Ne(l,De,E=>t(7,n=E)),Ne(l,fe,E=>t(8,r=E));let i,o,s,c,a=1080,h=1920,d=r,p=n;function m(){De.setPlaying(!0)}function g(){De.setPlaying(!1)}Mt(()=>(s=o.getContext("2d"),t(0,o.width=a,o),t(0,o.height=h,o),window.addEventListener("timeline-seek",k),i&&(i.addEventListener("timeupdate",x),i.addEventListener("loadedmetadata",b),i.addEventListener("play",m),i.addEventListener("pause",g),i.addEventListener("seeked",W)),W(),()=>{window.removeEventListener("timeline-seek",k),i&&(i.removeEventListener("timeupdate",x),i.removeEventListener("loadedmetadata",b),i.removeEventListener("play",m),i.removeEventListener("pause",g),i.removeEventListener("seeked",W)),cancelAnimationFrame(c)})),$n(()=>{o&&(o.width!==a||o.height!==h)&&(t(0,o.width=a,o),t(0,o.height=h,o),W())});function k(E){i&&E.detail&&typeof E.detail.time=="number"&&(t(2,i.currentTime=E.detail.time,i),W())}function x(){i&&(De.setCurrentTime(i.currentTime),W())}function b(){i&&(De.update(E=>({...E,duration:i.duration})),d!=null&&d.resolution?t(5,[a,h]=d.resolution.split("x").map(Number),a,(t(6,h),t(1,d),t(0,o),t(5,a),t(8,r))):(t(5,a=i.videoWidth),t(6,h=i.videoHeight)),t(0,o.width=a,o),t(0,o.height=h,o),W())}function v(){i&&(i.paused?i.play():i.pause())}function W(){if(!s||!o){c=requestAnimationFrame(W);return}s.clearRect(0,0,o.width,o.height);const E=(p==null?void 0:p.currentTime)||0,$=(d==null?void 0:d.captions)||[],R=(d==null?void 0:d.style)||{};if(!$||$.length===0){c=requestAnimationFrame(W);return}const D=$.find(A=>E>=A.start&&E<=A.end);if(D){let A;const S=parseInt(R.fontSize||42,10),M=S*(R.lineHeight||1.2),w=50;switch(R.position){case"top":A=w+S;break;case"middle":A=o.height/2;break;case"bottom":default:A=o.height-w;break}document.fonts.load(`${R.fontWeight||"bold"} ${S}px "${R.fontFamily||"Inter"}"`).then(()=>{s.font=`${R.fontWeight||"bold"} ${S}px "${R.fontFamily||"Inter"}", sans-serif`,s.fillStyle=R.color||"#FFFFFF",s.textAlign=R.alignment||"center";const y=Cr(R.textShadow||"medium");if(y){const T=y.match(/(\d+)px (\d+)px (\d+)px (.*)/);T&&(s.shadowOffsetX=parseInt(T[1],10),s.shadowOffsetY=parseInt(T[2],10),s.shadowBlur=parseInt(T[3],10),s.shadowColor=T[4])}else s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowColor="transparent";if(R.wordByWord&&D.words&&D.words.length>0){const T=[];let G=0;const X=s.measureText(" ").width,ue=o.width-2*w;let q=A;for(const C of D.words){const Z=s.measureText(C.text).width;G+Z+X>ue&&T.length>0&&(H(T,q,G-X),T.length=0,G=0,q+=M),T.push(C),G+=Z+X}T.length>0&&H(T,q,G-X)}else{const T=D.text,G=o.width-100,X=T.split(" ");let ue="";const q=[];for(let ee=0;ee<X.length;ee++){const Y=ue+X[ee]+" ";s.measureText(Y).width>G&&ee>0?(q.push(ue),ue=X[ee]+" "):ue=Y}q.push(ue);const C=parseInt(R.fontSize||42,10)*1.2,Z=q.length*C;let O=A-Z/2+C/2;R.position==="bottom"?O=A-Z+C:R.position==="top"&&(O=A),q.forEach((ee,Y)=>{s.fillText(ee.trim(),o.width/2,O+Y*C)})}})}c=requestAnimationFrame(W)}function H(E,$,R){var A,S,M,w,y,T,G,X,ue,q;let D=o.width/2-R/2;for(const C of E){const Z=(p==null?void 0:p.currentTime)>=C.start&&(p==null?void 0:p.currentTime)<=C.end,O=s.measureText(C.text).width,ee=s.measureText(" ").width;if(s.save(),Z){const ie=(p.currentTime-C.start)/(C.end-C.start);switch((A=d==null?void 0:d.style)==null?void 0:A.animation){case"pop":const ve=1+Math.sin(ie*Math.PI)*.2;s.translate(D+O/2,$),s.scale(ve,ve),s.translate(-(D+O/2),-$);break;case"slide-up":const de=Math.max(0,1-ie)*20;s.translate(0,-de);break;case"fade":s.globalAlpha=ie;break;case"bounce":let Ee=1;ie<.5?Ee=1+ie*.4:Ee=1+(1-ie)*.4,s.translate(D+O/2,$),s.scale(Ee,Ee),s.translate(-(D+O/2),-$);break}}let Y=s.font,te=((S=d==null?void 0:d.style)==null?void 0:S.color)||"#FFFFFF",_e="transparent",Te=!1;if(Z&&((M=d==null?void 0:d.style)!=null&&M.highlightWords))te=((w=d==null?void 0:d.style)==null?void 0:w.highlightColor)||"#FFD700",_e=((y=d==null?void 0:d.style)==null?void 0:y.highlightColor)||"#FFD700",Te=!0,((T=d==null?void 0:d.style)==null?void 0:T.color)===((G=d==null?void 0:d.style)==null?void 0:G.highlightColor)&&(te="#000000");else if(C.isKeyword){te=((X=d==null?void 0:d.style)==null?void 0:X.keywordColor)||"#EC4899";const ie=parseInt(((ue=d==null?void 0:d.style)==null?void 0:ue.fontSize)||42,10);s.font=`bold ${ie}px "${((q=d==null?void 0:d.style)==null?void 0:q.fontFamily)||"Inter"}", sans-serif`}if(Te){const ie=s.measureText(C.text),ae=10,ve=8;s.fillStyle=_e,s.fillRect(D-ae/2,$-ie.actualBoundingBoxAscent-ve/2,ie.width+ae,ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent+ve)}s.fillStyle=te,s.fillText(C.text,D,$),C.isKeyword&&(s.font=Y),s.restore(),D+=O+ee}}function L(E){rt[E?"unshift":"push"](()=>{i=E,t(2,i)})}function U(E){rt[E?"unshift":"push"](()=>{o=E,t(0,o),t(1,d),t(5,a),t(6,h),t(8,r)})}return l.$$.update=()=>{l.$$.dirty&256&&t(1,d=r),l.$$.dirty&128&&t(3,p=n),l.$$.dirty&99&&d!=null&&d.resolution&&(t(5,[a,h]=d.resolution.split("x").map(Number),a,(t(6,h),t(1,d),t(0,o),t(5,a),t(8,r))),o&&(t(0,o.width=a,o),t(0,o.height=h,o),W()))},[o,d,i,p,v,a,h,n,r,L,U]}class Sr extends $e{constructor(e){super(),Se(this,e,Fr,xr,be,{})}}const nl=ot(null);function Je(l){const e=Math.floor(l/60),t=Math.floor(l%60),n=Math.floor(l%1*100);return`${e}:${t.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function rl(l,e,t){const n=l.slice();return n[65]=e[t],n}function il(l,e,t){const n=l.slice();return n[62]=e[t],n}function ol(l,e,t){const n=l.slice();return n[62]=e[t],n}function sl(l,e,t){const n=l.slice();return n[46]=e[t],n}function al(l,e,t){const n=l.slice();return n[49]=e[t],n}function cl(l,e,t){const n=l.slice();return n[52]=e[t],n}function ul(l,e,t){const n=l.slice();return n[55]=e[t],n}function fl(l,e,t){const n=l.slice();return n[58]=e[t][0],n[59]=e[t][1],n}function dl(l,e,t){const n=l.slice();return n[34]=e[t],n}function hl(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function pl(l,e,t){const n=l.slice();return n[34]=e[t],n}function gl(l,e,t){const n=l.slice();return n[37]=e[t],n[42]=e,n[39]=t,n}function ml(l,e,t){const n=l.slice();return n[43]=e[t],n}function $r(l){let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v,W,H,L,U,E,$,R,D;const A=[Rr,Br],S=[];function M(Y,te){return Y[0]?0:1}i=M(l),o=S[i]=A[i](l);const w=[Ar,Wr],y=[];function T(Y,te){return Y[1]?0:1}a=T(l),h=y[a]=w[a](l);const G=[Lr,Nr],X=[];function ue(Y,te){return Y[2]?0:1}g=ue(l),k=X[g]=G[g](l);const q=[Dr,Ir],C=[];function Z(Y,te){return generatingEffects?0:1}W=Z(),H=C[W]=q[W](l);let O=l[6].length>0&&_l(l),ee=l[9]&&kl(l);return{c(){var Y,te,_e,Te,ie,ae;e=_("div"),t=_("h3"),t.textContent="AI Magic Tools",n=F(),r=_("button"),o.c(),s=F(),c=_("button"),h.c(),p=F(),m=_("button"),k.c(),b=F(),v=_("button"),H.c(),U=F(),O&&O.c(),E=F(),ee&&ee.c(),f(t,"class","font-semibold text-lg text-white"),r.disabled=l[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),c.disabled=d=l[1]||!((te=(Y=l[7])==null?void 0:Y.captions)!=null&&te.length),f(c,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),m.disabled=x=l[2]||!((Te=(_e=l[7])==null?void 0:_e.captions)!=null&&Te.length),f(m,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),v.disabled=L=generatingEffects||!((ae=(ie=l[7])==null?void 0:ie.captions)!=null&&ae.length),f(v,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(Y,te){P(Y,e,te),u(e,t),u(e,n),u(e,r),S[i].m(r,null),u(e,s),u(e,c),y[a].m(c,null),u(e,p),u(e,m),X[g].m(m,null),u(e,b),u(e,v),C[W].m(v,null),u(e,U),O&&O.m(e,null),u(e,E),ee&&ee.m(e,null),$=!0,R||(D=[J(r,"click",l[13]),J(c,"click",l[14]),J(m,"click",l[15]),J(v,"click",generateEffectsSuggestions)],R=!0)},p(Y,te){var ae,ve,de,Ee,me,Ie;let _e=i;i=M(Y),i!==_e&&(xe(),N(S[_e],1,1,()=>{S[_e]=null}),Ce(),o=S[i],o||(o=S[i]=A[i](Y),o.c()),B(o,1),o.m(r,null)),(!$||te[0]&1)&&(r.disabled=Y[0]);let Te=a;a=T(Y),a!==Te&&(xe(),N(y[Te],1,1,()=>{y[Te]=null}),Ce(),h=y[a],h||(h=y[a]=w[a](Y),h.c()),B(h,1),h.m(c,null)),(!$||te[0]&1154&&d!==(d=Y[1]||!((ve=(ae=Y[7])==null?void 0:ae.captions)!=null&&ve.length)))&&(c.disabled=d);let ie=g;g=ue(Y),g!==ie&&(xe(),N(X[ie],1,1,()=>{X[ie]=null}),Ce(),k=X[g],k||(k=X[g]=G[g](Y),k.c()),B(k,1),k.m(m,null)),(!$||te[0]&1156&&x!==(x=Y[2]||!((Ee=(de=Y[7])==null?void 0:de.captions)!=null&&Ee.length)))&&(m.disabled=x),(!$||te[0]&1152&&L!==(L=generatingEffects||!((Ie=(me=Y[7])==null?void 0:me.captions)!=null&&Ie.length)))&&(v.disabled=L),Y[6].length>0?O?(O.p(Y,te),te[0]&64&&B(O,1)):(O=_l(Y),O.c(),B(O,1),O.m(e,E)):O&&(xe(),N(O,1,1,()=>{O=null}),Ce()),Y[9]?ee?ee.p(Y,te):(ee=kl(Y),ee.c(),ee.m(e,null)):ee&&(ee.d(1),ee=null)},i(Y){$||(B(o),B(h),B(k),B(H),B(O),$=!0)},o(Y){N(o),N(h),N(k),N(H),N(O),$=!1},d(Y){Y&&I(e),S[i].d(),y[a].d(),X[g].d(),C[W].d(),O&&O.d(),ee&&ee.d(),R=!1,Fe(D)}}}function Er(l){let e,t,n,r,i,o,s,c,a,h,d,p,m;const g=[Pr,zr],k=[];function x(v,W){return v[5]?0:1}c=x(l),a=k[c]=g[c](l);let b=l[4].length>0&&wl(l);return{c(){e=_("div"),t=_("h3"),t.textContent="B-Roll Library",n=F(),r=_("div"),i=_("input"),o=F(),s=_("button"),a.c(),h=F(),b&&b.c(),f(t,"class","font-semibold text-lg text-white"),f(i,"type","text"),f(i,"placeholder","Search stock footage..."),f(i,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),s.disabled=l[5],f(s,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(v,W){P(v,e,W),u(e,t),u(e,n),u(e,r),u(r,i),Ge(i,l[3]),u(r,o),u(r,s),k[c].m(s,null),u(e,h),b&&b.m(e,null),d=!0,p||(m=[J(i,"input",l[30]),J(i,"keydown",l[31]),J(s,"click",l[16])],p=!0)},p(v,W){W[0]&8&&i.value!==v[3]&&Ge(i,v[3]);let H=c;c=x(v),c!==H&&(xe(),N(k[H],1,1,()=>{k[H]=null}),Ce(),a=k[c],a||(a=k[c]=g[c](v),a.c()),B(a,1),a.m(s,null)),(!d||W[0]&32)&&(s.disabled=v[5]),v[4].length>0?b?(b.p(v,W),W[0]&16&&B(b,1)):(b=wl(v),b.c(),B(b,1),b.m(e,null)):b&&(xe(),N(b,1,1,()=>{b=null}),Ce())},i(v){d||(B(a),B(b),d=!0)},o(v){N(a),N(b),d=!1},d(v){v&&I(e),k[c].d(),b&&b.d(),p=!1,Fe(m)}}}function Mr(l){var Rt,Wt;let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v,W,H,L=(((Wt=(Rt=l[7])==null?void 0:Rt.style)==null?void 0:Wt.fontSize)||42)+"",U,E,$,R,D,A,S,M,w,y,T,G,X,ue,q,C,Z,O,ee,Y,te,_e,Te,ie=j(Object.entries(xt)),ae=[];for(let V=0;V<ie.length;V+=1)ae[V]=xl(fl(l,ie,V));let ve=j(l[10]),de=[];for(let V=0;V<ve.length;V+=1)de[V]=Cl(ul(l,ve,V));let Ee=j(l[11]),me=[];for(let V=0;V<Ee.length;V+=1)me[V]=Fl(cl(l,Ee,V));let Ie=j(l[12]),we=[];for(let V=0;V<Ie.length;V+=1)we[V]=Sl(al(l,Ie,V));let _t=j(["none","light","medium","heavy"]),Le=[];for(let V=0;V<4;V+=1)Le[V]=$l(sl(l,_t,V));return{c(){var V,pe;e=_("div"),t=_("div"),n=_("h3"),n.textContent="Style Presets",r=F(),i=_("div");for(let ce=0;ce<ae.length;ce+=1)ae[ce].c();o=F(),s=_("div"),c=_("h3"),c.textContent="Typography",a=F(),h=_("div"),d=_("label"),d.textContent="Font Family",p=F(),m=_("select");for(let ce=0;ce<de.length;ce+=1)de[ce].c();k=F(),x=_("div"),b=_("label"),v=_("span"),v.textContent="Font Size",W=F(),H=_("span"),U=K(L),E=K("px"),$=F(),R=_("input"),A=F(),S=_("div"),M=_("label"),M.textContent="Position",w=F(),y=_("div");for(let ce=0;ce<me.length;ce+=1)me[ce].c();T=F(),G=_("div"),X=_("label"),X.textContent="Animation",ue=F(),q=_("select");for(let ce=0;ce<we.length;ce+=1)we[ce].c();Z=F(),O=_("div"),ee=_("label"),ee.textContent="Text Shadow",Y=F(),te=_("div");for(let ce=0;ce<4;ce+=1)Le[ce].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(c,"class","font-semibold text-lg text-white"),f(d,"class","text-sm text-dark-text-light"),f(m,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(h,"class","space-y-2"),f(H,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(R,"type","range"),f(R,"min","20"),f(R,"max","80"),R.value=D=((pe=(V=l[7])==null?void 0:V.style)==null?void 0:pe.fontSize)||42,f(R,"class","w-full"),f(x,"class","space-y-2"),f(M,"class","text-sm text-dark-text-light"),f(y,"class","flex gap-2"),f(S,"class","space-y-2"),f(X,"class","text-sm text-dark-text-light"),f(q,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(G,"class","space-y-2"),f(ee,"class","text-sm text-dark-text-light"),f(te,"class","flex gap-2"),f(O,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(V,pe){var ce,Xe,Qe,et;P(V,e,pe),u(e,t),u(t,n),u(t,r),u(t,i);for(let oe=0;oe<ae.length;oe+=1)ae[oe]&&ae[oe].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h),u(h,d),u(h,p),u(h,m);for(let oe=0;oe<de.length;oe+=1)de[oe]&&de[oe].m(m,null);ct(m,((Xe=(ce=l[7])==null?void 0:ce.style)==null?void 0:Xe.fontFamily)||"Inter"),u(s,k),u(s,x),u(x,b),u(b,v),u(b,W),u(b,H),u(H,U),u(H,E),u(x,$),u(x,R),u(s,A),u(s,S),u(S,M),u(S,w),u(S,y);for(let oe=0;oe<me.length;oe+=1)me[oe]&&me[oe].m(y,null);u(s,T),u(s,G),u(G,X),u(G,ue),u(G,q);for(let oe=0;oe<we.length;oe+=1)we[oe]&&we[oe].m(q,null);ct(q,((et=(Qe=l[7])==null?void 0:Qe.style)==null?void 0:et.animation)||"pop"),u(s,Z),u(s,O),u(O,ee),u(O,Y),u(O,te);for(let oe=0;oe<4;oe+=1)Le[oe]&&Le[oe].m(te,null);_e||(Te=[J(m,"change",l[25]),J(R,"input",l[26]),J(q,"change",l[28])],_e=!0)},p(V,pe){var ce,Xe,Qe,et,oe,At,Nt,Lt,It,Dt,zt,Pt;if(pe&0){ie=j(Object.entries(xt));let z;for(z=0;z<ie.length;z+=1){const Me=fl(V,ie,z);ae[z]?ae[z].p(Me,pe):(ae[z]=xl(Me),ae[z].c(),ae[z].m(i,null))}for(;z<ae.length;z+=1)ae[z].d(1);ae.length=ie.length}if(pe[0]&1024){ve=j(V[10]);let z;for(z=0;z<ve.length;z+=1){const Me=ul(V,ve,z);de[z]?de[z].p(Me,pe):(de[z]=Cl(Me),de[z].c(),de[z].m(m,null))}for(;z<de.length;z+=1)de[z].d(1);de.length=ve.length}if(pe[0]&1152&&g!==(g=((Xe=(ce=V[7])==null?void 0:ce.style)==null?void 0:Xe.fontFamily)||"Inter")&&ct(m,((et=(Qe=V[7])==null?void 0:Qe.style)==null?void 0:et.fontFamily)||"Inter"),pe[0]&128&&L!==(L=(((At=(oe=V[7])==null?void 0:oe.style)==null?void 0:At.fontSize)||42)+"")&&ge(U,L),pe[0]&1152&&D!==(D=((Lt=(Nt=V[7])==null?void 0:Nt.style)==null?void 0:Lt.fontSize)||42)&&(R.value=D),pe[0]&2176){Ee=j(V[11]);let z;for(z=0;z<Ee.length;z+=1){const Me=cl(V,Ee,z);me[z]?me[z].p(Me,pe):(me[z]=Fl(Me),me[z].c(),me[z].m(y,null))}for(;z<me.length;z+=1)me[z].d(1);me.length=Ee.length}if(pe[0]&4096){Ie=j(V[12]);let z;for(z=0;z<Ie.length;z+=1){const Me=al(V,Ie,z);we[z]?we[z].p(Me,pe):(we[z]=Sl(Me),we[z].c(),we[z].m(q,null))}for(;z<we.length;z+=1)we[z].d(1);we.length=Ie.length}if(pe[0]&1152&&C!==(C=((Dt=(It=V[7])==null?void 0:It.style)==null?void 0:Dt.animation)||"pop")&&ct(q,((Pt=(zt=V[7])==null?void 0:zt.style)==null?void 0:Pt.animation)||"pop"),pe[0]&128){_t=j(["none","light","medium","heavy"]);let z;for(z=0;z<4;z+=1){const Me=sl(V,_t,z);Le[z]?Le[z].p(Me,pe):(Le[z]=$l(Me),Le[z].c(),Le[z].m(te,null))}for(;z<4;z+=1)Le[z].d(1)}},i:Q,o:Q,d(V){V&&I(e),he(ae,V),he(de,V),he(me,V),he(we,V),he(Le,V),_e=!1,Fe(Te)}}}function Tr(l){var X,ue;let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v,W,H,L,U,E,$,R,D,A=((ue=(X=l[7])==null?void 0:X.style)==null?void 0:ue.highlightWords)&&El(l);function S(q,C){var Z,O;return(O=(Z=q[7])==null?void 0:Z.captions)!=null&&O.length?Or:Hr}let M=S(l),w=M(l);function y(q,C){var Z,O;return(O=(Z=q[7])==null?void 0:Z.captions)!=null&&O.length?Vr:Ur}let T=y(l),G=T(l);return{c(){var q,C,Z,O;e=_("div"),t=_("h3"),t.textContent="Caption Settings",n=F(),r=_("div"),i=_("label"),o=_("span"),o.textContent="Word-by-word highlighting",s=F(),c=_("input"),h=F(),d=_("label"),p=_("span"),p.textContent="Highlight active words",m=F(),g=_("input"),x=F(),A&&A.c(),b=F(),v=_("div"),W=_("h3"),W.textContent="Emoji Editor",H=F(),w.c(),L=F(),U=_("div"),E=_("h3"),E.textContent="Keyword Editor",$=F(),G.c(),f(t,"class","font-semibold text-lg text-white"),f(o,"class","text-dark-text-light"),f(c,"type","checkbox"),c.checked=a=(C=(q=l[7])==null?void 0:q.style)==null?void 0:C.wordByWord,f(c,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(p,"class","text-dark-text-light"),f(g,"type","checkbox"),g.checked=k=(O=(Z=l[7])==null?void 0:Z.style)==null?void 0:O.highlightWords,f(g,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(d,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(W,"class","font-semibold text-lg text-white"),f(v,"class","space-y-4"),f(E,"class","font-semibold text-lg text-white"),f(U,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(q,C){P(q,e,C),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o),u(i,s),u(i,c),u(r,h),u(r,d),u(d,p),u(d,m),u(d,g),u(r,x),A&&A.m(r,null),u(e,b),u(e,v),u(v,W),u(v,H),w.m(v,null),u(e,L),u(e,U),u(U,E),u(U,$),G.m(U,null),R||(D=[J(c,"change",l[18]),J(g,"change",l[19])],R=!0)},p(q,C){var Z,O,ee,Y,te,_e;C[0]&1152&&a!==(a=(O=(Z=q[7])==null?void 0:Z.style)==null?void 0:O.wordByWord)&&(c.checked=a),C[0]&1152&&k!==(k=(Y=(ee=q[7])==null?void 0:ee.style)==null?void 0:Y.highlightWords)&&(g.checked=k),(_e=(te=q[7])==null?void 0:te.style)!=null&&_e.highlightWords?A?A.p(q,C):(A=El(q),A.c(),A.m(r,null)):A&&(A.d(1),A=null),M===(M=S(q))&&w?w.p(q,C):(w.d(1),w=M(q),w&&(w.c(),w.m(v,null))),T===(T=y(q))&&G?G.p(q,C):(G.d(1),G=T(q),G&&(G.c(),G.m(U,null)))},i:Q,o:Q,d(q){q&&I(e),A&&A.d(),w.d(),G.d(),R=!1,Fe(D)}}}function Br(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=K(`
          Generate Viral Content`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Rr(l){let e,t,n;return e=new st({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=K(`
          Generating Viral Content...`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Wr(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=K(`
          Auto-Generate Emojis`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Ar(l){let e,t,n;return e=new st({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=K(`
          Generating Emojis...`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Nr(l){let e,t,n;return e=new Bt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=K(`
          Generate B-Roll Suggestions`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Lr(l){let e,t,n;return e=new st({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=K(`
          Generating B-Roll...`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Ir(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=K(`
          Auto-Generate Zoom & Sound Effects`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function Dr(l){let e,t,n;return e=new st({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=K(`
          Generating Effects...`)},m(r,i){le(e,r,i),P(r,t,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&I(t),ne(e,r)}}}function _l(l){let e,t,n,r,i,o=j(l[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=bl(il(l,o,a));const c=a=>N(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),t=_("h4"),t.textContent="Suggested B-Roll Clips:",n=F(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(t,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(a,h){P(a,e,h),u(e,t),u(e,n),u(e,r);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(r,null);i=!0},p(a,h){if(h[0]&64){o=j(a[6]);let d;for(d=0;d<o.length;d+=1){const p=il(a,o,d);s[d]?(s[d].p(p,h),B(s[d],1)):(s[d]=bl(p),s[d].c(),B(s[d],1),s[d].m(r,null))}for(xe(),d=o.length;d<s.length;d+=1)c(d);Ce()}},i(a){if(!i){for(let h=0;h<o.length;h+=1)B(s[h]);i=!0}},o(a){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)N(s[h]);i=!1},d(a){a&&I(e),he(s,a)}}}function bl(l){let e,t,n,r,i,o,s,c,a=l[62].keyword+"",h,d,p,m,g,k;o=new dn({props:{class:"w-8 h-8 text-white"}});function x(){return l[33](l[62])}return{c(){e=_("div"),t=_("img"),r=F(),i=_("div"),re(o.$$.fragment),s=F(),c=_("span"),h=K(a),d=F(),Ke(t.src,n=l[62].thumbnail)||f(t,"src",n),f(t,"alt","B-Roll thumbnail"),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",p="Add to timeline: "+l[62].keyword)},m(b,v){P(b,e,v),u(e,t),u(e,r),u(e,i),le(o,i,null),u(e,s),u(e,c),u(c,h),u(e,d),m=!0,g||(k=J(e,"click",x),g=!0)},p(b,v){l=b,(!m||v[0]&64&&!Ke(t.src,n=l[62].thumbnail))&&f(t,"src",n),(!m||v[0]&64)&&a!==(a=l[62].keyword+"")&&ge(h,a),(!m||v[0]&64&&p!==(p="Add to timeline: "+l[62].keyword))&&f(e,"title",p)},i(b){m||(B(o.$$.fragment,b),m=!0)},o(b){N(o.$$.fragment,b),m=!1},d(b){b&&I(e),ne(o),g=!1,k()}}}function kl(l){let e,t,n,r,i,o,s,c,a,h,d=l[9].descriptions[0]+"",p,m,g,k,x,b,v=l[9].hashtags.join(" ")+"",W,H=j(l[9].hooks),L=[];for(let U=0;U<H.length;U+=1)L[U]=vl(rl(l,H,U));return{c(){e=_("div"),t=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=F(),i=_("ul");for(let U=0;U<L.length;U+=1)L[U].c();o=F(),s=_("div"),c=_("h4"),c.textContent="Description",a=F(),h=_("p"),p=K(d),m=F(),g=_("div"),k=_("h4"),k.textContent="Hashtags",x=F(),b=_("p"),W=K(v),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(i,"class","space-y-2"),f(t,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(c,"class","font-medium text-sm text-dark-text-light mb-2"),f(h,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(g,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(U,E){P(U,e,E),u(e,t),u(t,n),u(t,r),u(t,i);for(let $=0;$<L.length;$+=1)L[$]&&L[$].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h),u(h,p),u(e,m),u(e,g),u(g,k),u(g,x),u(g,b),u(b,W)},p(U,E){if(E[0]&512){H=j(U[9].hooks);let $;for($=0;$<H.length;$+=1){const R=rl(U,H,$);L[$]?L[$].p(R,E):(L[$]=vl(R),L[$].c(),L[$].m(i,null))}for(;$<L.length;$+=1)L[$].d(1);L.length=H.length}E[0]&512&&d!==(d=U[9].descriptions[0]+"")&&ge(p,d),E[0]&512&&v!==(v=U[9].hashtags.join(" ")+"")&&ge(W,v)},d(U){U&&I(e),he(L,U)}}}function vl(l){let e,t=l[65]+"",n;return{c(){e=_("li"),n=K(t),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,i){P(r,e,i),u(e,n)},p(r,i){i[0]&512&&t!==(t=r[65]+"")&&ge(n,t)},d(r){r&&I(e)}}}function zr(l){let e,t;return{c(){e=dt("svg"),t=dt("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){P(n,e,r),u(e,t)},i:Q,o:Q,d(n){n&&I(e)}}}function Pr(l){let e,t;return e=new st({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function wl(l){let e,t,n=j(l[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=yl(ol(l,n,o));const i=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(o,s){P(o,e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(o,s){if(s[0]&131088){n=j(o[4]);let c;for(c=0;c<n.length;c+=1){const a=ol(o,n,c);r[c]?(r[c].p(a,s),B(r[c],1)):(r[c]=yl(a),r[c].c(),B(r[c],1),r[c].m(e,null))}for(xe(),c=n.length;c<r.length;c+=1)i(c);Ce()}},i(o){if(!t){for(let s=0;s<n.length;s+=1)B(r[s]);t=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)N(r[s]);t=!1},d(o){o&&I(e),he(r,o)}}}function yl(l){let e,t,n,r,i,o,s,c,a,h;o=new dn({props:{class:"w-8 h-8 text-white"}});function d(){return l[32](l[62])}return{c(){e=_("button"),t=_("img"),r=F(),i=_("div"),re(o.$$.fragment),s=F(),Ke(t.src,n=l[62].thumbnail)||f(t,"src",n),f(t,"alt",""),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(p,m){P(p,e,m),u(e,t),u(e,r),u(e,i),le(o,i,null),u(e,s),c=!0,a||(h=J(e,"click",d),a=!0)},p(p,m){l=p,(!c||m[0]&16&&!Ke(t.src,n=l[62].thumbnail))&&f(t,"src",n)},i(p){c||(B(o.$$.fragment,p),c=!0)},o(p){N(o.$$.fragment,p),c=!1},d(p){p&&I(e),ne(o),a=!1,h()}}}function xl(l){let e,t,n,r,i,o,s;function c(){return l[24](l[58])}return{c(){e=_("button"),t=_("div"),t.textContent=`${l[58].replace("-"," ")}`,n=F(),r=_("div"),r.textContent=`${l[59].fontWeight}  ${l[59].animation}`,i=F(),f(t,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(a,h){P(a,e,h),u(e,t),u(e,n),u(e,r),u(e,i),o||(s=J(e,"click",c),o=!0)},p(a,h){l=a},d(a){a&&I(e),o=!1,s()}}}function Cl(l){let e,t=l[55]+"",n;return{c(){e=_("option"),n=K(t),e.__value=l[55],Ge(e,e.__value)},m(r,i){P(r,e,i),u(e,n)},p:Q,d(r){r&&I(e)}}}function Fl(l){let e,t=l[52].label+"",n,r,i,o,s;function c(){return l[27](l[52])}return{c(){var a,h;e=_("button"),n=K(t),r=F(),f(e,"class",i="flex-1 p-2 rounded-lg border text-sm transition "+((((h=(a=l[7])==null?void 0:a.style)==null?void 0:h.position)||"bottom")===l[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){P(a,e,h),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,h){var d,p;l=a,h[0]&1152&&i!==(i="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(d=l[7])==null?void 0:d.style)==null?void 0:p.position)||"bottom")===l[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&I(e),o=!1,s()}}}function Sl(l){let e,t=l[49].label+"",n;return{c(){e=_("option"),n=K(t),e.__value=l[49].id,Ge(e,e.__value)},m(r,i){P(r,e,i),u(e,n)},p:Q,d(r){r&&I(e)}}}function $l(l){let e,t,n,r,i,o;function s(){return l[29](l[46])}return{c(){var c,a;e=_("button"),t=K(l[46]),n=F(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.textShadow)||"medium")===l[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){P(c,e,a),u(e,t),u(e,n),i||(o=J(e,"click",s),i=!0)},p(c,a){var h,d;l=c,a[0]&1152&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(h=l[7])==null?void 0:h.style)==null?void 0:d.textShadow)||"medium")===l[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&I(e),i=!1,o()}}}function El(l){let e,t,n,r,i=j(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),o=[];for(let s=0;s<5;s+=1)o[s]=Ml(ml(l,i,s));return{c(){e=_("div"),t=_("label"),t.textContent="Highlight Color",n=F(),r=_("div");for(let s=0;s<5;s+=1)o[s].c();f(t,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,c){P(s,e,c),u(e,t),u(e,n),u(e,r);for(let a=0;a<5;a+=1)o[a]&&o[a].m(r,null)},p(s,c){if(c[0]&128){i=j(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let a;for(a=0;a<5;a+=1){const h=ml(s,i,a);o[a]?o[a].p(h,c):(o[a]=Ml(h),o[a].c(),o[a].m(r,null))}for(;a<5;a+=1)o[a].d(1)}},d(s){s&&I(e),he(o,s)}}}function Ml(l){let e,t,n,r;function i(){return l[20](l[43])}return{c(){var o,s;e=_("button"),f(e,"class",t="w-8 h-8 rounded-lg border-2 transition "+((((s=(o=l[7])==null?void 0:o.style)==null?void 0:s.highlightColor)||"#FFD700")===l[43]?"border-primary scale-110":"border-transparent hover:border-primary-light")),ye(e,"background-color",l[43])},m(o,s){P(o,e,s),n||(r=J(e,"click",i),n=!0)},p(o,s){var c,a;l=o,s[0]&1152&&t!==(t="w-8 h-8 rounded-lg border-2 transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.highlightColor)||"#FFD700")===l[43]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",t)},d(o){o&&I(e),n=!1,r()}}}function Hr(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(t,n){P(t,e,n)},p:Q,d(t){t&&I(e)}}}function Or(l){let e,t=j(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Bl(pl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){P(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=j(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=pl(r,t,o);n[o]?n[o].p(s,i):(n[o]=Bl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&I(e),he(n,r)}}}function Tl(l){let e,t,n=l[37].text+"",r,i,o,s,c,a;function h(){l[21].call(o,l[42],l[39])}function d(...p){return l[22](l[34],l[39],...p)}return{c(){e=_("div"),t=_("span"),r=K(n),i=F(),o=_("input"),s=F(),f(t,"class","text-white text-sm mr-1"),f(o,"type","text"),f(o,"maxlength","2"),f(o,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(o,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,m){P(p,e,m),u(e,t),u(t,r),u(e,i),u(e,o),Ge(o,l[37].emoji),u(e,s),c||(a=[J(o,"input",h),J(o,"input",d)],c=!0)},p(p,m){l=p,m[0]&128&&n!==(n=l[37].text+"")&&ge(r,n),m[0]&1152&&o.value!==l[37].emoji&&Ge(o,l[37].emoji)},d(p){p&&I(e),c=!1,Fe(a)}}}function Bl(l){let e,t,n,r=l[34].start.toFixed(2)+"",i,o,s=l[34].end.toFixed(2)+"",c,a,h,d,p,m=j(l[34].words),g=[];for(let k=0;k<m.length;k+=1)g[k]=Tl(gl(l,m,k));return{c(){e=_("div"),t=_("p"),n=K("Segment: "),i=K(r),o=K("s - "),c=K(s),a=K("s"),h=F(),d=_("div");for(let k=0;k<g.length;k+=1)g[k].c();p=F(),f(t,"class","text-xs text-dark-text mb-2"),f(d,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,x){P(k,e,x),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,h),u(e,d);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(d,null);u(e,p)},p(k,x){if(x[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&ge(i,r),x[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&ge(c,s),x[0]&128){m=j(k[34].words);let b;for(b=0;b<m.length;b+=1){const v=gl(k,m,b);g[b]?g[b].p(v,x):(g[b]=Tl(v),g[b].c(),g[b].m(d,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}},d(k){k&&I(e),he(g,k)}}}function Ur(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(t,n){P(t,e,n)},p:Q,d(t){t&&I(e)}}}function Vr(l){let e,t=j(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Wl(dl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){P(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=j(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=dl(r,t,o);n[o]?n[o].p(s,i):(n[o]=Wl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&I(e),he(n,r)}}}function Rl(l){let e,t,n=l[37].text+"",r,i,o,s,c,a,h;function d(...p){return l[23](l[34],l[39],...p)}return{c(){e=_("div"),t=_("span"),r=K(n),i=F(),o=_("input"),c=F(),f(t,"class","text-white text-sm mr-1"),f(o,"type","checkbox"),o.checked=s=l[37].isKeyword||!1,f(o,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,m){P(p,e,m),u(e,t),u(t,r),u(e,i),u(e,o),u(e,c),a||(h=J(o,"change",d),a=!0)},p(p,m){l=p,m[0]&128&&n!==(n=l[37].text+"")&&ge(r,n),m[0]&1152&&s!==(s=l[37].isKeyword||!1)&&(o.checked=s)},d(p){p&&I(e),a=!1,h()}}}function Wl(l){let e,t,n,r=l[34].start.toFixed(2)+"",i,o,s=l[34].end.toFixed(2)+"",c,a,h,d,p,m=j(l[34].words),g=[];for(let k=0;k<m.length;k+=1)g[k]=Rl(hl(l,m,k));return{c(){e=_("div"),t=_("p"),n=K("Segment: "),i=K(r),o=K("s - "),c=K(s),a=K("s"),h=F(),d=_("div");for(let k=0;k<g.length;k+=1)g[k].c();p=F(),f(t,"class","text-xs text-dark-text mb-2"),f(d,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,x){P(k,e,x),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,h),u(e,d);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(d,null);u(e,p)},p(k,x){if(x[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&ge(i,r),x[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&ge(c,s),x[0]&128){m=j(k[34].words);let b;for(b=0;b<m.length;b+=1){const v=hl(k,m,b);g[b]?g[b].p(v,x):(g[b]=Rl(v),g[b].c(),g[b].m(d,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}},d(k){k&&I(e),he(g,k)}}}function qr(l){let e,t,n,r;const i=[Tr,Mr,Er,$r],o=[];function s(c,a){return c[8]==="captions"?0:c[8]==="style"?1:c[8]==="broll"?2:c[8]==="ai-tools"?3:-1}return~(t=s(l))&&(n=o[t]=i[t](l)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(c,a){P(c,e,a),~t&&o[t].m(e,null),r=!0},p(c,a){let h=t;t=s(c),t===h?~t&&o[t].p(c,a):(n&&(xe(),N(o[h],1,1,()=>{o[h]=null}),Ce()),~t?(n=o[t],n?n.p(c,a):(n=o[t]=i[t](c),n.c()),B(n,1),n.m(e,null)):n=null)},i(c){r||(B(n),r=!0)},o(c){N(n),r=!1},d(c){c&&I(e),~t&&o[t].d()}}}function Yr(l,e,t){let n,r,i;Ne(l,fe,C=>t(7,n=C)),Ne(l,Ct,C=>t(8,r=C)),Ne(l,nl,C=>t(9,i=C));let o=!1,s=!1,c=!1,a="",h=[],d=!1,p=[];const m=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],g=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],k=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function x(){if(n){t(0,o=!0);try{const C=n.captions.map(O=>O.text).join(" "),Z=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:C})});if(Z.ok){const O=await Z.json();nl.set(O)}}catch(C){console.error("AI generation failed:",C)}finally{t(0,o=!1)}}}async function b(){if(!(!n||!n.captions.length)){t(1,s=!0);try{const C=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(C.ok){const Z=await C.json();fe.update(O=>({...O,captions:Z.captions,updatedAt:new Date}))}}catch(C){console.error("Emoji generation failed:",C)}finally{t(1,s=!1)}}}async function v(){if(!(!n||!n.captions.length)){t(2,c=!0),t(6,p=[]);try{const C=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(C.ok){const Z=await C.json();t(6,p=Z.broll_clips)}}catch(C){console.error("B-Roll generation failed:",C)}finally{t(2,c=!1)}}}async function W(){if(a){t(5,d=!0);try{const C=await fetch(`/api/broll/search?q=${encodeURIComponent(a)}`);if(C.ok){const Z=await C.json();t(4,h=Z.results||[])}}catch(C){console.error("B-Roll search failed:",C)}finally{t(5,d=!1)}}}function H(C){n&&fe.addBRoll({id:crypto.randomUUID(),url:C.video_url,thumbnail:C.thumbnail,start:n.videoDuration*.3,duration:5,source:C.source})}const L=C=>fe.updateStyle({wordByWord:C.target.checked}),U=C=>fe.updateStyle({highlightWords:C.target.checked}),E=C=>fe.updateStyle({highlightColor:C});function $(C,Z){C[Z].emoji=this.value,t(10,m)}const R=(C,Z,O)=>fe.updateWordEmoji(C.id,Z,O.target.value),D=(C,Z,O)=>fe.updateWordIsKeyword(C.id,Z,O.target.checked),A=C=>fe.applyPreset(C),S=C=>fe.updateStyle({fontFamily:C.target.value}),M=C=>fe.updateStyle({fontSize:parseInt(C.target.value)}),w=C=>fe.updateStyle({position:C.id}),y=C=>fe.updateStyle({animation:C.target.value}),T=C=>fe.updateStyle({textShadow:C});function G(){a=this.value,t(3,a)}return[o,s,c,a,h,d,p,n,r,i,m,g,k,x,b,v,W,H,L,U,E,$,R,D,A,S,M,w,y,T,G,C=>C.key==="Enter"&&W(),C=>H(C),C=>fe.addBRoll({...C,id:crypto.randomUUID()})]}class jr extends $e{constructor(e){super(),Se(this,e,Yr,qr,be,{},null,[-1,-1,-1])}}function Al(l,e,t){const n=l.slice();return n[27]=e[t],n}function Nl(l,e,t){const n=l.slice();return n[27]=e[t],n}function Ll(l,e,t){const n=l.slice();return n[32]=e[t],n}function Il(l,e,t){const n=l.slice();return n[35]=e[t],n}function Dl(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function zl(l){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),ye(e,"top",l[40]*10/l[1]*100+"%")},m(t,n){P(t,e,n)},p(t,n){n[0]&2&&ye(e,"top",t[40]*10/t[1]*100+"%")},d(t){t&&I(e)}}}function Pl(l){let e,t,n=l[35].text.slice(0,30)+"",r,i=l[35].text.length>30?"...":"",o,s,c,a,h,d,p;function m(){return l[16](l[35])}return{c(){e=_("button"),t=_("span"),r=K(n),o=K(i),s=F(),f(t,"class","truncate w-full text-center leading-tight text-xs"),f(e,"class",c="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-primary":"")),f(e,"style",a=l[12](l[35])),f(e,"title",h=l[35].text)},m(g,k){P(g,e,k),u(e,t),u(t,r),u(t,o),u(e,s),d||(p=J(e,"click",Et(m)),d=!0)},p(g,k){l=g,k[0]&64&&n!==(n=l[35].text.slice(0,30)+"")&&ge(r,n),k[0]&64&&i!==(i=l[35].text.length>30?"...":"")&&ge(o,i),k[0]&192&&c!==(c="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-primary":""))&&f(e,"class",c),k[0]&64&&a!==(a=l[12](l[35]))&&f(e,"style",a),k[0]&64&&h!==(h=l[35].text)&&f(e,"title",h)},d(g){g&&I(e),d=!1,p()}}}function Hl(l){let e,t=[],n=new Map,r,i=j(l[5]);const o=s=>s[32].id;for(let s=0;s<i.length;s+=1){let c=Ll(l,i,s),a=o(c);n.set(a,t[s]=Ol(a,c))}return{c(){e=_("div");for(let s=0;s<t.length;s+=1)t[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,c){P(s,e,c);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);r=!0},p(s,c){c[0]&2338&&(i=j(s[5]),xe(),t=Tt(t,c,o,1,s,i,n,e,Nn,Ol,null,Ll),Ce())},i(s){if(!r){for(let c=0;c<i.length;c+=1)B(t[c]);r=!0}},o(s){for(let c=0;c<t.length;c+=1)N(t[c]);r=!1},d(s){s&&I(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Ol(l,e){let t,n,r,i,o,s,c,a,h,d;n=new Bt({props:{class:"w-3 h-3 text-white"}}),o=new sr({props:{class:"w-3 h-3"}});function p(){return e[17](e[32])}function m(...g){return e[18](e[32],...g)}return{key:l,first:null,c(){t=_("div"),re(n.$$.fragment),r=F(),i=_("button"),re(o.$$.fragment),s=F(),f(i,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(i,"title","Remove B-Roll Clip"),f(t,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),ye(t,"top",e[32].start/e[1]*100+"%"),ye(t,"height",e[32].duration/e[1]*100+"%"),f(t,"title",c="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=t},m(g,k){P(g,t,k),le(n,t,null),u(t,r),u(t,i),le(o,i,null),u(t,s),a=!0,h||(d=[J(i,"click",Et(p)),J(t,"mousedown",m)],h=!0)},p(g,k){e=g,(!a||k[0]&34)&&ye(t,"top",e[32].start/e[1]*100+"%"),(!a||k[0]&34)&&ye(t,"height",e[32].duration/e[1]*100+"%"),(!a||k[0]&32&&c!==(c="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(t,"title",c)},i(g){a||(B(n.$$.fragment,g),B(o.$$.fragment,g),a=!0)},o(g){N(n.$$.fragment,g),N(o.$$.fragment,g),a=!1},d(g){g&&I(t),ne(n),ne(o),h=!1,Fe(d)}}}function Ul(l){let e,t=[],n=new Map,r=j(l[4]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Nl(l,r,o),c=i(s);n.set(c,t[o]=Vl(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(o,s){P(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&18&&(r=j(o[4]),t=Tt(t,s,i,1,o,r,n,e,fn,Vl,null,Nl))},d(o){o&&I(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Vl(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),ye(t,"top",e[27].start/e[1]*100+"%"),ye(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),f(t,"title",n="Zoom: "+e[27].type+" at "+Je(e[27].start)),this.first=t},m(r,i){P(r,t,i)},p(r,i){e=r,i[0]&18&&ye(t,"top",e[27].start/e[1]*100+"%"),i[0]&18&&ye(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),i[0]&16&&n!==(n="Zoom: "+e[27].type+" at "+Je(e[27].start))&&f(t,"title",n)},d(r){r&&I(t)}}}function ql(l){let e,t=[],n=new Map,r=j(l[3]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Al(l,r,o),c=i(s);n.set(c,t[o]=Yl(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(o,s){P(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&10&&(r=j(o[3]),t=Tt(t,s,i,1,o,r,n,e,fn,Yl,null,Al))},d(o){o&&I(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Yl(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),ye(t,"top",e[27].start/e[1]*100+"%"),f(t,"title",n="Sound: "+e[27].type+" at "+Je(e[27].start)),this.first=t},m(r,i){P(r,t,i)},p(r,i){e=r,i[0]&10&&ye(t,"top",e[27].start/e[1]*100+"%"),i[0]&8&&n!==(n="Sound: "+e[27].type+" at "+Je(e[27].start))&&f(t,"title",n)},d(r){r&&I(t)}}}function Kr(l){let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v=Je(l[2])+"",W,H,L,U,E=j(Array(Math.max(1,Math.ceil(l[1]/10)))),$=[];for(let w=0;w<E.length;w+=1)$[w]=zl(Dl(l,E,w));let R=j(l[6]),D=[];for(let w=0;w<R.length;w+=1)D[w]=Pl(Il(l,R,w));let A=l[5].length>0&&Hl(l),S=l[4].length>0&&Ul(l),M=l[3].length>0&&ql(l);return{c(){e=_("div"),t=_("div"),t.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=F(),r=_("div"),i=_("button"),o=_("div");for(let w=0;w<$.length;w+=1)$[w].c();s=F(),c=_("div");for(let w=0;w<D.length;w+=1)D[w].c();a=F(),A&&A.c(),h=F(),S&&S.c(),d=F(),M&&M.c(),p=F(),m=_("div"),g=_("div"),k=F(),x=_("div"),b=_("span"),W=K(v),f(t,"class","h-10 border-b border-dark-lighter flex items-center justify-center px-2 bg-dark-light"),f(o,"class","absolute inset-0 pointer-events-none"),f(c,"class","absolute top-0 bottom-0 left-2 right-2"),f(g,"class","absolute -left-1.5 -top-1 w-3 h-3 bg-red-500 rounded-full"),f(m,"class","absolute left-0 right-0 h-0.5 bg-red-500 z-10 pointer-events-none transition-all duration-75 ease-linear"),f(m,"style",l[13]()),f(i,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(i,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f(x,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(w,y){P(w,e,y),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o);for(let T=0;T<$.length;T+=1)$[T]&&$[T].m(o,null);u(i,s),u(i,c);for(let T=0;T<D.length;T+=1)D[T]&&D[T].m(c,null);u(i,a),A&&A.m(i,null),u(i,h),S&&S.m(i,null),u(i,d),M&&M.m(i,null),u(i,p),u(i,m),u(m,g),l[19](i),u(e,k),u(e,x),u(x,b),u(b,W),H=!0,L||(U=J(i,"click",l[9]),L=!0)},p(w,y){if(y[0]&2){E=j(Array(Math.max(1,Math.ceil(w[1]/10))));let T;for(T=0;T<E.length;T+=1){const G=Dl(w,E,T);$[T]?$[T].p(G,y):($[T]=zl(G),$[T].c(),$[T].m(o,null))}for(;T<$.length;T+=1)$[T].d(1);$.length=E.length}if(y[0]&5312){R=j(w[6]);let T;for(T=0;T<R.length;T+=1){const G=Il(w,R,T);D[T]?D[T].p(G,y):(D[T]=Pl(G),D[T].c(),D[T].m(c,null))}for(;T<D.length;T+=1)D[T].d(1);D.length=R.length}w[5].length>0?A?(A.p(w,y),y[0]&32&&B(A,1)):(A=Hl(w),A.c(),B(A,1),A.m(i,h)):A&&(xe(),N(A,1,1,()=>{A=null}),Ce()),w[4].length>0?S?S.p(w,y):(S=Ul(w),S.c(),S.m(i,d)):S&&(S.d(1),S=null),w[3].length>0?M?M.p(w,y):(M=ql(w),M.c(),M.m(i,p)):M&&(M.d(1),M=null),(!H||y[0]&4)&&v!==(v=Je(w[2])+"")&&ge(W,v)},i(w){H||(B(A),H=!0)},o(w){N(A),H=!1},d(w){w&&I(e),he($,w),he(D,w),A&&A.d(),S&&S.d(),M&&M.d(),l[19](null),L=!1,U()}}}function Gr(l,e,t){let n,r,i,o,s,c,a,h,d;Ne(l,fe,w=>t(14,a=w)),Ne(l,De,w=>t(15,h=w)),Ne(l,it,w=>t(7,d=w));let p,m=!1,g=null,k=0,x=0,b;Mt(()=>(b=p.getBoundingClientRect(),window.addEventListener("mousemove",W),window.addEventListener("mouseup",H),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",H)}));function v(w,y,T){w.button===0&&(m=!0,g=y,k=w.clientY,x=T,b=p.getBoundingClientRect(),w.preventDefault())}function W(w){var ue;if(!m||!g||!p)return;const G=(w.clientY-k)/b.height*n;let X=x+G;X=Math.max(0,Math.min(X,n-(((ue=a.bRollClips.find(q=>q.id===g))==null?void 0:ue.duration)||0))),fe.updateBRollClipStart(g,X)}function H(){m=!1,g=null}function L(w){if(!p||n<=0||m)return;const y=p.getBoundingClientRect(),T=w.clientY-y.top,X=Math.max(0,Math.min(1,T/y.height))*n;De.setCurrentTime(X),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:X}}))}function U(w){it.update(y=>({...y,selectedCaptionId:w.id})),De.setCurrentTime(w.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:w.start}}))}function E(w){fe.removeBRoll(w)}function $(w){const y=w.start/n*100,T=(w.end-w.start)/n*100;return`top: ${y}%; height: ${Math.max(1,T)}%;`}function R(){if(!n||n<=0)return"top: 0%;";const w=c/n*100;return`top: ${Math.max(0,Math.min(100,w))}%;`}const D=w=>U(w),A=w=>E(w.id),S=(w,y)=>v(y,w.id,w.start);function M(w){rt[w?"unshift":"push"](()=>{p=w,t(0,p)})}return l.$$.update=()=>{l.$$.dirty[0]&16384&&t(1,n=(a==null?void 0:a.videoDuration)||1),l.$$.dirty[0]&16384&&t(6,r=(a==null?void 0:a.captions)||[]),l.$$.dirty[0]&16384&&t(5,i=(a==null?void 0:a.bRollClips)||[]),l.$$.dirty[0]&16384&&t(4,o=(a==null?void 0:a.zoomEffects)||[]),l.$$.dirty[0]&16384&&t(3,s=(a==null?void 0:a.soundEffects)||[]),l.$$.dirty[0]&32768&&t(2,c=h.currentTime)},[p,n,c,s,o,i,r,d,v,L,U,E,$,R,a,h,D,A,S,M]}class Zr extends $e{constructor(e){super(),Se(this,e,Gr,Kr,be,{},null,[-1,-1])}}function Jr(l){const e=l-1;return e*e*e+1}function jl(l,{delay:e=0,duration:t=400,easing:n=ln}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function Kl(l,{delay:e=0,duration:t=400,easing:n=Jr,start:r=0,opacity:i=0}={}){const o=getComputedStyle(l),s=+o.opacity,c=o.transform==="none"?"":o.transform,a=1-r,h=s*(1-i);return{delay:e,duration:t,easing:n,css:(d,p)=>`
			transform: ${c} scale(${1-a*p});
			opacity: ${s-h*p}
		`}}function Gl(l,e,t){const n=l.slice();return n[14]=e[t],n}function Zl(l,e,t){const n=l.slice();return n[17]=e[t],n}function Jl(l,e,t){const n=l.slice();return n[20]=e[t],n}function Xl(l){let e,t,n,r,i,o,s,c,a;function h(m,g){return m[1]?Qr:Xr}let d=h(l),p=d(l);return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="Export Video",r=F(),p.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(t,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(m,g){P(m,e,g),u(e,t),u(t,n),u(t,r),p.m(t,null),s=!0,c||(a=[J(t,"click",Et(l[8])),J(e,"click",l[6]),J(e,"keydown",l[12])],c=!0)},p(m,g){d===(d=h(m))&&p?p.p(m,g):(p.d(1),p=d(m),p&&(p.c(),p.m(t,null)))},i(m){s||(m&&Ze(()=>{s&&(i||(i=ut(t,Kl,{duration:200,start:.95},!0)),i.run(1))}),m&&Ze(()=>{s&&(o||(o=ut(e,jl,{duration:200},!0)),o.run(1))}),s=!0)},o(m){m&&(i||(i=ut(t,Kl,{duration:200,start:.95},!1)),i.run(0)),m&&(o||(o=ut(e,jl,{duration:200},!1)),o.run(0)),s=!1},d(m){m&&I(e),p.d(),m&&i&&i.end(),m&&o&&o.end(),c=!1,Fe(a)}}}function Xr(l){let e,t,n,r,i,o,s,c,a,h,d,p,m,g,k,x,b,v,W,H,L,U,E=j(["1080x1920","1920x1080","1080x1080"]),$=[];for(let M=0;M<3;M+=1)$[M]=Ql(Jl(l,E,M));let R=j([24,30,60]),D=[];for(let M=0;M<3;M+=1)D[M]=en(Zl(l,R,M));let A=j(["standard","high","ultra"]),S=[];for(let M=0;M<3;M+=1)S[M]=tn(Gl(l,A,M));return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Resolution",r=F(),i=_("div");for(let M=0;M<3;M+=1)$[M].c();o=F(),s=_("div"),c=_("label"),c.textContent="Frame Rate",a=F(),h=_("div");for(let M=0;M<3;M+=1)D[M].c();d=F(),p=_("div"),m=_("label"),m.textContent="Quality",g=F(),k=_("div");for(let M=0;M<3;M+=1)S[M].c();x=F(),b=_("div"),v=_("button"),v.textContent="Cancel",W=F(),H=_("button"),H.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(c,"class","text-sm text-dark-text-light mb-2 block"),f(h,"class","flex gap-2"),f(m,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f(v,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(H,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(M,w){P(M,e,w),u(e,t),u(t,n),u(t,r),u(t,i);for(let y=0;y<3;y+=1)$[y]&&$[y].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h);for(let y=0;y<3;y+=1)D[y]&&D[y].m(h,null);u(e,d),u(e,p),u(p,m),u(p,g),u(p,k);for(let y=0;y<3;y+=1)S[y]&&S[y].m(k,null);u(e,x),u(e,b),u(b,v),u(b,W),u(b,H),L||(U=[J(v,"click",l[6]),J(H,"click",l[5])],L=!0)},p(M,w){if(w&1){E=j(["1080x1920","1920x1080","1080x1080"]);let y;for(y=0;y<3;y+=1){const T=Jl(M,E,y);$[y]?$[y].p(T,w):($[y]=Ql(T),$[y].c(),$[y].m(i,null))}for(;y<3;y+=1)$[y].d(1)}if(w&1){R=j([24,30,60]);let y;for(y=0;y<3;y+=1){const T=Zl(M,R,y);D[y]?D[y].p(T,w):(D[y]=en(T),D[y].c(),D[y].m(h,null))}for(;y<3;y+=1)D[y].d(1)}if(w&1){A=j(["standard","high","ultra"]);let y;for(y=0;y<3;y+=1){const T=Gl(M,A,y);S[y]?S[y].p(T,w):(S[y]=tn(T),S[y].c(),S[y].m(k,null))}for(;y<3;y+=1)S[y].d(1)}},d(M){M&&I(e),he($,M),he(D,M),he(S,M),L=!1,Fe(U)}}}function Qr(l){let e,t,n,r,i,o,s,c,a,h,d,p,m;return{c(){e=_("div"),t=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=F(),i=_("p"),o=K(l[3]),s=F(),c=_("p"),a=K(l[2]),h=K("% complete"),d=F(),p=_("div"),m=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(i,"class","text-lg font-medium text-white"),f(c,"class","text-sm text-dark-text-light mt-1"),f(t,"class","text-center"),f(m,"class","h-full bg-primary transition-all duration-300"),ye(m,"width",l[2]+"%"),f(p,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(g,k){P(g,e,k),u(e,t),u(t,n),u(t,r),u(t,i),u(i,o),u(t,s),u(t,c),u(c,a),u(c,h),u(e,d),u(e,p),u(p,m)},p(g,k){k&8&&ge(o,g[3]),k&4&&ge(a,g[2]),k&4&&ye(m,"width",g[2]+"%")},d(g){g&&I(e)}}}function Ql(l){let e,t=l[20].split("x")[0]==="1080"&&l[20].split("x")[1]==="1920"?"9:16":l[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,i,o,s;function c(){return l[9](l[20])}return{c(){e=_("button"),n=K(t),r=F(),f(e,"class",i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){P(a,e,h),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,h){l=a,h&1&&i!==(i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&I(e),o=!1,s()}}}function en(l){let e,t,n,r,i,o;function s(){return l[10](l[17])}return{c(){e=_("button"),t=K(l[17]),n=K(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){P(c,e,a),u(e,t),u(e,n),i||(o=J(e,"click",s),i=!0)},p(c,a){l=c,a&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&I(e),i=!1,o()}}}function tn(l){let e,t=l[14].charAt(0).toUpperCase()+l[14].slice(1)+"",n,r,i,o,s;function c(){return l[11](l[14])}return{c(){e=_("button"),n=K(t),r=F(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){P(a,e,h),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,h){l=a,h&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&I(e),o=!1,s()}}}function ei(l){let e,t=l[4]&&Xl(l);return{c(){t&&t.c(),e=$t()},m(n,r){t&&t.m(n,r),P(n,e,r)},p(n,[r]){n[4]?t?(t.p(n,r),r&16&&B(t,1)):(t=Xl(n),t.c(),B(t,1),t.m(e.parentNode,e)):t&&(xe(),N(t,1,1,()=>{t=null}),Ce())},i(n){B(t)},o(n){N(t)},d(n){n&&I(e),t&&t.d(n)}}}function ti(l,e,t){let n,r,i;Ne(l,fe,b=>t(13,r=b)),Ne(l,it,b=>t(7,i=b));let o={resolution:"1080x1920",fps:30,quality:"high"},s=!1,c=0,a="";async function h(){if(r){t(1,s=!0),t(3,a="Preparing..."),t(2,c=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:o,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const v=await b.json(),W=setInterval(async()=>{const L=await(await fetch(`/api/export/status/${v.export_id}`)).json();t(2,c=L.progress||0),t(3,a=L.message||"Processing..."),L.status==="completed"?(clearInterval(W),t(1,s=!1),window.open(L.download_url,"_blank"),d()):L.status==="failed"&&(clearInterval(W),t(1,s=!1),t(3,a="Export failed"))},2e3)}catch(b){t(1,s=!1),t(3,a="Export failed"),console.error("Export error:",b)}}}function d(){s||it.update(b=>({...b,isExporting:!1}))}function p(b){En.call(this,l,b)}const m=b=>t(0,o.resolution=b,o),g=b=>t(0,o.fps=b,o),k=b=>t(0,o.quality=b,o),x=b=>b.key==="Escape"&&d();return l.$$.update=()=>{l.$$.dirty&128&&t(4,n=i.isExporting)},[o,s,c,a,n,h,d,i,p,m,g,k,x]}class li extends $e{constructor(e){super(),Se(this,e,ti,ei,be,{})}}function ni(l){let e,t;return e=new yr({props:{$$slots:{timeline:[ui],panel:[ci],preview:[ai],sidebar:[si]},$$scope:{ctx:l}}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p(n,r){const i={};r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ri(l){let e,t,n,r,i,o,s,c,a,h,d,p,m;return{c(){e=_("div"),t=_("h2"),t.textContent="Start Creating Magic",n=F(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,i=F(),o=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,c=F(),a=_("a"),a.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,h=F(),d=_("p"),d.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(t,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(a,"href","/dashboard"),f(a,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(o,"class","flex gap-4 mb-12 animate-bounce-in"),f(d,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(g,k){P(g,e,k),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),u(e,h),u(e,d),p||(m=J(s,"click",l[3]),p=!0)},p:Q,i:Q,o:Q,d(g){g&&I(e),p=!1,m()}}}function ii(l){let e,t;return{c(){e=_("div"),t=K(l[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){P(n,e,r),u(e,t)},p(n,r){r&2&&ge(t,n[1])},i:Q,o:Q,d(n){n&&I(e)}}}function oi(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(t,n){P(t,e,n)},p:Q,i:Q,o:Q,d(t){t&&I(e)}}}function si(l){let e,t;return e=new gr({props:{slot:"sidebar"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ai(l){let e,t;return e=new Sr({props:{slot:"preview"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ci(l){let e,t;return e=new jr({props:{slot:"panel"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ui(l){let e,t;return e=new Zr({props:{slot:"timeline"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(B(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function fi(l){let e,t,n,r,i,o;const s=[oi,ii,ri,ni],c=[];function a(h,d){return h[0]?0:h[1]?1:h[2]?3:2}return t=a(l),n=c[t]=s[t](l),i=new li({}),{c(){e=_("main"),n.c(),r=F(),re(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(h,d){P(h,e,d),c[t].m(e,null),P(h,r,d),le(i,h,d),o=!0},p(h,[d]){let p=t;t=a(h),t===p?c[t].p(h,d):(xe(),N(c[p],1,1,()=>{c[p]=null}),Ce(),n=c[t],n?n.p(h,d):(n=c[t]=s[t](h),n.c()),B(n,1),n.m(e,null))},i(h){o||(B(n),B(i.$$.fragment,h),o=!0)},o(h){N(n),N(i.$$.fragment,h),o=!1},d(h){h&&(I(e),I(r)),c[t].d(),ne(i,h)}}}function di(l,e,t){let n;Ne(l,fe,a=>t(2,n=a));let r=null,i=!0,o=null;Mt(async()=>{const a=window.location.pathname.split("/"),h=a.indexOf("edit");h>-1&&a.length>h+1?(r=a[h+1],await s(r)):t(0,i=!1)});async function s(a){try{t(0,i=!0);const h=await fetch(`/api/editor_data/${a}`);if(!h.ok)throw new Error("Failed to load project");const d=await h.json(),p=d.captions||[],m=p.length>0&&p[p.length-1].words.length>0?p[p.length-1].words[p[p.length-1].words.length-1].end:0;fe.set({id:d.job_id,name:d.original_filename||"Untitled",videoUrl:d.video_url,videoDuration:m,captions:p,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:d.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date}),m&&De.update(g=>({...g,duration:m}))}catch(h){t(1,o=h instanceof Error?h.message:"Failed to load project")}finally{t(0,i=!1)}}return[i,o,n,()=>window.location.href="/upload"]}class hi extends $e{constructor(e){super(),Se(this,e,di,fi,be,{})}}new hi({target:document.getElementById("app")});
