var kn=Object.defineProperty;var vn=(t,e,l)=>e in t?kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var kt=(t,e,l)=>vn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();function J(){}const fn=t=>t;function oe(t,e){for(const l in e)t[l]=e[l];return t}function dn(t){return t()}function Ot(){return Object.create(null)}function $e(t){t.forEach(dn)}function Ft(t){return typeof t=="function"}function ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let at;function Ie(t,e){return t===e?!0:(at||(at=document.createElement("a")),at.href=e,t===at.href)}function yn(t){return Object.keys(t).length===0}function wn(t,...e){if(t==null){for(const n of e)n(void 0);return J}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Re(t,e,l){t.$$.on_destroy.push(wn(e,l))}function Ee(t,e,l,n){if(t){const r=hn(t,e,l,n);return t[0](r)}}function hn(t,e,l,n){return t[1]&&n?oe(l.ctx.slice(),t[1](n(e))):l.ctx}function Me(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let s=0;s<i;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function Be(t,e,l,n,r,o){if(r){const i=hn(e,l,n,o);t.p(i,r)}}function Te(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function we(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Ht(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const pn=typeof window<"u";let $n=pn?()=>window.performance.now():()=>Date.now(),St=pn?t=>requestAnimationFrame(t):J;const Ye=new Set;function gn(t){Ye.forEach(e=>{e.c(t)||(Ye.delete(e),e.f())}),Ye.size!==0&&St(gn)}function Cn(t){let e;return Ye.size===0&&St(gn),{promise:new Promise(l=>{Ye.add(e={c:t,f:l})}),abort(){Ye.delete(e)}}}function u(t,e){t.appendChild(e)}function mn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function xn(t){const e=_("style");return e.textContent="/* empty */",Fn(mn(t),e),e.sheet}function Fn(t,e){return u(t.head||t,e),e.sheet}function j(t,e,l){t.insertBefore(e,l||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function fe(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function Oe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function U(t){return document.createTextNode(t)}function S(){return U(" ")}function Et(){return U("")}function Y(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Mt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function dt(t,e){for(const l in e)f(t,l,e[l])}function Sn(t){return Array.from(t.childNodes)}function de(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ze(t,e){t.value=e??""}function ae(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function ct(t,e,l){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function En(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Ut(t,e){return new t(e)}const ht=new Map;let pt=0;function Mn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Bn(t,e){const l={stylesheet:xn(e),rules:{}};return ht.set(t,l),l}function Vt(t,e,l,n,r,o,i,s=0){const c=16.666/n;let a=`{
`;for(let $=0;$<=1;$+=c){const b=e+(l-e)*o($);a+=$*100+`%{${i(b,1-b)}}
`}const d=a+`100% {${i(l,1-l)}}
}`,p=`__svelte_${Mn(d)}_${s}`,m=mn(t),{stylesheet:g,rules:h}=ht.get(m)||Bn(m,t);h[p]||(h[p]=!0,g.insertRule(`@keyframes ${p} ${d}`,g.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${p} ${n}ms linear ${r}ms 1 both`,pt+=1,p}function Tn(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=l.length-n.length;r&&(t.style.animation=n.join(", "),pt-=r,pt||Rn())}function Rn(){St(()=>{pt||(ht.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&A(e)}),ht.clear())})}let ot;function rt(t){ot=t}function zn(){if(!ot)throw new Error("Function called outside component initialization");return ot}function Bt(t){zn().$$.on_mount.push(t)}function Wn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Ge=[],gt=[];let Ke=[];const qt=[],Dn=Promise.resolve();let $t=!1;function Nn(){$t||($t=!0,Dn.then(_n))}function Je(t){Ke.push(t)}const vt=new Set;let Ve=0;function _n(){if(Ve!==0)return;const t=ot;do{try{for(;Ve<Ge.length;){const e=Ge[Ve];Ve++,rt(e),Pn(e.$$)}}catch(e){throw Ge.length=0,Ve=0,e}for(rt(null),Ge.length=0,Ve=0;gt.length;)gt.pop()();for(let e=0;e<Ke.length;e+=1){const l=Ke[e];vt.has(l)||(vt.add(l),l())}Ke.length=0}while(Ge.length);for(;qt.length;)qt.pop()();$t=!1,vt.clear(),rt(t)}function Pn(t){if(t.fragment!==null){t.update(),$e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Je)}}function An(t){const e=[],l=[];Ke.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ke=e}let nt;function Ln(){return nt||(nt=Promise.resolve(),nt.then(()=>{nt=null})),nt}function yt(t,e,l){t.dispatchEvent(En(`${e?"intro":"outro"}${l}`))}const ft=new Set;let Le;function pe(){Le={r:0,c:[],p:Le}}function ge(){Le.r||$e(Le.c),Le=Le.p}function R(t,e){t&&t.i&&(ft.delete(t),t.i(e))}function D(t,e,l,n){if(t&&t.o){if(ft.has(t))return;ft.add(t),Le.c.push(()=>{ft.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const jn={duration:0};function ut(t,e,l,n){let o=e(t,l,{direction:"both"}),i=n?0:1,s=null,c=null,a=null,d;function p(){a&&Tn(t,a)}function m(h,k){const $=h.b-i;return k*=Math.abs($),{a:i,b:h.b,d:$,duration:k,start:h.start,end:h.start+k,group:h.group}}function g(h){const{delay:k=0,duration:$=300,easing:b=fn,tick:v=J,css:N}=o||jn,L={start:$n()+k,b:h};h||(L.group=Le,Le.r+=1),"inert"in t&&(h?d!==void 0&&(t.inert=d):(d=t.inert,t.inert=!0)),s||c?c=L:(N&&(p(),a=Vt(t,i,h,$,k,b,N)),h&&v(0,1),s=m(L,$),Je(()=>yt(t,h,"start")),Cn(z=>{if(c&&z>c.start&&(s=m(c,$),c=null,yt(t,s.b,"start"),N&&(p(),a=Vt(t,i,s.b,s.duration,0,b,o.css))),s){if(z>=s.end)v(i=s.b,1-i),yt(t,s.b,"end"),c||(s.b?p():--s.group.r||$e(s.group.c)),s=null;else if(z>=s.start){const C=z-s.start;i=s.a+s.d*b(C/s.duration),v(i,1-i)}}return!!(s||c)}))}return{run(h){Ft(o)?Ln().then(()=>{o=o({direction:h?"in":"out"}),g(h)}):g(h)},end(){p(),s=c=null}}}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function bn(t,e){t.d(1),e.delete(t.key)}function In(t,e){D(t,1,1,()=>{e.delete(t.key)})}function Tt(t,e,l,n,r,o,i,s,c,a,d,p){let m=t.length,g=o.length,h=m;const k={};for(;h--;)k[t[h].key]=h;const $=[],b=new Map,v=new Map,N=[];for(h=g;h--;){const E=p(r,o,h),F=l(E);let I=i.get(F);I?N.push(()=>I.p(E,e)):(I=a(F,E),I.c()),b.set(F,$[h]=I),F in k&&v.set(F,Math.abs(h-k[F]))}const L=new Set,z=new Set;function C(E){R(E,1),E.m(s,d),i.set(E.key,E),d=E.first,g--}for(;m&&g;){const E=$[g-1],F=t[m-1],I=E.key,B=F.key;E===F?(d=E.first,m--,g--):b.has(B)?!i.has(I)||L.has(I)?C(E):z.has(B)?m--:v.get(I)>v.get(B)?(z.add(I),C(E)):(L.add(B),m--):(c(F,i),m--)}for(;m--;){const E=t[m];b.has(E.key)||c(E,i)}for(;g;)C($[g-1]);return $e(N),$}function je(t,e){const l={},n={},r={$$scope:1};let o=t.length;for(;o--;){const i=t[o],s=e[o];if(s){for(const c in i)c in s||(n[c]=1);for(const c in s)r[c]||(l[c]=s[c],r[c]=1);t[o]=s}else for(const c in i)r[c]=1}for(const i in n)i in l||(l[i]=void 0);return l}function He(t){return typeof t=="object"&&t!==null?t:{}}function ee(t){t&&t.c()}function Q(t,e,l){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,l),Je(()=>{const o=t.$$.on_mount.map(dn).filter(Ft);t.$$.on_destroy?t.$$.on_destroy.push(...o):$e(o),t.$$.on_mount=[]}),r.forEach(Je)}function X(t,e){const l=t.$$;l.fragment!==null&&(An(l.after_update),$e(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function On(t,e){t.$$.dirty[0]===-1&&(Ge.push(t),Nn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ce(t,e,l,n,r,o,i=null,s=[-1]){const c=ot;rt(t);const a=t.$$={fragment:null,ctx:[],props:o,update:J,not_equal:r,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ot(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};i&&i(a.root);let d=!1;if(a.ctx=l?l(t,e.props||{},(p,m,...g)=>{const h=g.length?g[0]:m;return a.ctx&&r(a.ctx[p],a.ctx[p]=h)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](h),d&&On(t,p)),m}):[],a.update(),d=!0,$e(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const p=Sn(e.target);a.fragment&&a.fragment.l(p),p.forEach(A)}else a.fragment&&a.fragment.c();e.intro&&R(t.$$.fragment),Q(t,e.target,e.anchor),_n()}rt(c)}class xe{constructor(){kt(this,"$$");kt(this,"$$set")}$destroy(){X(this,1),this.$destroy=J}$on(e,l){if(!Ft(l))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!yn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hn);const qe=[];function st(t,e=J){let l;const n=new Set;function r(s){if(ye(t,s)&&(t=s,l)){const c=!qe.length;for(const a of n)a[1](),qe.push(a,t);if(c){for(let a=0;a<qe.length;a+=2)qe[a][0](qe[a+1]);qe.length=0}}}function o(s){r(s(t))}function i(s,c=J){const a=[s,c];return n.add(a),n.size===1&&(l=e(r,o)||J),s(t),()=>{n.delete(a),n.size===0&&l&&(l(),l=null)}}return{set:r,update:o,subscribe:i}}const Ct={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},Gt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function Un(){const{subscribe:t,set:e,update:l}=st({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:Gt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:t,set:e,update:l,updateCaption:(n,r)=>{l(o=>{if(!o)return o;const i=o.captions.map(s=>s.id===n?{...s,...r}:s);return{...o,captions:i,updatedAt:new Date}})},updateStyle:n=>{l(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{l(r=>{if(!r)return r;const o=Ct[n];return o?{...r,style:{...Gt,...o},updatedAt:new Date}:r})},addBRoll:n=>{l(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{l(r=>r&&{...r,bRollClips:r.bRollClips.filter(o=>o.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,o)=>{l(i=>{if(!i)return i;const s=i.captions.map(c=>{if(c.id===n){const a=c.words.map((d,p)=>p===r?{...d,emoji:o||null}:d);return{...c,words:a}}return c});return{...i,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,o)=>{l(i=>{if(!i)return i;const s=i.captions.map(c=>{if(c.id===n){const a=c.words.map((d,p)=>p===r?{...d,isKeyword:o}:d);return{...c,words:a}}return c});return{...i,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{l(o=>{if(!o)return o;const i=o.bRollClips.map(s=>{if(s.id===n){const c=Math.max(0,r);return{...s,start:c}}return s});return{...o,bRollClips:i,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{l(o=>{if(!o)return o;const i=o.bRollClips.map(s=>{if(s.id===n){const c=Math.max(.1,r);return{...s,duration:c}}return s});return{...o,bRollClips:i,updatedAt:new Date}})},addZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(o=>o.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{l(o=>{if(!o)return o;const i=o.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...o,zoomEffects:i,updatedAt:new Date}})},addSoundEffect:n=>{l(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{l(r=>r&&{...r,soundEffects:r.soundEffects.filter(o=>o.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{l(o=>{if(!o)return o;const i=o.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...o,soundEffects:i,updatedAt:new Date}})}}}const se=Un();function Vn(){const{subscribe:t,set:e,update:l}=st({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:l,setCurrentTime:n=>l(r=>({...r,currentTime:n})),setPlaying:n=>l(r=>({...r,isPlaying:n})),togglePlay:()=>l(n=>({...n,isPlaying:!n.isPlaying}))}}const We=Vn(),xt=st("captions"),it=st({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Kt(t,e,l){const n=t.slice();return n[10]=e[l][0],n[11]=e[l][1],n}function wt(t){let e,l=[t[11]],n={};for(let r=0;r<l.length;r+=1)n=oe(n,l[r]);return{c(){e=Oe(t[10]),dt(e,n)},m(r,o){j(r,e,o)},p(r,o){dt(e,n=je(l,[o&32&&r[11]]))},d(r){r&&A(e)}}}function Zt(t){let e=t[10],l,n=t[10]&&wt(t);return{c(){n&&n.c(),l=Et()},m(r,o){n&&n.m(r,o),j(r,l,o)},p(r,o){r[10]?e?ye(e,r[10])?(n.d(1),n=wt(r),e=r[10],n.c(),n.m(l.parentNode,l)):n.p(r,o):(n=wt(r),e=r[10],n.c(),n.m(l.parentNode,l)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&A(l),n&&n.d(r)}}}function qn(t){let e,l,n,r,o,i=V(t[5]),s=[];for(let m=0;m<i.length;m+=1)s[m]=Zt(Kt(t,i,m));const c=t[9].default,a=Ee(c,t,t[8],null);let d=[Yt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],p={};for(let m=0;m<d.length;m+=1)p=oe(p,d[m]);return{c(){e=Oe("svg");for(let m=0;m<s.length;m+=1)s[m].c();l=Et(),a&&a.c(),dt(e,p)},m(m,g){j(m,e,g);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);u(e,l),a&&a.m(e,null),o=!0},p(m,[g]){if(g&32){i=V(m[5]);let h;for(h=0;h<i.length;h+=1){const k=Kt(m,i,h);s[h]?s[h].p(k,g):(s[h]=Zt(k),s[h].c(),s[h].m(e,l))}for(;h<s.length;h+=1)s[h].d(1);s.length=i.length}a&&a.p&&(!o||g&256)&&Be(a,c,m,m[8],o?Me(c,m[8],g,null):Te(m[8]),null),dt(e,p=je(d,[Yt,g&64&&m[6],(!o||g&4)&&{width:m[2]},(!o||g&4)&&{height:m[2]},(!o||g&2)&&{stroke:m[1]},(!o||g&28&&n!==(n=m[4]?Number(m[3])*24/Number(m[2]):m[3]))&&{"stroke-width":n},(!o||g&129&&r!==(r=`lucide-icon lucide lucide-${m[0]} ${m[7].class??""}`))&&{class:r}]))},i(m){o||(R(a,m),o=!0)},o(m){D(a,m),o=!1},d(m){m&&A(e),fe(s,m),a&&a.d(m)}}}function Gn(t,e,l){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ht(e,n),{$$slots:o={},$$scope:i}=e,{name:s}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:d=2}=e,{absoluteStrokeWidth:p=!1}=e,{iconNode:m}=e;return t.$$set=g=>{l(7,e=oe(oe({},e),we(g))),l(6,r=Ht(e,n)),"name"in g&&l(0,s=g.name),"color"in g&&l(1,c=g.color),"size"in g&&l(2,a=g.size),"strokeWidth"in g&&l(3,d=g.strokeWidth),"absoluteStrokeWidth"in g&&l(4,p=g.absoluteStrokeWidth),"iconNode"in g&&l(5,m=g.iconNode),"$$scope"in g&&l(8,i=g.$$scope)},e=we(e),[s,c,a,d,p,m,r,e,i,o]}class Ue extends xe{constructor(e){super(),Ce(this,e,Gn,qn,ye,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Yn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function Kn(t){let e,l;const n=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Yn]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function Zn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class mt extends xe{constructor(e){super(),Ce(this,e,Zn,Kn,ye,{})}}function Jn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function Qn(t){let e,l;const n=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Jn]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function Xn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class Xe extends xe{constructor(e){super(),Ce(this,e,Xn,Qn,ye,{})}}function er(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function tr(t){let e,l;const n=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[er]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function lr(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class nr extends xe{constructor(e){super(),Ce(this,e,lr,tr,ye,{})}}function rr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function or(t){let e,l;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[rr]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function ir(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class Rt extends xe{constructor(e){super(),Ce(this,e,ir,or,ye,{})}}function sr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function ar(t){let e,l;const n=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[sr]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function cr(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class _t extends xe{constructor(e){super(),Ce(this,e,cr,ar,ye,{})}}function ur(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function fr(t){let e,l;const n=[{name:"trash-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[ur]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function dr(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class hr extends xe{constructor(e){super(),Ce(this,e,dr,fr,ye,{})}}function pr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Be(n,l,r,r[3],e?Me(l,r[3],o,null):Te(r[3]),null)},i(r){e||(R(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function gr(t){let e,l;const n=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[pr]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=oe(r,n[o]);return e=new Ue({props:r}),{c(){ee(e.$$.fragment)},m(o,i){Q(e,o,i),l=!0},p(o,[i]){const s=i&3?je(n,[n[0],i&2&&He(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(R(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function mr(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=i=>{l(1,e=oe(oe({},e),we(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=we(e),[o,e,n,r]}class _r extends xe{constructor(e){super(),Ce(this,e,mr,gr,ye,{})}}function Jt(t,e,l){const n=t.slice();return n[3]=e[l],n}function Qt(t){let e,l,n,r,o,i,s,c,a;var d=t[3].icon;function p(g,h){return{props:{class:"w-5 h-5"}}}d&&(l=Ut(d,p()));function m(){return t[2](t[3])}return{c(){e=_("button"),l&&ee(l.$$.fragment),n=S(),r=_("span"),r.textContent=`${t[3].label}`,o=S(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",t[3].label)},m(g,h){j(g,e,h),l&&Q(l,e,null),u(e,n),u(e,r),u(e,o),s=!0,c||(a=Y(e,"click",m),c=!0)},p(g,h){if(t=g,d!==(d=t[3].icon)){if(l){pe();const k=l;D(k.$$.fragment,1,0,()=>{X(k,1)}),ge()}d?(l=Ut(d,p()),ee(l.$$.fragment),R(l.$$.fragment,1),Q(l,e,n)):l=null}(!s||h&1&&i!==(i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",i)},i(g){s||(l&&R(l.$$.fragment,g),s=!0)},o(g){l&&D(l.$$.fragment,g),s=!1},d(g){g&&A(e),l&&X(l),c=!1,a()}}}function br(t){let e,l,n,r,o,i,s,c,a,d,p,m,g=V(t[1]),h=[];for(let $=0;$<g.length;$+=1)h[$]=Qt(Jt(t,g,$));const k=$=>D(h[$],1,1,()=>{h[$]=null});return{c(){e=_("div"),l=_("div"),l.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=S(),r=_("nav");for(let $=0;$<h.length;$+=1)h[$].c();o=S(),i=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',c=S(),a=_("button"),a.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(l,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(a,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(a,"title","Logout"),f(i,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m($,b){j($,e,b),u(e,l),u(e,n),u(e,r);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(r,null);u(e,o),u(e,i),u(i,s),u(i,c),u(i,a),d=!0,p||(m=Y(a,"click",kr),p=!0)},p($,[b]){if(b&3){g=V($[1]);let v;for(v=0;v<g.length;v+=1){const N=Jt($,g,v);h[v]?(h[v].p(N,b),R(h[v],1)):(h[v]=Qt(N),h[v].c(),R(h[v],1),h[v].m(r,null))}for(pe(),v=g.length;v<h.length;v+=1)k(v);ge()}},i($){if(!d){for(let b=0;b<g.length;b+=1)R(h[b]);d=!0}},o($){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)D(h[b]);d=!1},d($){$&&A(e),fe(h,$),p=!1,m()}}}function kr(){window.location.href="/logout"}function vr(t,e,l){let n;return Re(t,xt,i=>l(0,n=i)),[n,[{id:"captions",label:"Captions",icon:_r},{id:"style",label:"Style",icon:nr},{id:"broll",label:"B-Roll",icon:mt},{id:"ai-tools",label:"AI Tools",icon:_t}],i=>xt.set(i.id)]}class yr extends xe{constructor(e){super(),Ce(this,e,vr,br,ye,{})}}const wr=t=>({}),Xt=t=>({}),$r=t=>({}),el=t=>({}),Cr=t=>({}),tl=t=>({}),xr=t=>({}),ll=t=>({});function Fr(t){let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N;const L=t[1].sidebar,z=Ee(L,t,t[0],ll),C=t[1].panel,E=Ee(C,t,t[0],tl),F=t[1].preview,I=Ee(F,t,t[0],el),B=t[1].timeline,P=Ee(B,t,t[0],Xt);return{c(){e=_("div"),l=_("aside"),z&&z.c(),n=S(),r=_("aside"),E&&E.c(),o=S(),i=_("div"),s=_("div"),c=_("header"),a=_("div"),a.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',d=S(),p=_("div"),m=_("button"),m.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,g=S(),h=_("div"),I&&I.c(),k=S(),$=_("aside"),P&&P.c(),f(l,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(a,"class","flex items-center gap-4"),f(m,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(p,"class","flex items-center gap-2"),f(c,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f($,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(i,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(M,T){j(M,e,T),u(e,l),z&&z.m(l,null),u(e,n),u(e,r),E&&E.m(r,null),u(e,o),u(e,i),u(i,s),u(s,c),u(c,a),u(c,d),u(c,p),u(p,m),u(s,g),u(s,h),I&&I.m(h,null),u(i,k),u(i,$),P&&P.m($,null),b=!0,v||(N=Y(m,"click",t[2]),v=!0)},p(M,[T]){z&&z.p&&(!b||T&1)&&Be(z,L,M,M[0],b?Me(L,M[0],T,xr):Te(M[0]),ll),E&&E.p&&(!b||T&1)&&Be(E,C,M,M[0],b?Me(C,M[0],T,Cr):Te(M[0]),tl),I&&I.p&&(!b||T&1)&&Be(I,F,M,M[0],b?Me(F,M[0],T,$r):Te(M[0]),el),P&&P.p&&(!b||T&1)&&Be(P,B,M,M[0],b?Me(B,M[0],T,wr):Te(M[0]),Xt)},i(M){b||(R(z,M),R(E,M),R(I,M),R(P,M),b=!0)},o(M){D(z,M),D(E,M),D(I,M),D(P,M),b=!1},d(M){M&&A(e),z&&z.d(M),E&&E.d(M),I&&I.d(M),P&&P.d(M),v=!1,N()}}}function Sr(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=()=>it.update(i=>({...i,isExporting:!0}));return t.$$set=i=>{"$$scope"in i&&l(0,r=i.$$scope)},[r,n,o]}class Er extends xe{constructor(e){super(),Ce(this,e,Sr,Fr,ye,{})}}function nl(t,e,l){const n=t.slice();return n[21]=e[l],n}function Mr(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="text-center"><svg class="w-16 h-16 text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-white text-lg">No video loaded</p></div>',f(e,"class","w-full h-full flex items-center justify-center bg-black")},m(l,n){j(l,e,n)},p:J,d(l){l&&A(e)}}}function Br(t){let e,l,n;return{c(){e=_("video"),l=_("track"),f(l,"kind","captions"),Ie(e.src,n=t[0].videoUrl)||f(e,"src",n),f(e,"class","w-full h-full object-contain"),f(e,"crossorigin","anonymous"),e.playsInline=!0,e.controls=!0,f(e,"controlslist","nofullscreen")},m(r,o){j(r,e,o),u(e,l),t[12](e)},p(r,o){o&1&&!Ie(e.src,n=r[0].videoUrl)&&f(e,"src",n)},d(r){r&&A(e),t[12](null)}}}function rl(t){let e,l;function n(i,s){var c,a;return(a=(c=i[0])==null?void 0:c.style)!=null&&a.wordByWord&&i[2].words?Rr:Tr}let r=n(t),o=r(t);return{c(){var i,s,c,a;e=_("div"),o.c(),f(e,"class","absolute left-4 right-4 text-center pointer-events-none"),f(e,"style",l=t[7]()+" "+(((s=(i=t[0])==null?void 0:i.style)==null?void 0:s.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((a=(c=t[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))},m(i,s){j(i,e,s),o.m(e,null)},p(i,s){var c,a,d,p;r===(r=n(i))&&o?o.p(i,s):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),s&1&&l!==(l=i[7]()+" "+(((a=(c=i[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((p=(d=i[0])==null?void 0:d.style)==null?void 0:p.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))&&f(e,"style",l)},d(i){i&&A(e),o.d()}}}function Tr(t){let e,l=t[2].text+"",n;return{c(){var r,o,i,s,c,a,d,p;e=_("p"),n=U(l),f(e,"class","leading-tight"),ae(e,"font-family",(((o=(r=t[0])==null?void 0:r.style)==null?void 0:o.fontFamily)||"Inter")+", sans-serif"),ae(e,"font-size",(((s=(i=t[0])==null?void 0:i.style)==null?void 0:s.fontSize)||42)+"px"),ae(e,"font-weight",((a=(c=t[0])==null?void 0:c.style)==null?void 0:a.fontWeight)||"bold"),ae(e,"color",((p=(d=t[0])==null?void 0:d.style)==null?void 0:p.color)||"#FFFFFF")},m(r,o){j(r,e,o),u(e,n)},p(r,o){var i,s,c,a,d,p,m,g;o&4&&l!==(l=r[2].text+"")&&de(n,l),o&1&&ae(e,"font-family",(((s=(i=r[0])==null?void 0:i.style)==null?void 0:s.fontFamily)||"Inter")+", sans-serif"),o&1&&ae(e,"font-size",(((a=(c=r[0])==null?void 0:c.style)==null?void 0:a.fontSize)||42)+"px"),o&1&&ae(e,"font-weight",((p=(d=r[0])==null?void 0:d.style)==null?void 0:p.fontWeight)||"bold"),o&1&&ae(e,"color",((g=(m=r[0])==null?void 0:m.style)==null?void 0:g.color)||"#FFFFFF")},d(r){r&&A(e)}}}function Rr(t){let e,l=V(t[2].words),n=[];for(let r=0;r<l.length;r+=1)n[r]=ol(nl(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","flex flex-wrap justify-center gap-1")},m(r,o){j(r,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(r,o){if(o&773){l=V(r[2].words);let i;for(i=0;i<l.length;i+=1){const s=nl(r,l,i);n[i]?n[i].p(s,o):(n[i]=ol(s),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&A(e),fe(n,r)}}}function ol(t){let e,l=t[21].text+"",n,r,o,i;return{c(){var s,c,a,d,p,m,g,h,k,$,b,v,N,L,z,C,E,F,I,B,P,M;e=_("span"),n=U(l),r=S(),f(e,"class",o="inline-block px-1 py-0.5 rounded transition-all duration-150 "+t[9](t[21])+" svelte-1q1neid"),f(e,"style",i="font-family: "+(((c=(s=t[0])==null?void 0:s.style)==null?void 0:c.fontFamily)||"Inter")+", sans-serif; font-size: "+(((d=(a=t[0])==null?void 0:a.style)==null?void 0:d.fontSize)||42)+"px; font-weight: "+(((m=(p=t[0])==null?void 0:p.style)==null?void 0:m.fontWeight)||"bold")+"; color: "+(t[8](t[21])&&((h=(g=t[0])==null?void 0:g.style)!=null&&h.highlightWords)?(($=(k=t[0])==null?void 0:k.style)==null?void 0:$.highlightColor)||"#FFD700":((v=(b=t[0])==null?void 0:b.style)==null?void 0:v.color)||"#FFFFFF")+"; background-color: "+(t[8](t[21])&&((L=(N=t[0])==null?void 0:N.style)!=null&&L.highlightWords)?((C=(z=t[0])==null?void 0:z.style)==null?void 0:C.highlightColor)||"#FFD700":"transparent")+"; "+(t[8](t[21])&&((F=(E=t[0])==null?void 0:E.style)!=null&&F.highlightWords)&&((B=(I=t[0])==null?void 0:I.style)==null?void 0:B.color)===((M=(P=t[0])==null?void 0:P.style)==null?void 0:M.highlightColor)?"color: #000000;":""))},m(s,c){j(s,e,c),u(e,n),u(e,r)},p(s,c){var a,d,p,m,g,h,k,$,b,v,N,L,z,C,E,F,I,B,P,M,T,w;c&4&&l!==(l=s[21].text+"")&&de(n,l),c&4&&o!==(o="inline-block px-1 py-0.5 rounded transition-all duration-150 "+s[9](s[21])+" svelte-1q1neid")&&f(e,"class",o),c&5&&i!==(i="font-family: "+(((d=(a=s[0])==null?void 0:a.style)==null?void 0:d.fontFamily)||"Inter")+", sans-serif; font-size: "+(((m=(p=s[0])==null?void 0:p.style)==null?void 0:m.fontSize)||42)+"px; font-weight: "+(((h=(g=s[0])==null?void 0:g.style)==null?void 0:h.fontWeight)||"bold")+"; color: "+(s[8](s[21])&&(($=(k=s[0])==null?void 0:k.style)!=null&&$.highlightWords)?((v=(b=s[0])==null?void 0:b.style)==null?void 0:v.highlightColor)||"#FFD700":((L=(N=s[0])==null?void 0:N.style)==null?void 0:L.color)||"#FFFFFF")+"; background-color: "+(s[8](s[21])&&((C=(z=s[0])==null?void 0:z.style)!=null&&C.highlightWords)?((F=(E=s[0])==null?void 0:E.style)==null?void 0:F.highlightColor)||"#FFD700":"transparent")+"; "+(s[8](s[21])&&((B=(I=s[0])==null?void 0:I.style)!=null&&B.highlightWords)&&((M=(P=s[0])==null?void 0:P.style)==null?void 0:M.color)===((w=(T=s[0])==null?void 0:T.style)==null?void 0:w.highlightColor)?"color: #000000;":""))&&f(e,"style",i)},d(s){s&&A(e)}}}function zr(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),f(l,"d","M8 5v14l11-7z"),f(e,"class","w-8 h-8 text-gray-900 ml-1"),f(e,"fill","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){j(n,e,r),u(e,l)},d(n){n&&A(e)}}}function Wr(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),f(l,"d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"),f(e,"class","w-8 h-8 text-gray-900"),f(e,"fill","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){j(n,e,r),u(e,l)},d(n){n&&A(e)}}}function il(t){let e,l,n,r;return{c(){e=_("div"),l=_("div"),f(l,"class","h-full bg-primary transition-all duration-75"),ae(l,"width",t[4]+"%"),f(e,"class","absolute bottom-0 left-0 right-0 h-1.5 bg-gray-700 cursor-pointer z-20 hover:h-2 transition-all")},m(o,i){j(o,e,i),u(e,l),n||(r=Y(e,"click",t[5]),n=!0)},p(o,i){i&16&&ae(l,"width",o[4]+"%")},d(o){o&&A(e),n=!1,r()}}}function Dr(t){var F,I;let e,l,n,r,o,i,s,c=Math.floor(t[1].currentTime/60)+"",a,d,p=(Math.floor(t[1].currentTime)%60).toString().padStart(2,"0")+"",m,g,h,k;function $(B,P){var M;return(M=B[0])!=null&&M.videoUrl?Br:Mr}let b=$(t),v=b(t),N=t[2]&&rl(t);function L(B,P){return B[1].isPlaying?Wr:zr}let z=L(t),C=z(t),E=((F=t[0])==null?void 0:F.videoUrl)&&((I=t[1])==null?void 0:I.duration)>0&&il(t);return{c(){e=_("div"),v.c(),l=S(),N&&N.c(),n=S(),r=_("button"),o=_("div"),C.c(),i=S(),s=_("div"),a=U(c),d=U(":"),m=U(p),g=S(),E&&E.c(),f(o,"class","w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg hover:scale-110 transition-transform"),f(r,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 hover:opacity-100 transition-opacity duration-200"),f(s,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded z-10"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(B,P){j(B,e,P),v.m(e,null),u(e,l),N&&N.m(e,null),u(e,n),u(e,r),u(r,o),C.m(o,null),u(e,i),u(e,s),u(s,a),u(s,d),u(s,m),u(e,g),E&&E.m(e,null),h||(k=Y(r,"click",t[6]),h=!0)},p(B,[P]){var M,T;b===(b=$(B))&&v?v.p(B,P):(v.d(1),v=b(B),v&&(v.c(),v.m(e,l))),B[2]?N?N.p(B,P):(N=rl(B),N.c(),N.m(e,n)):N&&(N.d(1),N=null),z!==(z=L(B))&&(C.d(1),C=z(B),C&&(C.c(),C.m(o,null))),P&2&&c!==(c=Math.floor(B[1].currentTime/60)+"")&&de(a,c),P&2&&p!==(p=(Math.floor(B[1].currentTime)%60).toString().padStart(2,"0")+"")&&de(m,p),(M=B[0])!=null&&M.videoUrl&&((T=B[1])==null?void 0:T.duration)>0?E?E.p(B,P):(E=il(B),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},i:J,o:J,d(B){B&&A(e),v.d(),N&&N.d(),C.d(),E&&E.d(),h=!1,k()}}}function Nr(t,e,l){let n,r,o,i,s,c;Re(t,We,C=>l(10,s=C)),Re(t,se,C=>l(11,c=C));let a;function d(){We.setPlaying(!0)}function p(){We.setPlaying(!1)}function m(){a&&We.setCurrentTime(a.currentTime)}function g(){a&&We.update(C=>({...C,duration:a.duration}))}function h(C){var E;a&&((E=C.detail)==null?void 0:E.time)!=null&&l(3,a.currentTime=C.detail.time,a)}function k(C){C.code==="Space"&&C.target===document.body&&(C.preventDefault(),b())}function $(C){if(!a||!r.duration)return;const E=C.currentTarget.getBoundingClientRect(),B=(C.clientX-E.left)/E.width*r.duration;l(3,a.currentTime=B,a),We.setCurrentTime(B)}Bt(()=>(window.addEventListener("timeline-seek",h),window.addEventListener("keydown",k),a&&(a.addEventListener("timeupdate",m),a.addEventListener("loadedmetadata",g),a.addEventListener("play",d),a.addEventListener("pause",p)),()=>{window.removeEventListener("timeline-seek",h),window.removeEventListener("keydown",k),a&&(a.removeEventListener("timeupdate",m),a.removeEventListener("loadedmetadata",g),a.removeEventListener("play",d),a.removeEventListener("pause",p))}));function b(){a&&(a.paused?a.play():a.pause())}function v(){var E;switch(((E=n==null?void 0:n.style)==null?void 0:E.position)||"bottom"){case"top":return"top: 10%;";case"middle":return"top: 50%; transform: translateY(-50%);";case"bottom":default:return"bottom: 10%;"}}function N(C){return(r==null?void 0:r.currentTime)>=C.start&&(r==null?void 0:r.currentTime)<=C.end}function L(C){var F;if(!N(C))return"";switch(((F=n==null?void 0:n.style)==null?void 0:F.animation)||"none"){case"pop":return"animate-pop";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade";case"bounce":return"animate-bounce";default:return""}}function z(C){gt[C?"unshift":"push"](()=>{a=C,l(3,a)})}return t.$$.update=()=>{var C,E;t.$$.dirty&2048&&l(0,n=c),t.$$.dirty&1024&&l(1,r=s),t.$$.dirty&2&&l(4,o=(r==null?void 0:r.duration)>0?r.currentTime/r.duration*100:0),t.$$.dirty&3&&l(2,i=(C=n==null?void 0:n.captions)==null?void 0:C.find(F=>(r==null?void 0:r.currentTime)>=F.start&&(r==null?void 0:r.currentTime)<=F.end)),t.$$.dirty&6&&(E=i==null?void 0:i.words)!=null&&E.filter(F=>(r==null?void 0:r.currentTime)>=F.start&&(r==null?void 0:r.currentTime)<=F.end)},[n,r,i,a,o,$,b,v,N,L,s,c,z]}class Pr extends xe{constructor(e){super(),Ce(this,e,Nr,Dr,ye,{})}}const sl=st(null);function Qe(t){const e=Math.floor(t/60),l=Math.floor(t%60),n=Math.floor(t%1*100);return`${e}:${l.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function al(t,e,l){const n=t.slice();return n[71]=e[l],n}function cl(t,e,l){const n=t.slice();return n[66]=e[l],n}function ul(t,e,l){const n=t.slice();return n[66]=e[l],n}function fl(t,e,l){const n=t.slice();return n[66]=e[l],n}function dl(t,e,l){const n=t.slice();return n[50]=e[l],n}function hl(t,e,l){const n=t.slice();return n[53]=e[l],n}function pl(t,e,l){const n=t.slice();return n[56]=e[l],n}function gl(t,e,l){const n=t.slice();return n[59]=e[l],n}function ml(t,e,l){const n=t.slice();return n[62]=e[l][0],n[63]=e[l][1],n}function _l(t,e,l){const n=t.slice();return n[38]=e[l],n}function bl(t,e,l){const n=t.slice();return n[41]=e[l],n[43]=l,n}function kl(t,e,l){const n=t.slice();return n[38]=e[l],n}function vl(t,e,l){const n=t.slice();return n[41]=e[l],n[46]=e,n[43]=l,n}function yl(t,e,l){const n=t.slice();return n[47]=e[l],n}function Ar(t){let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N,L,z,C,E,F,I,B;const P=[Hr,Or],M=[];function T(x,q){return x[0]?0:1}o=T(t),i=M[o]=P[o](t);const w=[Vr,Ur],y=[];function W(x,q){return x[1]?0:1}a=W(t),d=y[a]=w[a](t);const Z=[Gr,qr],te=[];function me(x,q){return x[2]?0:1}h=me(t),k=te[h]=Z[h](t);const G=[Kr,Yr],le=[];function _e(x,q){return x[3]?0:1}N=_e(t),L=le[N]=G[N](t);let K=t[7].length>0&&wl(t),ce=t[10]&&Cl(t);return{c(){var x,q,ne,De,Se,ue;e=_("div"),l=_("h3"),l.textContent="AI Magic Tools",n=S(),r=_("button"),i.c(),s=S(),c=_("button"),d.c(),m=S(),g=_("button"),k.c(),b=S(),v=_("button"),L.c(),C=S(),K&&K.c(),E=S(),ce&&ce.c(),f(l,"class","font-semibold text-lg text-white"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),c.disabled=p=t[1]||!((q=(x=t[8])==null?void 0:x.captions)!=null&&q.length),f(c,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),g.disabled=$=t[2]||!((De=(ne=t[8])==null?void 0:ne.captions)!=null&&De.length),f(g,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),v.disabled=z=t[3]||!((ue=(Se=t[8])==null?void 0:Se.captions)!=null&&ue.length),f(v,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(x,q){j(x,e,q),u(e,l),u(e,n),u(e,r),M[o].m(r,null),u(e,s),u(e,c),y[a].m(c,null),u(e,m),u(e,g),te[h].m(g,null),u(e,b),u(e,v),le[N].m(v,null),u(e,C),K&&K.m(e,null),u(e,E),ce&&ce.m(e,null),F=!0,I||(B=[Y(r,"click",t[14]),Y(c,"click",t[15]),Y(g,"click",t[16]),Y(v,"click",t[17])],I=!0)},p(x,q){var Ne,be,Pe,ke,Ae,ve;let ne=o;o=T(x),o!==ne&&(pe(),D(M[ne],1,1,()=>{M[ne]=null}),ge(),i=M[o],i||(i=M[o]=P[o](x),i.c()),R(i,1),i.m(r,null)),(!F||q[0]&1)&&(r.disabled=x[0]);let De=a;a=W(x),a!==De&&(pe(),D(y[De],1,1,()=>{y[De]=null}),ge(),d=y[a],d||(d=y[a]=w[a](x),d.c()),R(d,1),d.m(c,null)),(!F||q[0]&2306&&p!==(p=x[1]||!((be=(Ne=x[8])==null?void 0:Ne.captions)!=null&&be.length)))&&(c.disabled=p);let Se=h;h=me(x),h!==Se&&(pe(),D(te[Se],1,1,()=>{te[Se]=null}),ge(),k=te[h],k||(k=te[h]=Z[h](x),k.c()),R(k,1),k.m(g,null)),(!F||q[0]&2308&&$!==($=x[2]||!((ke=(Pe=x[8])==null?void 0:Pe.captions)!=null&&ke.length)))&&(g.disabled=$);let ue=N;N=_e(x),N!==ue&&(pe(),D(le[ue],1,1,()=>{le[ue]=null}),ge(),L=le[N],L||(L=le[N]=G[N](x),L.c()),R(L,1),L.m(v,null)),(!F||q[0]&2312&&z!==(z=x[3]||!((ve=(Ae=x[8])==null?void 0:Ae.captions)!=null&&ve.length)))&&(v.disabled=z),x[7].length>0?K?(K.p(x,q),q[0]&128&&R(K,1)):(K=wl(x),K.c(),R(K,1),K.m(e,E)):K&&(pe(),D(K,1,1,()=>{K=null}),ge()),x[10]?ce?ce.p(x,q):(ce=Cl(x),ce.c(),ce.m(e,null)):ce&&(ce.d(1),ce=null)},i(x){F||(R(i),R(d),R(k),R(L),R(K),F=!0)},o(x){D(i),D(d),D(k),D(L),D(K),F=!1},d(x){x&&A(e),M[o].d(),y[a].d(),te[h].d(),le[N].d(),K&&K.d(),ce&&ce.d(),I=!1,$e(B)}}}function Lr(t){let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N,L,z,C;const E=[Jr,Zr],F=[];function I(y,W){return y[2]?0:1}o=I(t),i=F[o]=E[o](t);let B=t[7].length>0&&Fl(t);const P=[Xr,Qr],M=[];function T(y,W){return y[6]?0:1}b=T(t),v=M[b]=P[b](t);let w=t[5].length>0&&El(t);return{c(){var y,W;e=_("div"),l=_("h3"),l.textContent="B-Roll Library",n=S(),r=_("button"),i.c(),c=S(),B&&B.c(),a=S(),d=_("div"),p=_("h4"),p.textContent="Search B-Roll",m=S(),g=_("div"),h=_("input"),k=S(),$=_("button"),v.c(),N=S(),w&&w.c(),f(l,"class","font-semibold text-lg text-white"),r.disabled=s=t[2]||!((W=(y=t[8])==null?void 0:y.captions)!=null&&W.length),f(r,"class","w-full p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(p,"class","font-medium text-sm text-dark-text-light mb-2"),f(h,"type","text"),f(h,"placeholder","Search stock footage..."),f(h,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),$.disabled=t[6],f($,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(g,"class","flex gap-2"),f(d,"class","border-t border-dark-lighter pt-4"),f(e,"class","p-4 space-y-4")},m(y,W){j(y,e,W),u(e,l),u(e,n),u(e,r),F[o].m(r,null),u(e,c),B&&B.m(e,null),u(e,a),u(e,d),u(d,p),u(d,m),u(d,g),u(g,h),Ze(h,t[4]),u(g,k),u(g,$),M[b].m($,null),u(e,N),w&&w.m(e,null),L=!0,z||(C=[Y(r,"click",t[16]),Y(h,"input",t[33]),Y(h,"keydown",t[34]),Y($,"click",t[18])],z=!0)},p(y,W){var me,G;let Z=o;o=I(y),o!==Z&&(pe(),D(F[Z],1,1,()=>{F[Z]=null}),ge(),i=F[o],i||(i=F[o]=E[o](y),i.c()),R(i,1),i.m(r,null)),(!L||W[0]&2308&&s!==(s=y[2]||!((G=(me=y[8])==null?void 0:me.captions)!=null&&G.length)))&&(r.disabled=s),y[7].length>0?B?(B.p(y,W),W[0]&128&&R(B,1)):(B=Fl(y),B.c(),R(B,1),B.m(e,a)):B&&(pe(),D(B,1,1,()=>{B=null}),ge()),W[0]&16&&h.value!==y[4]&&Ze(h,y[4]);let te=b;b=T(y),b!==te&&(pe(),D(M[te],1,1,()=>{M[te]=null}),ge(),v=M[b],v||(v=M[b]=P[b](y),v.c()),R(v,1),v.m($,null)),(!L||W[0]&64)&&($.disabled=y[6]),y[5].length>0?w?(w.p(y,W),W[0]&32&&R(w,1)):(w=El(y),w.c(),R(w,1),w.m(e,null)):w&&(pe(),D(w,1,1,()=>{w=null}),ge())},i(y){L||(R(i),R(B),R(v),R(w),L=!0)},o(y){D(i),D(B),D(v),D(w),L=!1},d(y){y&&A(e),F[o].d(),B&&B.d(),M[b].d(),w&&w.d(),z=!1,$e(C)}}}function jr(t){var zt,Wt;let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N,L,z=(((Wt=(zt=t[8])==null?void 0:zt.style)==null?void 0:Wt.fontSize)||42)+"",C,E,F,I,B,P,M,T,w,y,W,Z,te,me,G,le,_e,K,ce,x,q,ne,De,Se=V(Object.entries(Ct)),ue=[];for(let H=0;H<Se.length;H+=1)ue[H]=Bl(ml(t,Se,H));let Ne=V(t[11]),be=[];for(let H=0;H<Ne.length;H+=1)be[H]=Tl(gl(t,Ne,H));let Pe=V(t[12]),ke=[];for(let H=0;H<Pe.length;H+=1)ke[H]=Rl(pl(t,Pe,H));let Ae=V(t[13]),ve=[];for(let H=0;H<Ae.length;H+=1)ve[H]=zl(hl(t,Ae,H));let bt=V(["none","light","medium","heavy"]),ze=[];for(let H=0;H<4;H+=1)ze[H]=Wl(dl(t,bt,H));return{c(){var H,he;e=_("div"),l=_("div"),n=_("h3"),n.textContent="Style Presets",r=S(),o=_("div");for(let ie=0;ie<ue.length;ie+=1)ue[ie].c();i=S(),s=_("div"),c=_("h3"),c.textContent="Typography",a=S(),d=_("div"),p=_("label"),p.textContent="Font Family",m=S(),g=_("select");for(let ie=0;ie<be.length;ie+=1)be[ie].c();k=S(),$=_("div"),b=_("label"),v=_("span"),v.textContent="Font Size",N=S(),L=_("span"),C=U(z),E=U("px"),F=S(),I=_("input"),P=S(),M=_("div"),T=_("label"),T.textContent="Position",w=S(),y=_("div");for(let ie=0;ie<ke.length;ie+=1)ke[ie].c();W=S(),Z=_("div"),te=_("label"),te.textContent="Animation",me=S(),G=_("select");for(let ie=0;ie<ve.length;ie+=1)ve[ie].c();_e=S(),K=_("div"),ce=_("label"),ce.textContent="Text Shadow",x=S(),q=_("div");for(let ie=0;ie<4;ie+=1)ze[ie].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(o,"class","grid grid-cols-2 gap-2"),f(c,"class","font-semibold text-lg text-white"),f(p,"class","text-sm text-dark-text-light"),f(g,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(d,"class","space-y-2"),f(L,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(I,"type","range"),f(I,"min","20"),f(I,"max","80"),I.value=B=((he=(H=t[8])==null?void 0:H.style)==null?void 0:he.fontSize)||42,f(I,"class","w-full"),f($,"class","space-y-2"),f(T,"class","text-sm text-dark-text-light"),f(y,"class","flex gap-2"),f(M,"class","space-y-2"),f(te,"class","text-sm text-dark-text-light"),f(G,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(Z,"class","space-y-2"),f(ce,"class","text-sm text-dark-text-light"),f(q,"class","flex gap-2"),f(K,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(H,he){var ie,et,tt,lt;j(H,e,he),u(e,l),u(l,n),u(l,r),u(l,o);for(let re=0;re<ue.length;re+=1)ue[re]&&ue[re].m(o,null);u(e,i),u(e,s),u(s,c),u(s,a),u(s,d),u(d,p),u(d,m),u(d,g);for(let re=0;re<be.length;re+=1)be[re]&&be[re].m(g,null);ct(g,((et=(ie=t[8])==null?void 0:ie.style)==null?void 0:et.fontFamily)||"Inter"),u(s,k),u(s,$),u($,b),u(b,v),u(b,N),u(b,L),u(L,C),u(L,E),u($,F),u($,I),u(s,P),u(s,M),u(M,T),u(M,w),u(M,y);for(let re=0;re<ke.length;re+=1)ke[re]&&ke[re].m(y,null);u(s,W),u(s,Z),u(Z,te),u(Z,me),u(Z,G);for(let re=0;re<ve.length;re+=1)ve[re]&&ve[re].m(G,null);ct(G,((lt=(tt=t[8])==null?void 0:tt.style)==null?void 0:lt.animation)||"pop"),u(s,_e),u(s,K),u(K,ce),u(K,x),u(K,q);for(let re=0;re<4;re+=1)ze[re]&&ze[re].m(q,null);ne||(De=[Y(g,"change",t[27]),Y(I,"input",t[28]),Y(G,"change",t[30])],ne=!0)},p(H,he){var ie,et,tt,lt,re,Dt,Nt,Pt,At,Lt,jt,It;if(he&0){Se=V(Object.entries(Ct));let O;for(O=0;O<Se.length;O+=1){const Fe=ml(H,Se,O);ue[O]?ue[O].p(Fe,he):(ue[O]=Bl(Fe),ue[O].c(),ue[O].m(o,null))}for(;O<ue.length;O+=1)ue[O].d(1);ue.length=Se.length}if(he[0]&2048){Ne=V(H[11]);let O;for(O=0;O<Ne.length;O+=1){const Fe=gl(H,Ne,O);be[O]?be[O].p(Fe,he):(be[O]=Tl(Fe),be[O].c(),be[O].m(g,null))}for(;O<be.length;O+=1)be[O].d(1);be.length=Ne.length}if(he[0]&2304&&h!==(h=((et=(ie=H[8])==null?void 0:ie.style)==null?void 0:et.fontFamily)||"Inter")&&ct(g,((lt=(tt=H[8])==null?void 0:tt.style)==null?void 0:lt.fontFamily)||"Inter"),he[0]&256&&z!==(z=(((Dt=(re=H[8])==null?void 0:re.style)==null?void 0:Dt.fontSize)||42)+"")&&de(C,z),he[0]&2304&&B!==(B=((Pt=(Nt=H[8])==null?void 0:Nt.style)==null?void 0:Pt.fontSize)||42)&&(I.value=B),he[0]&4352){Pe=V(H[12]);let O;for(O=0;O<Pe.length;O+=1){const Fe=pl(H,Pe,O);ke[O]?ke[O].p(Fe,he):(ke[O]=Rl(Fe),ke[O].c(),ke[O].m(y,null))}for(;O<ke.length;O+=1)ke[O].d(1);ke.length=Pe.length}if(he[0]&8192){Ae=V(H[13]);let O;for(O=0;O<Ae.length;O+=1){const Fe=hl(H,Ae,O);ve[O]?ve[O].p(Fe,he):(ve[O]=zl(Fe),ve[O].c(),ve[O].m(G,null))}for(;O<ve.length;O+=1)ve[O].d(1);ve.length=Ae.length}if(he[0]&2304&&le!==(le=((Lt=(At=H[8])==null?void 0:At.style)==null?void 0:Lt.animation)||"pop")&&ct(G,((It=(jt=H[8])==null?void 0:jt.style)==null?void 0:It.animation)||"pop"),he[0]&256){bt=V(["none","light","medium","heavy"]);let O;for(O=0;O<4;O+=1){const Fe=dl(H,bt,O);ze[O]?ze[O].p(Fe,he):(ze[O]=Wl(Fe),ze[O].c(),ze[O].m(q,null))}for(;O<4;O+=1)ze[O].d(1)}},i:J,o:J,d(H){H&&A(e),fe(ue,H),fe(be,H),fe(ke,H),fe(ve,H),fe(ze,H),ne=!1,$e(De)}}}function Ir(t){var te,me;let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N,L,z,C,E,F,I,B,P=((me=(te=t[8])==null?void 0:te.style)==null?void 0:me.highlightWords)&&Dl(t);function M(G,le){var _e,K;return(K=(_e=G[8])==null?void 0:_e.captions)!=null&&K.length?to:eo}let T=M(t),w=T(t);function y(G,le){var _e,K;return(K=(_e=G[8])==null?void 0:_e.captions)!=null&&K.length?no:lo}let W=y(t),Z=W(t);return{c(){var G,le,_e,K;e=_("div"),l=_("h3"),l.textContent="Caption Settings",n=S(),r=_("div"),o=_("label"),i=_("span"),i.textContent="Word-by-word highlighting",s=S(),c=_("input"),d=S(),p=_("label"),m=_("span"),m.textContent="Highlight active words",g=S(),h=_("input"),$=S(),P&&P.c(),b=S(),v=_("div"),N=_("h3"),N.textContent="Emoji Editor",L=S(),w.c(),z=S(),C=_("div"),E=_("h3"),E.textContent="Keyword Editor",F=S(),Z.c(),f(l,"class","font-semibold text-lg text-white"),f(i,"class","text-dark-text-light"),f(c,"type","checkbox"),c.checked=a=(le=(G=t[8])==null?void 0:G.style)==null?void 0:le.wordByWord,f(c,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(m,"class","text-dark-text-light"),f(h,"type","checkbox"),h.checked=k=(K=(_e=t[8])==null?void 0:_e.style)==null?void 0:K.highlightWords,f(h,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(p,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(N,"class","font-semibold text-lg text-white"),f(v,"class","space-y-4"),f(E,"class","font-semibold text-lg text-white"),f(C,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(G,le){j(G,e,le),u(e,l),u(e,n),u(e,r),u(r,o),u(o,i),u(o,s),u(o,c),u(r,d),u(r,p),u(p,m),u(p,g),u(p,h),u(r,$),P&&P.m(r,null),u(e,b),u(e,v),u(v,N),u(v,L),w.m(v,null),u(e,z),u(e,C),u(C,E),u(C,F),Z.m(C,null),I||(B=[Y(c,"change",t[20]),Y(h,"change",t[21])],I=!0)},p(G,le){var _e,K,ce,x,q,ne;le[0]&2304&&a!==(a=(K=(_e=G[8])==null?void 0:_e.style)==null?void 0:K.wordByWord)&&(c.checked=a),le[0]&2304&&k!==(k=(x=(ce=G[8])==null?void 0:ce.style)==null?void 0:x.highlightWords)&&(h.checked=k),(ne=(q=G[8])==null?void 0:q.style)!=null&&ne.highlightWords?P?P.p(G,le):(P=Dl(G),P.c(),P.m(r,null)):P&&(P.d(1),P=null),T===(T=M(G))&&w?w.p(G,le):(w.d(1),w=T(G),w&&(w.c(),w.m(v,null))),W===(W=y(G))&&Z?Z.p(G,le):(Z.d(1),Z=W(G),Z&&(Z.c(),Z.m(C,null)))},i:J,o:J,d(G){G&&A(e),P&&P.d(),w.d(),Z.d(),I=!1,$e(B)}}}function Or(t){let e,l,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){ee(e.$$.fragment),l=U(`
          Generate Viral Content`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Hr(t){let e,l,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment),l=U(`
          Generating Viral Content...`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Ur(t){let e,l,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){ee(e.$$.fragment),l=U(`
          Auto-Generate Emojis`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Vr(t){let e,l,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment),l=U(`
          Generating Emojis...`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function qr(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){ee(e.$$.fragment),l=U(`
          Generate B-Roll Suggestions`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Gr(t){let e,l,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment),l=U(`
          Generating B-Roll...`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Yr(t){let e,l,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){ee(e.$$.fragment),l=U(`
          Auto-Generate Zoom & Sound Effects`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Kr(t){let e,l,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment),l=U(`
          Generating Effects...`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function wl(t){let e,l,n,r,o,i=V(t[7]),s=[];for(let a=0;a<i.length;a+=1)s[a]=$l(cl(t,i,a));const c=a=>D(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),l=_("h4"),l.textContent="Suggested B-Roll Clips:",n=S(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(l,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(a,d){j(a,e,d),u(e,l),u(e,n),u(e,r);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(r,null);o=!0},p(a,d){if(d[0]&128){i=V(a[7]);let p;for(p=0;p<i.length;p+=1){const m=cl(a,i,p);s[p]?(s[p].p(m,d),R(s[p],1)):(s[p]=$l(m),s[p].c(),R(s[p],1),s[p].m(r,null))}for(pe(),p=i.length;p<s.length;p+=1)c(p);ge()}},i(a){if(!o){for(let d=0;d<i.length;d+=1)R(s[d]);o=!0}},o(a){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)D(s[d]);o=!1},d(a){a&&A(e),fe(s,a)}}}function $l(t){let e,l,n,r,o,i,s,c,a=t[66].keyword+"",d,p,m,g,h,k;i=new Rt({props:{class:"w-8 h-8 text-white"}});function $(){return t[36](t[66])}return{c(){e=_("div"),l=_("img"),r=S(),o=_("div"),ee(i.$$.fragment),s=S(),c=_("span"),d=U(a),p=S(),Ie(l.src,n=t[66].thumbnail)||f(l,"src",n),f(l,"alt","B-Roll thumbnail"),f(l,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",m="Add to timeline: "+t[66].keyword)},m(b,v){j(b,e,v),u(e,l),u(e,r),u(e,o),Q(i,o,null),u(e,s),u(e,c),u(c,d),u(e,p),g=!0,h||(k=Y(e,"click",$),h=!0)},p(b,v){t=b,(!g||v[0]&128&&!Ie(l.src,n=t[66].thumbnail))&&f(l,"src",n),(!g||v[0]&128)&&a!==(a=t[66].keyword+"")&&de(d,a),(!g||v[0]&128&&m!==(m="Add to timeline: "+t[66].keyword))&&f(e,"title",m)},i(b){g||(R(i.$$.fragment,b),g=!0)},o(b){D(i.$$.fragment,b),g=!1},d(b){b&&A(e),X(i),h=!1,k()}}}function Cl(t){let e,l,n,r,o,i,s,c,a,d,p=t[10].descriptions[0]+"",m,g,h,k,$,b,v=t[10].hashtags.join(" ")+"",N,L=V(t[10].hooks),z=[];for(let C=0;C<L.length;C+=1)z[C]=xl(al(t,L,C));return{c(){e=_("div"),l=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=S(),o=_("ul");for(let C=0;C<z.length;C+=1)z[C].c();i=S(),s=_("div"),c=_("h4"),c.textContent="Description",a=S(),d=_("p"),m=U(p),g=S(),h=_("div"),k=_("h4"),k.textContent="Hashtags",$=S(),b=_("p"),N=U(v),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(o,"class","space-y-2"),f(l,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(c,"class","font-medium text-sm text-dark-text-light mb-2"),f(d,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(h,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(C,E){j(C,e,E),u(e,l),u(l,n),u(l,r),u(l,o);for(let F=0;F<z.length;F+=1)z[F]&&z[F].m(o,null);u(e,i),u(e,s),u(s,c),u(s,a),u(s,d),u(d,m),u(e,g),u(e,h),u(h,k),u(h,$),u(h,b),u(b,N)},p(C,E){if(E[0]&1024){L=V(C[10].hooks);let F;for(F=0;F<L.length;F+=1){const I=al(C,L,F);z[F]?z[F].p(I,E):(z[F]=xl(I),z[F].c(),z[F].m(o,null))}for(;F<z.length;F+=1)z[F].d(1);z.length=L.length}E[0]&1024&&p!==(p=C[10].descriptions[0]+"")&&de(m,p),E[0]&1024&&v!==(v=C[10].hashtags.join(" ")+"")&&de(N,v)},d(C){C&&A(e),fe(z,C)}}}function xl(t){let e,l=t[71]+"",n;return{c(){e=_("li"),n=U(l),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,o){j(r,e,o),u(e,n)},p(r,o){o[0]&1024&&l!==(l=r[71]+"")&&de(n,l)},d(r){r&&A(e)}}}function Zr(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){ee(e.$$.fragment),l=U(`
          Auto-Generate B-Roll`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Jr(t){let e,l,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment),l=U(`
          Generating B-Roll...`)},m(r,o){Q(e,r,o),j(r,l,o),n=!0},i(r){n||(R(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&A(l),X(e,r)}}}function Fl(t){let e,l,n,r,o,i=V(t[7]),s=[];for(let a=0;a<i.length;a+=1)s[a]=Sl(fl(t,i,a));const c=a=>D(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),l=_("h4"),l.textContent="Suggested B-Roll Clips:",n=S(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(l,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2")},m(a,d){j(a,e,d),u(e,l),u(e,n),u(e,r);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(r,null);o=!0},p(a,d){if(d[0]&128){i=V(a[7]);let p;for(p=0;p<i.length;p+=1){const m=fl(a,i,p);s[p]?(s[p].p(m,d),R(s[p],1)):(s[p]=Sl(m),s[p].c(),R(s[p],1),s[p].m(r,null))}for(pe(),p=i.length;p<s.length;p+=1)c(p);ge()}},i(a){if(!o){for(let d=0;d<i.length;d+=1)R(s[d]);o=!0}},o(a){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)D(s[d]);o=!1},d(a){a&&A(e),fe(s,a)}}}function Sl(t){let e,l,n,r,o,i,s,c,a=t[66].keyword+"",d,p,m,g,h,k;i=new Rt({props:{class:"w-8 h-8 text-white"}});function $(){return t[32](t[66])}return{c(){e=_("div"),l=_("img"),r=S(),o=_("div"),ee(i.$$.fragment),s=S(),c=_("span"),d=U(a),p=S(),Ie(l.src,n=t[66].thumbnail)||f(l,"src",n),f(l,"alt","B-Roll thumbnail"),f(l,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",m="Add to timeline: "+t[66].keyword)},m(b,v){j(b,e,v),u(e,l),u(e,r),u(e,o),Q(i,o,null),u(e,s),u(e,c),u(c,d),u(e,p),g=!0,h||(k=Y(e,"click",$),h=!0)},p(b,v){t=b,(!g||v[0]&128&&!Ie(l.src,n=t[66].thumbnail))&&f(l,"src",n),(!g||v[0]&128)&&a!==(a=t[66].keyword+"")&&de(d,a),(!g||v[0]&128&&m!==(m="Add to timeline: "+t[66].keyword))&&f(e,"title",m)},i(b){g||(R(i.$$.fragment,b),g=!0)},o(b){D(i.$$.fragment,b),g=!1},d(b){b&&A(e),X(i),h=!1,k()}}}function Qr(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){j(n,e,r),u(e,l)},i:J,o:J,d(n){n&&A(e)}}}function Xr(t){let e,l;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function El(t){let e,l,n=V(t[5]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Ml(ul(t,n,i));const o=i=>D(r[i],1,1,()=>{r[i]=null});return{c(){e=_("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(i,s){j(i,e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);l=!0},p(i,s){if(s[0]&524320){n=V(i[5]);let c;for(c=0;c<n.length;c+=1){const a=ul(i,n,c);r[c]?(r[c].p(a,s),R(r[c],1)):(r[c]=Ml(a),r[c].c(),R(r[c],1),r[c].m(e,null))}for(pe(),c=n.length;c<r.length;c+=1)o(c);ge()}},i(i){if(!l){for(let s=0;s<n.length;s+=1)R(r[s]);l=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)D(r[s]);l=!1},d(i){i&&A(e),fe(r,i)}}}function Ml(t){let e,l,n,r,o,i,s,c,a,d;i=new Rt({props:{class:"w-8 h-8 text-white"}});function p(){return t[35](t[66])}return{c(){e=_("button"),l=_("img"),r=S(),o=_("div"),ee(i.$$.fragment),s=S(),Ie(l.src,n=t[66].thumbnail)||f(l,"src",n),f(l,"alt",""),f(l,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(m,g){j(m,e,g),u(e,l),u(e,r),u(e,o),Q(i,o,null),u(e,s),c=!0,a||(d=Y(e,"click",p),a=!0)},p(m,g){t=m,(!c||g[0]&32&&!Ie(l.src,n=t[66].thumbnail))&&f(l,"src",n)},i(m){c||(R(i.$$.fragment,m),c=!0)},o(m){D(i.$$.fragment,m),c=!1},d(m){m&&A(e),X(i),a=!1,d()}}}function Bl(t){let e,l,n,r,o,i,s;function c(){return t[26](t[62])}return{c(){e=_("button"),l=_("div"),l.textContent=`${t[62].replace("-"," ")}`,n=S(),r=_("div"),r.textContent=`${t[63].fontWeight}  ${t[63].animation}`,o=S(),f(l,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(a,d){j(a,e,d),u(e,l),u(e,n),u(e,r),u(e,o),i||(s=Y(e,"click",c),i=!0)},p(a,d){t=a},d(a){a&&A(e),i=!1,s()}}}function Tl(t){let e,l=t[59]+"",n;return{c(){e=_("option"),n=U(l),e.__value=t[59],Ze(e,e.__value)},m(r,o){j(r,e,o),u(e,n)},p:J,d(r){r&&A(e)}}}function Rl(t){let e,l=t[56].label+"",n,r,o,i,s;function c(){return t[29](t[56])}return{c(){var a,d;e=_("button"),n=U(l),r=S(),f(e,"class",o="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(a=t[8])==null?void 0:a.style)==null?void 0:d.position)||"bottom")===t[56].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){j(a,e,d),u(e,n),u(e,r),i||(s=Y(e,"click",c),i=!0)},p(a,d){var p,m;t=a,d[0]&2304&&o!==(o="flex-1 p-2 rounded-lg border text-sm transition "+((((m=(p=t[8])==null?void 0:p.style)==null?void 0:m.position)||"bottom")===t[56].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",o)},d(a){a&&A(e),i=!1,s()}}}function zl(t){let e,l=t[53].label+"",n;return{c(){e=_("option"),n=U(l),e.__value=t[53].id,Ze(e,e.__value)},m(r,o){j(r,e,o),u(e,n)},p:J,d(r){r&&A(e)}}}function Wl(t){let e,l,n,r,o,i;function s(){return t[31](t[50])}return{c(){var c,a;e=_("button"),l=U(t[50]),n=S(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((a=(c=t[8])==null?void 0:c.style)==null?void 0:a.textShadow)||"medium")===t[50]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){j(c,e,a),u(e,l),u(e,n),o||(i=Y(e,"click",s),o=!0)},p(c,a){var d,p;t=c,a[0]&2304&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(d=t[8])==null?void 0:d.style)==null?void 0:p.textShadow)||"medium")===t[50]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&A(e),o=!1,i()}}}function Dl(t){let e,l,n,r,o=V(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),i=[];for(let s=0;s<5;s+=1)i[s]=Nl(yl(t,o,s));return{c(){e=_("div"),l=_("label"),l.textContent="Highlight Color",n=S(),r=_("div");for(let s=0;s<5;s+=1)i[s].c();f(l,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,c){j(s,e,c),u(e,l),u(e,n),u(e,r);for(let a=0;a<5;a+=1)i[a]&&i[a].m(r,null)},p(s,c){if(c[0]&256){o=V(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let a;for(a=0;a<5;a+=1){const d=yl(s,o,a);i[a]?i[a].p(d,c):(i[a]=Nl(d),i[a].c(),i[a].m(r,null))}for(;a<5;a+=1)i[a].d(1)}},d(s){s&&A(e),fe(i,s)}}}function Nl(t){let e,l,n,r;function o(){return t[22](t[47])}return{c(){var i,s;e=_("button"),f(e,"class",l="w-8 h-8 rounded-lg border-2 transition "+((((s=(i=t[8])==null?void 0:i.style)==null?void 0:s.highlightColor)||"#FFD700")===t[47]?"border-primary scale-110":"border-transparent hover:border-primary-light")),ae(e,"background-color",t[47])},m(i,s){j(i,e,s),n||(r=Y(e,"click",o),n=!0)},p(i,s){var c,a;t=i,s[0]&2304&&l!==(l="w-8 h-8 rounded-lg border-2 transition "+((((a=(c=t[8])==null?void 0:c.style)==null?void 0:a.highlightColor)||"#FFD700")===t[47]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",l)},d(i){i&&A(e),n=!1,r()}}}function eo(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(l,n){j(l,e,n)},p:J,d(l){l&&A(e)}}}function to(t){let e,l=V(t[8].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=Al(kl(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,o){j(r,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(r,o){if(o[0]&256){l=V(r[8].captions);let i;for(i=0;i<l.length;i+=1){const s=kl(r,l,i);n[i]?n[i].p(s,o):(n[i]=Al(s),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&A(e),fe(n,r)}}}function Pl(t){let e,l,n=t[41].text+"",r,o,i,s,c,a;function d(){t[23].call(i,t[46],t[43])}function p(...m){return t[24](t[38],t[43],...m)}return{c(){e=_("div"),l=_("span"),r=U(n),o=S(),i=_("input"),s=S(),f(l,"class","text-white text-sm mr-1"),f(i,"type","text"),f(i,"maxlength","2"),f(i,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(i,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(m,g){j(m,e,g),u(e,l),u(l,r),u(e,o),u(e,i),Ze(i,t[41].emoji),u(e,s),c||(a=[Y(i,"input",d),Y(i,"input",p)],c=!0)},p(m,g){t=m,g[0]&256&&n!==(n=t[41].text+"")&&de(r,n),g[0]&2304&&i.value!==t[41].emoji&&Ze(i,t[41].emoji)},d(m){m&&A(e),c=!1,$e(a)}}}function Al(t){let e,l,n,r=t[38].start.toFixed(2)+"",o,i,s=t[38].end.toFixed(2)+"",c,a,d,p,m,g=V(t[38].words),h=[];for(let k=0;k<g.length;k+=1)h[k]=Pl(vl(t,g,k));return{c(){e=_("div"),l=_("p"),n=U("Segment: "),o=U(r),i=U("s - "),c=U(s),a=U("s"),d=S(),p=_("div");for(let k=0;k<h.length;k+=1)h[k].c();m=S(),f(l,"class","text-xs text-dark-text mb-2"),f(p,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,$){j(k,e,$),u(e,l),u(l,n),u(l,o),u(l,i),u(l,c),u(l,a),u(e,d),u(e,p);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,null);u(e,m)},p(k,$){if($[0]&256&&r!==(r=k[38].start.toFixed(2)+"")&&de(o,r),$[0]&256&&s!==(s=k[38].end.toFixed(2)+"")&&de(c,s),$[0]&256){g=V(k[38].words);let b;for(b=0;b<g.length;b+=1){const v=vl(k,g,b);h[b]?h[b].p(v,$):(h[b]=Pl(v),h[b].c(),h[b].m(p,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=g.length}},d(k){k&&A(e),fe(h,k)}}}function lo(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(l,n){j(l,e,n)},p:J,d(l){l&&A(e)}}}function no(t){let e,l=V(t[8].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=jl(_l(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,o){j(r,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(r,o){if(o[0]&256){l=V(r[8].captions);let i;for(i=0;i<l.length;i+=1){const s=_l(r,l,i);n[i]?n[i].p(s,o):(n[i]=jl(s),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&A(e),fe(n,r)}}}function Ll(t){let e,l,n=t[41].text+"",r,o,i,s,c,a,d;function p(...m){return t[25](t[38],t[43],...m)}return{c(){e=_("div"),l=_("span"),r=U(n),o=S(),i=_("input"),c=S(),f(l,"class","text-white text-sm mr-1"),f(i,"type","checkbox"),i.checked=s=t[41].isKeyword||!1,f(i,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(m,g){j(m,e,g),u(e,l),u(l,r),u(e,o),u(e,i),u(e,c),a||(d=Y(i,"change",p),a=!0)},p(m,g){t=m,g[0]&256&&n!==(n=t[41].text+"")&&de(r,n),g[0]&2304&&s!==(s=t[41].isKeyword||!1)&&(i.checked=s)},d(m){m&&A(e),a=!1,d()}}}function jl(t){let e,l,n,r=t[38].start.toFixed(2)+"",o,i,s=t[38].end.toFixed(2)+"",c,a,d,p,m,g=V(t[38].words),h=[];for(let k=0;k<g.length;k+=1)h[k]=Ll(bl(t,g,k));return{c(){e=_("div"),l=_("p"),n=U("Segment: "),o=U(r),i=U("s - "),c=U(s),a=U("s"),d=S(),p=_("div");for(let k=0;k<h.length;k+=1)h[k].c();m=S(),f(l,"class","text-xs text-dark-text mb-2"),f(p,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,$){j(k,e,$),u(e,l),u(l,n),u(l,o),u(l,i),u(l,c),u(l,a),u(e,d),u(e,p);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,null);u(e,m)},p(k,$){if($[0]&256&&r!==(r=k[38].start.toFixed(2)+"")&&de(o,r),$[0]&256&&s!==(s=k[38].end.toFixed(2)+"")&&de(c,s),$[0]&256){g=V(k[38].words);let b;for(b=0;b<g.length;b+=1){const v=bl(k,g,b);h[b]?h[b].p(v,$):(h[b]=Ll(v),h[b].c(),h[b].m(p,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=g.length}},d(k){k&&A(e),fe(h,k)}}}function ro(t){let e,l,n,r;const o=[Ir,jr,Lr,Ar],i=[];function s(c,a){return c[9]==="captions"?0:c[9]==="style"?1:c[9]==="broll"?2:c[9]==="ai-tools"?3:-1}return~(l=s(t))&&(n=i[l]=o[l](t)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(c,a){j(c,e,a),~l&&i[l].m(e,null),r=!0},p(c,a){let d=l;l=s(c),l===d?~l&&i[l].p(c,a):(n&&(pe(),D(i[d],1,1,()=>{i[d]=null}),ge()),~l?(n=i[l],n?n.p(c,a):(n=i[l]=o[l](c),n.c()),R(n,1),n.m(e,null)):n=null)},i(c){r||(R(n),r=!0)},o(c){D(n),r=!1},d(c){c&&A(e),~l&&i[l].d()}}}function oo(t,e,l){let n,r,o;Re(t,se,x=>l(8,n=x)),Re(t,xt,x=>l(9,r=x)),Re(t,sl,x=>l(10,o=x));let i=!1,s=!1,c=!1,a=!1,d="",p=[],m=!1,g=[],h=[];const k=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],$=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],b=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function v(){if(n){l(0,i=!0);try{const x=n.captions.map(ne=>ne.text).join(" "),q=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:x})});if(q.ok){const ne=await q.json();sl.set(ne)}}catch(x){console.error("AI generation failed:",x)}finally{l(0,i=!1)}}}async function N(){if(!(!n||!n.captions.length)){l(1,s=!0);try{const x=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(x.ok){const q=await x.json();se.update(ne=>({...ne,captions:q.captions,updatedAt:new Date}))}}catch(x){console.error("Emoji generation failed:",x)}finally{l(1,s=!1)}}}async function L(){if(!(!n||!n.captions.length)){l(2,c=!0),l(7,g=[]);try{const x=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(x.ok){const q=await x.json();l(7,g=q.broll_clips||[])}}catch(x){console.error("B-Roll generation failed:",x)}finally{l(2,c=!1)}}}async function z(){if(!(!n||!n.captions.length)){l(3,a=!0),h=[];try{const x=await fetch("/api/ai/generate_effects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions,duration:n.videoDuration})});if(x.ok){const q=await x.json();h=q.effects||[],q.zoomEffects&&q.zoomEffects.forEach(ne=>{se.addZoomEffect(ne)}),q.soundEffects&&q.soundEffects.forEach(ne=>{se.addSoundEffect(ne)})}}catch(x){console.error("Effects generation failed:",x)}finally{l(3,a=!1)}}}async function C(){if(d){l(6,m=!0);try{const x=await fetch(`/api/broll/search?q=${encodeURIComponent(d)}`);if(x.ok){const q=await x.json();l(5,p=q.results||[])}}catch(x){console.error("B-Roll search failed:",x)}finally{l(6,m=!1)}}}function E(x){n&&se.addBRoll({id:crypto.randomUUID(),url:x.video_url,thumbnail:x.thumbnail,start:n.videoDuration*.3,duration:5,source:x.source})}const F=x=>se.updateStyle({wordByWord:x.target.checked}),I=x=>se.updateStyle({highlightWords:x.target.checked}),B=x=>se.updateStyle({highlightColor:x});function P(x,q){x[q].emoji=this.value,l(11,k)}const M=(x,q,ne)=>se.updateWordEmoji(x.id,q,ne.target.value),T=(x,q,ne)=>se.updateWordIsKeyword(x.id,q,ne.target.checked),w=x=>se.applyPreset(x),y=x=>se.updateStyle({fontFamily:x.target.value}),W=x=>se.updateStyle({fontSize:parseInt(x.target.value)}),Z=x=>se.updateStyle({position:x.id}),te=x=>se.updateStyle({animation:x.target.value}),me=x=>se.updateStyle({textShadow:x}),G=x=>se.addBRoll({...x,id:crypto.randomUUID()});function le(){d=this.value,l(4,d)}return[i,s,c,a,d,p,m,g,n,r,o,k,$,b,v,N,L,z,C,E,F,I,B,P,M,T,w,y,W,Z,te,me,G,le,x=>x.key==="Enter"&&C(),x=>E(x),x=>se.addBRoll({...x,id:crypto.randomUUID()})]}class io extends xe{constructor(e){super(),Ce(this,e,oo,ro,ye,{},null,[-1,-1,-1])}}function Il(t,e,l){const n=t.slice();return n[27]=e[l],n}function Ol(t,e,l){const n=t.slice();return n[27]=e[l],n}function Hl(t,e,l){const n=t.slice();return n[32]=e[l],n}function Ul(t,e,l){const n=t.slice();return n[35]=e[l],n[37]=l,n}function Vl(t,e,l){const n=t.slice();return n[38]=e[l],n[40]=l,n}function ql(t){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),ae(e,"top",t[40]*10/t[0]*100+"%")},m(l,n){j(l,e,n)},p(l,n){n[0]&1&&ae(e,"top",l[40]*10/l[0]*100+"%")},d(l){l&&A(e)}}}function Gl(t){let e,l,n=en(t[35].start,t[35].end)+"",r,o,i,s=t[35].text+"",c,a,d,p,m,g,h;function k(){return t[16](t[35])}return{c(){e=_("button"),l=_("span"),r=U(n),o=S(),i=_("span"),c=U(s),a=S(),f(l,"class","text-[9px] text-primary-light font-mono mb-1"),f(i,"class","w-full text-center leading-tight text-[11px] font-medium break-words line-clamp-3"),f(e,"class",d="absolute mx-1 rounded bg-primary-dark border-2 border-primary hover:bg-primary transition flex flex-col items-center justify-center px-2 py-2 text-white "+(t[8].selectedCaptionId===t[35].id?"ring-2 ring-white z-10":"z-0")),f(e,"style",p=t[13](t[35],t[37])),f(e,"title",m=t[35].text)},m($,b){j($,e,b),u(e,l),u(l,r),u(e,o),u(e,i),u(i,c),u(e,a),g||(h=Y(e,"click",Mt(k)),g=!0)},p($,b){t=$,b[0]&128&&n!==(n=en(t[35].start,t[35].end)+"")&&de(r,n),b[0]&128&&s!==(s=t[35].text+"")&&de(c,s),b[0]&384&&d!==(d="absolute mx-1 rounded bg-primary-dark border-2 border-primary hover:bg-primary transition flex flex-col items-center justify-center px-2 py-2 text-white "+(t[8].selectedCaptionId===t[35].id?"ring-2 ring-white z-10":"z-0"))&&f(e,"class",d),b[0]&128&&p!==(p=t[13](t[35],t[37]))&&f(e,"style",p),b[0]&128&&m!==(m=t[35].text)&&f(e,"title",m)},d($){$&&A(e),g=!1,h()}}}function Yl(t){let e,l=[],n=new Map,r,o=V(t[6]);const i=s=>s[32].id;for(let s=0;s<o.length;s+=1){let c=Hl(t,o,s),a=i(c);n.set(a,l[s]=Kl(a,c))}return{c(){e=_("div");for(let s=0;s<l.length;s+=1)l[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,c){j(s,e,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);r=!0},p(s,c){c[0]&4673&&(o=V(s[6]),pe(),l=Tt(l,c,i,1,s,o,n,e,In,Kl,null,Hl),ge())},i(s){if(!r){for(let c=0;c<o.length;c+=1)R(l[c]);r=!0}},o(s){for(let c=0;c<l.length;c+=1)D(l[c]);r=!1},d(s){s&&A(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function Kl(t,e){let l,n,r,o,i,s,c,a,d,p;n=new mt({props:{class:"w-3 h-3 text-white"}}),i=new hr({props:{class:"w-3 h-3"}});function m(){return e[17](e[32])}function g(...h){return e[18](e[32],...h)}return{key:t,first:null,c(){l=_("div"),ee(n.$$.fragment),r=S(),o=_("button"),ee(i.$$.fragment),s=S(),f(o,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(o,"title","Remove B-Roll Clip"),f(l,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),ae(l,"top",e[32].start/e[0]*100+"%"),ae(l,"height",e[32].duration/e[0]*100+"%"),f(l,"title",c="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=l},m(h,k){j(h,l,k),Q(n,l,null),u(l,r),u(l,o),Q(i,o,null),u(l,s),a=!0,d||(p=[Y(o,"click",Mt(m)),Y(l,"mousedown",g)],d=!0)},p(h,k){e=h,(!a||k[0]&65)&&ae(l,"top",e[32].start/e[0]*100+"%"),(!a||k[0]&65)&&ae(l,"height",e[32].duration/e[0]*100+"%"),(!a||k[0]&64&&c!==(c="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(l,"title",c)},i(h){a||(R(n.$$.fragment,h),R(i.$$.fragment,h),a=!0)},o(h){D(n.$$.fragment,h),D(i.$$.fragment,h),a=!1},d(h){h&&A(l),X(n),X(i),d=!1,$e(p)}}}function Zl(t){let e,l=[],n=new Map,r=V(t[5]);const o=i=>i[27].id;for(let i=0;i<r.length;i+=1){let s=Ol(t,r,i),c=o(s);n.set(c,l[i]=Jl(c,s))}return{c(){e=_("div");for(let i=0;i<l.length;i+=1)l[i].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(i,s){j(i,e,s);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(i,s){s[0]&33&&(r=V(i[5]),l=Tt(l,s,o,1,i,r,n,e,bn,Jl,null,Ol))},d(i){i&&A(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Jl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),ae(l,"top",e[27].start/e[0]*100+"%"),ae(l,"height",(e[27].end-e[27].start)/e[0]*100+"%"),f(l,"title",n="Zoom: "+e[27].type+" at "+Qe(e[27].start)),this.first=l},m(r,o){j(r,l,o)},p(r,o){e=r,o[0]&33&&ae(l,"top",e[27].start/e[0]*100+"%"),o[0]&33&&ae(l,"height",(e[27].end-e[27].start)/e[0]*100+"%"),o[0]&32&&n!==(n="Zoom: "+e[27].type+" at "+Qe(e[27].start))&&f(l,"title",n)},d(r){r&&A(l)}}}function Ql(t){let e,l=[],n=new Map,r=V(t[4]);const o=i=>i[27].id;for(let i=0;i<r.length;i+=1){let s=Il(t,r,i),c=o(s);n.set(c,l[i]=Xl(c,s))}return{c(){e=_("div");for(let i=0;i<l.length;i+=1)l[i].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(i,s){j(i,e,s);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(i,s){s[0]&17&&(r=V(i[4]),l=Tt(l,s,o,1,i,r,n,e,bn,Xl,null,Il))},d(i){i&&A(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Xl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),ae(l,"top",e[27].start/e[0]*100+"%"),f(l,"title",n="Sound: "+e[27].type+" at "+Qe(e[27].start)),this.first=l},m(r,o){j(r,l,o)},p(r,o){e=r,o[0]&17&&ae(l,"top",e[27].start/e[0]*100+"%"),o[0]&16&&n!==(n="Sound: "+e[27].type+" at "+Qe(e[27].start))&&f(l,"title",n)},d(r){r&&A(l)}}}function so(t){let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v=Qe(t[1])+"",N,L,z,C,E=V(Array(Math.max(1,Math.ceil(t[0]/10)))),F=[];for(let w=0;w<E.length;w+=1)F[w]=ql(Vl(t,E,w));let I=V(t[7]),B=[];for(let w=0;w<I.length;w+=1)B[w]=Gl(Ul(t,I,w));let P=t[6].length>0&&Yl(t),M=t[5].length>0&&Zl(t),T=t[4].length>0&&Ql(t);return{c(){e=_("div"),l=_("div"),l.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=S(),r=_("div"),o=_("button"),i=_("div");for(let w=0;w<F.length;w+=1)F[w].c();s=S(),c=_("div");for(let w=0;w<B.length;w+=1)B[w].c();a=S(),P&&P.c(),d=S(),M&&M.c(),p=S(),T&&T.c(),m=S(),g=_("div"),h=_("div"),k=S(),$=_("div"),b=_("span"),N=U(v),f(l,"class","h-10 flex items-center justify-center px-2 bg-dark-light"),f(i,"class","absolute inset-0 pointer-events-none"),f(c,"class","absolute top-0 bottom-0 left-2 right-8"),f(h,"class","absolute -left-1 -top-1 w-3 h-3 bg-white rounded-full shadow-md border-2 border-primary"),f(g,"class","absolute left-0 right-0 h-0.5 bg-white z-50 pointer-events-none transition-all duration-75"),f(g,"style",t[3]),f(o,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(o,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f($,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(w,y){j(w,e,y),u(e,l),u(e,n),u(e,r),u(r,o),u(o,i);for(let W=0;W<F.length;W+=1)F[W]&&F[W].m(i,null);u(o,s),u(o,c);for(let W=0;W<B.length;W+=1)B[W]&&B[W].m(c,null);u(o,a),P&&P.m(o,null),u(o,d),M&&M.m(o,null),u(o,p),T&&T.m(o,null),u(o,m),u(o,g),u(g,h),t[19](o),u(e,k),u(e,$),u($,b),u(b,N),L=!0,z||(C=Y(o,"click",t[10]),z=!0)},p(w,y){if(y[0]&1){E=V(Array(Math.max(1,Math.ceil(w[0]/10))));let W;for(W=0;W<E.length;W+=1){const Z=Vl(w,E,W);F[W]?F[W].p(Z,y):(F[W]=ql(Z),F[W].c(),F[W].m(i,null))}for(;W<F.length;W+=1)F[W].d(1);F.length=E.length}if(y[0]&10624){I=V(w[7]);let W;for(W=0;W<I.length;W+=1){const Z=Ul(w,I,W);B[W]?B[W].p(Z,y):(B[W]=Gl(Z),B[W].c(),B[W].m(c,null))}for(;W<B.length;W+=1)B[W].d(1);B.length=I.length}w[6].length>0?P?(P.p(w,y),y[0]&64&&R(P,1)):(P=Yl(w),P.c(),R(P,1),P.m(o,d)):P&&(pe(),D(P,1,1,()=>{P=null}),ge()),w[5].length>0?M?M.p(w,y):(M=Zl(w),M.c(),M.m(o,p)):M&&(M.d(1),M=null),w[4].length>0?T?T.p(w,y):(T=Ql(w),T.c(),T.m(o,m)):T&&(T.d(1),T=null),(!L||y[0]&8)&&f(g,"style",w[3]),(!L||y[0]&2)&&v!==(v=Qe(w[1])+"")&&de(N,v)},i(w){L||(R(P),L=!0)},o(w){D(P),L=!1},d(w){w&&A(e),fe(F,w),fe(B,w),P&&P.d(),M&&M.d(),T&&T.d(),t[19](null),z=!1,C()}}}function en(t,e){const l=n=>{const r=Math.floor(n/60),o=Math.floor(n%60);return`${r}:${o.toString().padStart(2,"0")}`};return`${l(t)} - ${l(e)}`}function ao(t,e,l){let n,r,o,i,s,c,a,d,p,m;Re(t,se,w=>l(14,d=w)),Re(t,We,w=>l(15,p=w)),Re(t,it,w=>l(8,m=w));let g,h=!1,k=null,$=0,b=0,v;Bt(()=>(v=g.getBoundingClientRect(),window.addEventListener("mousemove",L),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",z)}));function N(w,y,W){w.button===0&&(h=!0,k=y,$=w.clientY,b=W,v=g.getBoundingClientRect(),w.preventDefault())}function L(w){var me;if(!h||!k||!g)return;const Z=(w.clientY-$)/v.height*n;let te=b+Z;te=Math.max(0,Math.min(te,n-(((me=d.bRollClips.find(G=>G.id===k))==null?void 0:me.duration)||0))),se.updateBRollClipStart(k,te)}function z(){h=!1,k=null}function C(w){if(!g||n<=0||h)return;const y=g.getBoundingClientRect(),W=w.clientY-y.top,te=Math.max(0,Math.min(1,W/y.height))*n;We.setCurrentTime(te),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:te}}))}function E(w){it.update(y=>({...y,selectedCaptionId:w.id})),We.setCurrentTime(w.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:w.start}}))}function F(w){se.removeBRoll(w)}function I(w,y){const W=w.start/n*100,Z=Math.max(6,(w.end-w.start)/n*100),me=y%3,G=28,le=2+me*G;return`top: ${W}%; height: ${Z}%; left: ${le}%; width: ${G-2}%;`}const B=w=>E(w),P=w=>F(w.id),M=(w,y)=>N(y,w.id,w.start);function T(w){gt[w?"unshift":"push"](()=>{g=w,l(2,g)})}return t.$$.update=()=>{t.$$.dirty[0]&16384&&l(0,n=(d==null?void 0:d.videoDuration)||1),t.$$.dirty[0]&16384&&l(7,r=(d==null?void 0:d.captions)||[]),t.$$.dirty[0]&16384&&l(6,o=(d==null?void 0:d.bRollClips)||[]),t.$$.dirty[0]&16384&&l(5,i=(d==null?void 0:d.zoomEffects)||[]),t.$$.dirty[0]&16384&&l(4,s=(d==null?void 0:d.soundEffects)||[]),t.$$.dirty[0]&32768&&l(1,c=p.currentTime),t.$$.dirty[0]&3&&l(3,a=!n||n<=0?"top: 0%;":`top: ${Math.max(0,Math.min(100,c/n*100))}%;`)},[n,c,g,a,s,i,o,r,m,N,C,E,F,I,d,p,B,P,M,T]}class co extends xe{constructor(e){super(),Ce(this,e,ao,so,ye,{},null,[-1,-1])}}function uo(t){const e=t-1;return e*e*e+1}function tn(t,{delay:e=0,duration:l=400,easing:n=fn}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:o=>`opacity: ${o*r}`}}function ln(t,{delay:e=0,duration:l=400,easing:n=uo,start:r=0,opacity:o=0}={}){const i=getComputedStyle(t),s=+i.opacity,c=i.transform==="none"?"":i.transform,a=1-r,d=s*(1-o);return{delay:e,duration:l,easing:n,css:(p,m)=>`
			transform: ${c} scale(${1-a*m});
			opacity: ${s-d*m}
		`}}function nn(t,e,l){const n=t.slice();return n[14]=e[l],n}function rn(t,e,l){const n=t.slice();return n[17]=e[l],n}function on(t,e,l){const n=t.slice();return n[20]=e[l],n}function sn(t){let e,l,n,r,o,i,s,c,a;function d(g,h){return g[1]?ho:fo}let p=d(t),m=p(t);return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent="Export Video",r=S(),m.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(l,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(g,h){j(g,e,h),u(e,l),u(l,n),u(l,r),m.m(l,null),s=!0,c||(a=[Y(l,"click",Mt(t[8])),Y(e,"click",t[6]),Y(e,"keydown",t[12])],c=!0)},p(g,h){p===(p=d(g))&&m?m.p(g,h):(m.d(1),m=p(g),m&&(m.c(),m.m(l,null)))},i(g){s||(g&&Je(()=>{s&&(o||(o=ut(l,ln,{duration:200,start:.95},!0)),o.run(1))}),g&&Je(()=>{s&&(i||(i=ut(e,tn,{duration:200},!0)),i.run(1))}),s=!0)},o(g){g&&(o||(o=ut(l,ln,{duration:200,start:.95},!1)),o.run(0)),g&&(i||(i=ut(e,tn,{duration:200},!1)),i.run(0)),s=!1},d(g){g&&A(e),m.d(),g&&o&&o.end(),g&&i&&i.end(),c=!1,$e(a)}}}function fo(t){let e,l,n,r,o,i,s,c,a,d,p,m,g,h,k,$,b,v,N,L,z,C,E=V(["1080x1920","1920x1080","1080x1080"]),F=[];for(let T=0;T<3;T+=1)F[T]=an(on(t,E,T));let I=V([24,30,60]),B=[];for(let T=0;T<3;T+=1)B[T]=cn(rn(t,I,T));let P=V(["standard","high","ultra"]),M=[];for(let T=0;T<3;T+=1)M[T]=un(nn(t,P,T));return{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Resolution",r=S(),o=_("div");for(let T=0;T<3;T+=1)F[T].c();i=S(),s=_("div"),c=_("label"),c.textContent="Frame Rate",a=S(),d=_("div");for(let T=0;T<3;T+=1)B[T].c();p=S(),m=_("div"),g=_("label"),g.textContent="Quality",h=S(),k=_("div");for(let T=0;T<3;T+=1)M[T].c();$=S(),b=_("div"),v=_("button"),v.textContent="Cancel",N=S(),L=_("button"),L.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(o,"class","grid grid-cols-3 gap-2"),f(c,"class","text-sm text-dark-text-light mb-2 block"),f(d,"class","flex gap-2"),f(g,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f(v,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(L,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(T,w){j(T,e,w),u(e,l),u(l,n),u(l,r),u(l,o);for(let y=0;y<3;y+=1)F[y]&&F[y].m(o,null);u(e,i),u(e,s),u(s,c),u(s,a),u(s,d);for(let y=0;y<3;y+=1)B[y]&&B[y].m(d,null);u(e,p),u(e,m),u(m,g),u(m,h),u(m,k);for(let y=0;y<3;y+=1)M[y]&&M[y].m(k,null);u(e,$),u(e,b),u(b,v),u(b,N),u(b,L),z||(C=[Y(v,"click",t[6]),Y(L,"click",t[5])],z=!0)},p(T,w){if(w&1){E=V(["1080x1920","1920x1080","1080x1080"]);let y;for(y=0;y<3;y+=1){const W=on(T,E,y);F[y]?F[y].p(W,w):(F[y]=an(W),F[y].c(),F[y].m(o,null))}for(;y<3;y+=1)F[y].d(1)}if(w&1){I=V([24,30,60]);let y;for(y=0;y<3;y+=1){const W=rn(T,I,y);B[y]?B[y].p(W,w):(B[y]=cn(W),B[y].c(),B[y].m(d,null))}for(;y<3;y+=1)B[y].d(1)}if(w&1){P=V(["standard","high","ultra"]);let y;for(y=0;y<3;y+=1){const W=nn(T,P,y);M[y]?M[y].p(W,w):(M[y]=un(W),M[y].c(),M[y].m(k,null))}for(;y<3;y+=1)M[y].d(1)}},d(T){T&&A(e),fe(F,T),fe(B,T),fe(M,T),z=!1,$e(C)}}}function ho(t){let e,l,n,r,o,i,s,c,a,d,p,m,g;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=S(),o=_("p"),i=U(t[3]),s=S(),c=_("p"),a=U(t[2]),d=U("% complete"),p=S(),m=_("div"),g=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(o,"class","text-lg font-medium text-white"),f(c,"class","text-sm text-dark-text-light mt-1"),f(l,"class","text-center"),f(g,"class","h-full bg-primary transition-all duration-300"),ae(g,"width",t[2]+"%"),f(m,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(h,k){j(h,e,k),u(e,l),u(l,n),u(l,r),u(l,o),u(o,i),u(l,s),u(l,c),u(c,a),u(c,d),u(e,p),u(e,m),u(m,g)},p(h,k){k&8&&de(i,h[3]),k&4&&de(a,h[2]),k&4&&ae(g,"width",h[2]+"%")},d(h){h&&A(e)}}}function an(t){let e,l=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,o,i,s;function c(){return t[9](t[20])}return{c(){e=_("button"),n=U(l),r=S(),f(e,"class",o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){j(a,e,d),u(e,n),u(e,r),i||(s=Y(e,"click",c),i=!0)},p(a,d){t=a,d&1&&o!==(o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",o)},d(a){a&&A(e),i=!1,s()}}}function cn(t){let e,l,n,r,o,i;function s(){return t[10](t[17])}return{c(){e=_("button"),l=U(t[17]),n=U(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){j(c,e,a),u(e,l),u(e,n),o||(i=Y(e,"click",s),o=!0)},p(c,a){t=c,a&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&A(e),o=!1,i()}}}function un(t){let e,l=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",n,r,o,i,s;function c(){return t[11](t[14])}return{c(){e=_("button"),n=U(l),r=S(),f(e,"class",o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){j(a,e,d),u(e,n),u(e,r),i||(s=Y(e,"click",c),i=!0)},p(a,d){t=a,d&1&&o!==(o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",o)},d(a){a&&A(e),i=!1,s()}}}function po(t){let e,l=t[4]&&sn(t);return{c(){l&&l.c(),e=Et()},m(n,r){l&&l.m(n,r),j(n,e,r)},p(n,[r]){n[4]?l?(l.p(n,r),r&16&&R(l,1)):(l=sn(n),l.c(),R(l,1),l.m(e.parentNode,e)):l&&(pe(),D(l,1,1,()=>{l=null}),ge())},i(n){R(l)},o(n){D(l)},d(n){n&&A(e),l&&l.d(n)}}}function go(t,e,l){let n,r,o;Re(t,se,b=>l(13,r=b)),Re(t,it,b=>l(7,o=b));let i={resolution:"1080x1920",fps:30,quality:"high"},s=!1,c=0,a="";async function d(){if(!r)return;l(1,s=!0),l(3,a="Preparing..."),l(2,c=0);let b=null;try{console.log("Starting export for project:",r.id);const v=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:i,style:r.style,captions:r.captions})});if(!v.ok){const z=await v.json();throw new Error(z.message||"Export failed")}const N=await v.json();console.log("Export queued:",N);const L=setInterval(async()=>{try{const C=await(await fetch(`/api/export/status/${N.export_id}`)).json();console.log("Export status:",C),l(2,c=C.progress||0),l(3,a=C.message||"Processing..."),C.download_url&&(b=C.download_url),C.status==="completed"?(clearInterval(L),l(1,s=!1),C.download_url&&window.open(C.download_url,"_blank"),p()):C.status==="failed"&&(clearInterval(L),l(1,s=!1),l(3,a=C.message||"Export failed"))}catch(z){console.error("Polling error:",z)}},2e3)}catch(v){l(1,s=!1),l(3,a=`Error: ${v.message}`),console.error("Export error:",v)}}function p(){s||it.update(b=>({...b,isExporting:!1}))}function m(b){Wn.call(this,t,b)}const g=b=>l(0,i.resolution=b,i),h=b=>l(0,i.fps=b,i),k=b=>l(0,i.quality=b,i),$=b=>b.key==="Escape"&&p();return t.$$.update=()=>{t.$$.dirty&128&&l(4,n=o.isExporting)},[i,s,c,a,n,d,p,o,m,g,h,k,$]}class mo extends xe{constructor(e){super(),Ce(this,e,go,po,ye,{})}}function _o(t){let e,l;return e=new Er({props:{$$slots:{timeline:[Co],panel:[$o],preview:[wo],sidebar:[yo]},$$scope:{ctx:t}}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},p(n,r){const o={};r&64&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function bo(t){let e,l,n,r,o,i,s,c,a,d,p,m,g;return{c(){e=_("div"),l=_("h2"),l.textContent="Start Creating Magic",n=S(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,o=S(),i=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,c=S(),a=_("a"),a.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,d=S(),p=_("p"),p.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(l,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(a,"href","/dashboard"),f(a,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(i,"class","flex gap-4 mb-12 animate-bounce-in"),f(p,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(h,k){j(h,e,k),u(e,l),u(e,n),u(e,r),u(e,o),u(e,i),u(i,s),u(i,c),u(i,a),u(e,d),u(e,p),m||(g=Y(s,"click",t[3]),m=!0)},p:J,i:J,o:J,d(h){h&&A(e),m=!1,g()}}}function ko(t){let e,l;return{c(){e=_("div"),l=U(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){j(n,e,r),u(e,l)},p(n,r){r&2&&de(l,n[1])},i:J,o:J,d(n){n&&A(e)}}}function vo(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(l,n){j(l,e,n)},p:J,i:J,o:J,d(l){l&&A(e)}}}function yo(t){let e,l;return e=new yr({props:{slot:"sidebar"}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},p:J,i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function wo(t){let e,l;return e=new Pr({props:{slot:"preview"}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},p:J,i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function $o(t){let e,l;return e=new io({props:{slot:"panel"}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},p:J,i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Co(t){let e,l;return e=new co({props:{slot:"timeline"}}),{c(){ee(e.$$.fragment)},m(n,r){Q(e,n,r),l=!0},p:J,i(n){l||(R(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function xo(t){let e,l,n,r,o,i;const s=[vo,ko,bo,_o],c=[];function a(d,p){return d[0]?0:d[1]?1:d[2]?3:2}return l=a(t),n=c[l]=s[l](t),o=new mo({}),{c(){e=_("main"),n.c(),r=S(),ee(o.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(d,p){j(d,e,p),c[l].m(e,null),j(d,r,p),Q(o,d,p),i=!0},p(d,[p]){let m=l;l=a(d),l===m?c[l].p(d,p):(pe(),D(c[m],1,1,()=>{c[m]=null}),ge(),n=c[l],n?n.p(d,p):(n=c[l]=s[l](d),n.c()),R(n,1),n.m(e,null))},i(d){i||(R(n),R(o.$$.fragment,d),i=!0)},o(d){D(n),D(o.$$.fragment,d),i=!1},d(d){d&&(A(e),A(r)),c[l].d(),X(o,d)}}}function Fo(t,e,l){let n;Re(t,se,a=>l(2,n=a));let r=null,o=!0,i=null;Bt(async()=>{const a=window.location.pathname.split("/"),d=a.indexOf("edit");d>-1&&a.length>d+1?(r=a[d+1],await s(r)):l(0,o=!1)});async function s(a){try{l(0,o=!0),console.log("Loading project:",a);const d=await fetch(`/api/editor_data/${a}`);if(console.log("Response status:",d.status),!d.ok)throw new Error("Failed to load project");const p=await d.json();console.log("Project data received:",p),console.log("Video URL:",p.video_url),console.log("Captions:",p.captions);const m=p.captions||[];console.log("Processing captions:",m.length,"items");let g=0;if(m.length>0){const k=m[m.length-1];if(k!=null&&k.words&&k.words.length>0){const $=k.words[k.words.length-1];g=($==null?void 0:$.end)||0}else k!=null&&k.end&&(g=k.end)}console.log("Calculated duration:",g);const h={id:p.job_id,name:p.original_filename||"Untitled",videoUrl:p.video_url,videoDuration:g,captions:m,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:p.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date};console.log("Setting project store with:",h),se.set(h),g&&We.update(k=>({...k,duration:g})),console.log("Project loaded successfully")}catch(d){console.error("Error loading project:",d),l(1,i=d instanceof Error?d.message:"Failed to load project")}finally{l(0,o=!1),console.log("Loading finished. currentProject:",n)}}return[o,i,n,()=>window.location.href="/upload"]}class So extends xe{constructor(e){super(),Ce(this,e,Fo,xo,ye,{})}}new So({target:document.getElementById("app")});
