var At=Object.defineProperty;var Vt=(o,e,n)=>e in o?At(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n;var Qe=(o,e,n)=>Vt(o,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function he(){}function N(o,e){for(const n in e)o[n]=e[n];return o}function Pt(o){return o()}function ut(){return Object.create(null)}function Ne(o){o.forEach(Pt)}function It(o){return typeof o=="function"}function G(o,e){return o!=o?e==e:o!==e||o&&typeof o=="object"||typeof o=="function"}let He;function dt(o,e){return o===e?!0:(He||(He=document.createElement("a")),He.href=e,o===He.href)}function Ot(o){return Object.keys(o).length===0}function ie(o,e,n,t){if(o){const l=Wt(o,e,n,t);return o[0](l)}}function Wt(o,e,n,t){return o[1]&&t?N(n.ctx.slice(),o[1](t(e))):n.ctx}function ce(o,e,n,t){return o[2],e.dirty}function ae(o,e,n,t,l,r){if(l){const s=Wt(e,n,t,r);o.p(s,l)}}function fe(o){if(o.ctx.length>32){const e=[],n=o.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function U(o){const e={};for(const n in o)n[0]!=="$"&&(e[n]=o[n]);return e}function mt(o,e){const n={};e=new Set(e);for(const t in o)!e.has(t)&&t[0]!=="$"&&(n[t]=o[t]);return n}function c(o,e){o.appendChild(e)}function K(o,e,n){o.insertBefore(e,n||null)}function J(o){o.parentNode&&o.parentNode.removeChild(o)}function Ut(o,e){for(let n=0;n<o.length;n+=1)o[n]&&o[n].d(e)}function v(o){return document.createElement(o)}function Le(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function R(o){return document.createTextNode(o)}function F(){return R(" ")}function lt(){return R("")}function q(o,e,n,t){return o.addEventListener(e,n,t),()=>o.removeEventListener(e,n,t)}function gt(o){return function(e){return e.preventDefault(),o.call(this,e)}}function et(o){return function(e){return e.stopPropagation(),o.call(this,e)}}function f(o,e,n){n==null?o.removeAttribute(e):o.getAttribute(e)!==n&&o.setAttribute(e,n)}function Re(o,e){for(const n in e)f(o,n,e[n])}function Dt(o){return o===""?null:+o}function Ht(o){return Array.from(o.childNodes)}function ge(o,e){e=""+e,o.data!==e&&(o.data=e)}function Je(o,e){o.value=e??""}function ve(o,e,n,t){n==null?o.style.removeProperty(e):o.style.setProperty(e,n,"")}function we(o,e,n){o.classList.toggle(e,!!n)}let Oe;function Ve(o){Oe=o}function Lt(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function ot(o){Lt().$$.on_mount.push(o)}function Bt(o){Lt().$$.on_destroy.push(o)}const We=[],Ke=[];let Fe=[];const ht=[],qt=Promise.resolve();let tt=!1;function Rt(){tt||(tt=!0,qt.then(Ft))}function nt(o){Fe.push(o)}const Ye=new Set;let Ie=0;function Ft(){if(Ie!==0)return;const o=Oe;do{try{for(;Ie<We.length;){const e=We[Ie];Ie++,Ve(e),Jt(e.$$)}}catch(e){throw We.length=0,Ie=0,e}for(Ve(null),We.length=0,Ie=0;Ke.length;)Ke.pop()();for(let e=0;e<Fe.length;e+=1){const n=Fe[e];Ye.has(n)||(Ye.add(n),n())}Fe.length=0}while(We.length);for(;ht.length;)ht.pop()();tt=!1,Ye.clear(),Ve(o)}function Jt(o){if(o.fragment!==null){o.update(),Ne(o.before_update);const e=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,e),o.after_update.forEach(nt)}}function Kt(o){const e=[],n=[];Fe.forEach(t=>o.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Fe=e}const qe=new Set;let Me;function Ue(){Me={r:0,c:[],p:Me}}function De(){Me.r||Ne(Me.c),Me=Me.p}function k(o,e){o&&o.i&&(qe.delete(o),o.i(e))}function y(o,e,n,t){if(o&&o.o){if(qe.has(o))return;qe.add(o),Me.c.push(()=>{qe.delete(o),t&&(n&&o.d(1),t())}),o.o(e)}else t&&t()}function ze(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function Gt(o,e){o.d(1),e.delete(o.key)}function Xt(o,e){y(o,1,1,()=>{e.delete(o.key)})}function zt(o,e,n,t,l,r,s,i,a,m,p,w){let u=o.length,h=r.length,_=u;const C={};for(;_--;)C[o[_].key]=_;const W=[],S=new Map,I=new Map,E=[];for(_=h;_--;){const T=w(l,r,_),d=n(T);let g=s.get(d);g?E.push(()=>g.p(T,e)):(g=m(d,T),g.c()),S.set(d,W[_]=g),d in C&&I.set(d,Math.abs(_-C[d]))}const P=new Set,b=new Set;function L(T){k(T,1),T.m(i,p),s.set(T.key,T),p=T.first,h--}for(;u&&h;){const T=W[h-1],d=o[u-1],g=T.key,M=d.key;T===d?(p=T.first,u--,h--):S.has(M)?!s.has(g)||P.has(g)?L(T):b.has(M)?u--:I.get(g)>I.get(M)?(b.add(g),L(T)):(P.add(M),u--):(a(d,s),u--)}for(;u--;){const T=o[u];S.has(T.key)||a(T,s)}for(;h;)L(W[h-1]);return Ne(E),W}function le(o,e){const n={},t={},l={$$scope:1};let r=o.length;for(;r--;){const s=o[r],i=e[r];if(i){for(const a in s)a in i||(t[a]=1);for(const a in i)l[a]||(n[a]=i[a],l[a]=1);o[r]=i}else for(const a in s)l[a]=1}for(const s in t)s in n||(n[s]=void 0);return n}function ue(o){return typeof o=="object"&&o!==null?o:{}}function O(o){o&&o.c()}function A(o,e,n){const{fragment:t,after_update:l}=o.$$;t&&t.m(e,n),nt(()=>{const r=o.$$.on_mount.map(Pt).filter(It);o.$$.on_destroy?o.$$.on_destroy.push(...r):Ne(r),o.$$.on_mount=[]}),l.forEach(nt)}function V(o,e){const n=o.$$;n.fragment!==null&&(Kt(n.after_update),Ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zt(o,e){o.$$.dirty[0]===-1&&(We.push(o),Rt(),o.$$.dirty.fill(0)),o.$$.dirty[e/31|0]|=1<<e%31}function Q(o,e,n,t,l,r,s=null,i=[-1]){const a=Oe;Ve(o);const m=o.$$={fragment:null,ctx:[],props:r,update:he,not_equal:l,bound:ut(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ut(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(m.root);let p=!1;if(m.ctx=n?n(o,e.props||{},(w,u,...h)=>{const _=h.length?h[0]:u;return m.ctx&&l(m.ctx[w],m.ctx[w]=_)&&(!m.skip_bound&&m.bound[w]&&m.bound[w](_),p&&Zt(o,w)),u}):[],m.update(),p=!0,Ne(m.before_update),m.fragment=t?t(m.ctx):!1,e.target){if(e.hydrate){const w=Ht(e.target);m.fragment&&m.fragment.l(w),w.forEach(J)}else m.fragment&&m.fragment.c();e.intro&&k(o.$$.fragment),A(o,e.target,e.anchor),Ft()}Ve(a)}class Y{constructor(){Qe(this,"$$");Qe(this,"$$set")}$destroy(){V(this,1),this.$destroy=he}$on(e,n){if(!It(n))return he;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const l=t.indexOf(n);l!==-1&&t.splice(l,1)}}$set(e){this.$$set&&!Ot(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Qt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Qt);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function pt(o,e,n){const t=o.slice();return t[10]=e[n][0],t[11]=e[n][1],t}function xe(o){let e,n=[o[11]],t={};for(let l=0;l<n.length;l+=1)t=N(t,n[l]);return{c(){e=Le(o[10]),Re(e,t)},m(l,r){K(l,e,r)},p(l,r){Re(e,t=le(n,[r&32&&l[11]]))},d(l){l&&J(e)}}}function bt(o){let e=o[10],n,t=o[10]&&xe(o);return{c(){t&&t.c(),n=lt()},m(l,r){t&&t.m(l,r),K(l,n,r)},p(l,r){l[10]?e?G(e,l[10])?(t.d(1),t=xe(l),e=l[10],t.c(),t.m(n.parentNode,n)):t.p(l,r):(t=xe(l),e=l[10],t.c(),t.m(n.parentNode,n)):e&&(t.d(1),t=null,e=l[10])},d(l){l&&J(n),t&&t.d(l)}}}function Yt(o){let e,n,t,l,r,s=ze(o[5]),i=[];for(let u=0;u<s.length;u+=1)i[u]=bt(pt(o,s,u));const a=o[9].default,m=ie(a,o,o[8],null);let p=[_t,o[6],{width:o[2]},{height:o[2]},{stroke:o[1]},{"stroke-width":t=o[4]?Number(o[3])*24/Number(o[2]):o[3]},{class:l=`lucide-icon lucide lucide-${o[0]} ${o[7].class??""}`}],w={};for(let u=0;u<p.length;u+=1)w=N(w,p[u]);return{c(){e=Le("svg");for(let u=0;u<i.length;u+=1)i[u].c();n=lt(),m&&m.c(),Re(e,w)},m(u,h){K(u,e,h);for(let _=0;_<i.length;_+=1)i[_]&&i[_].m(e,null);c(e,n),m&&m.m(e,null),r=!0},p(u,[h]){if(h&32){s=ze(u[5]);let _;for(_=0;_<s.length;_+=1){const C=pt(u,s,_);i[_]?i[_].p(C,h):(i[_]=bt(C),i[_].c(),i[_].m(e,n))}for(;_<i.length;_+=1)i[_].d(1);i.length=s.length}m&&m.p&&(!r||h&256)&&ae(m,a,u,u[8],r?ce(a,u[8],h,null):fe(u[8]),null),Re(e,w=le(p,[_t,h&64&&u[6],(!r||h&4)&&{width:u[2]},(!r||h&4)&&{height:u[2]},(!r||h&2)&&{stroke:u[1]},(!r||h&28&&t!==(t=u[4]?Number(u[3])*24/Number(u[2]):u[3]))&&{"stroke-width":t},(!r||h&129&&l!==(l=`lucide-icon lucide lucide-${u[0]} ${u[7].class??""}`))&&{class:l}]))},i(u){r||(k(m,u),r=!0)},o(u){y(m,u),r=!1},d(u){u&&J(e),Ut(i,u),m&&m.d(u)}}}function xt(o,e,n){const t=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let l=mt(e,t),{$$slots:r={},$$scope:s}=e,{name:i}=e,{color:a="currentColor"}=e,{size:m=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:w=!1}=e,{iconNode:u}=e;return o.$$set=h=>{n(7,e=N(N({},e),U(h))),n(6,l=mt(e,t)),"name"in h&&n(0,i=h.name),"color"in h&&n(1,a=h.color),"size"in h&&n(2,m=h.size),"strokeWidth"in h&&n(3,p=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,w=h.absoluteStrokeWidth),"iconNode"in h&&n(5,u=h.iconNode),"$$scope"in h&&n(8,s=h.$$scope)},e=U(e),[i,a,m,p,w,u,l,e,s,r]}class de extends Y{constructor(e){super(),Q(this,e,xt,Yt,G,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function en(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function tn(o){let e,n;const t=[{name:"clock"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[en]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function nn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class ln extends Y{constructor(e){super(),Q(this,e,nn,tn,G,{})}}function on(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function rn(o){let e,n;const t=[{name:"copy"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[on]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function sn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class cn extends Y{constructor(e){super(),Q(this,e,sn,rn,G,{})}}function an(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function fn(o){let e,n;const t=[{name:"grip-vertical"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[an]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function un(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class dn extends Y{constructor(e){super(),Q(this,e,un,fn,G,{})}}function mn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function gn(o){let e,n;const t=[{name:"home"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[mn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function hn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class _n extends Y{constructor(e){super(),Q(this,e,hn,gn,G,{})}}function pn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function bn(o){let e,n;const t=[{name:"log-out"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[pn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function vn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class wn extends Y{constructor(e){super(),Q(this,e,vn,bn,G,{})}}function kn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function yn(o){let e,n;const t=[{name:"maximize"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[kn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function $n(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class Nn extends Y{constructor(e){super(),Q(this,e,$n,yn,G,{})}}function Cn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function En(o){let e,n;const t=[{name:"pause"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Cn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Sn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class Tn extends Y{constructor(e){super(),Q(this,e,Sn,En,G,{})}}function Mn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function jn(o){let e,n;const t=[{name:"play"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Mn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Pn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class In extends Y{constructor(e){super(),Q(this,e,Pn,jn,G,{})}}function Wn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Ln(o){let e,n;const t=[{name:"settings"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Wn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Fn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class zn extends Y{constructor(e){super(),Q(this,e,Fn,Ln,G,{})}}function An(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Vn(o){let e,n;const t=[{name:"skip-back"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[An]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function On(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class Un extends Y{constructor(e){super(),Q(this,e,On,Vn,G,{})}}function Dn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Hn(o){let e,n;const t=[{name:"skip-forward"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Dn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Bn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class qn extends Y{constructor(e){super(),Q(this,e,Bn,Hn,G,{})}}function Rn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Jn(o){let e,n;const t=[{name:"trash-2"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Rn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Kn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class Gn extends Y{constructor(e){super(),Q(this,e,Kn,Jn,G,{})}}function Xn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function Zn(o){let e,n;const t=[{name:"user"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[Xn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Qn(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class Yn extends Y{constructor(e){super(),Q(this,e,Qn,Zn,G,{})}}function xn(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function el(o){let e,n;const t=[{name:"video"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[xn]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function tl(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["path",{d:"m22 8-6 4 6 4V8Z"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class vt extends Y{constructor(e){super(),Q(this,e,tl,el,G,{})}}function nl(o){let e;const n=o[2].default,t=ie(n,o,o[3],null);return{c(){t&&t.c()},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&8)&&ae(t,n,l,l[3],e?ce(n,l[3],r,null):fe(l[3]),null)},i(l){e||(k(t,l),e=!0)},o(l){y(t,l),e=!1},d(l){t&&t.d(l)}}}function ll(o){let e,n;const t=[{name:"volume-2"},o[1],{iconNode:o[0]}];let l={$$slots:{default:[nl]},$$scope:{ctx:o}};for(let r=0;r<t.length;r+=1)l=N(l,t[r]);return e=new de({props:l}),{c(){O(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?le(t,[t[0],s&2&&ue(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(k(e.$$.fragment,r),n=!0)},o(r){y(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function ol(o,e,n){let{$$slots:t={},$$scope:l}=e;const r=[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}]];return o.$$set=s=>{n(1,e=N(N({},e),U(s))),"$$scope"in s&&n(3,l=s.$$scope)},e=U(e),[r,e,t,l]}class rl extends Y{constructor(e){super(),Q(this,e,ol,ll,G,{})}}function wt(o,e,n){const t=o.slice();return t[18]=e[n],t}function sl(o){let e,n=o[18].text+"",t,l,r;function s(){return o[13](o[18])}return{c(){e=v("p"),t=R(n),f(e,"class","text-sm text-gray-800 leading-relaxed cursor-text")},m(i,a){K(i,e,a),c(e,t),l||(r=q(e,"click",et(s)),l=!0)},p(i,a){o=i,a&1&&n!==(n=o[18].text+"")&&ge(t,n)},d(i){i&&J(e),l=!1,r()}}}function il(o){let e,n,t;function l(){return o[11](o[18])}function r(...s){return o[12](o[18],...s)}return{c(){e=v("textarea"),f(e,"class","w-full text-sm border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"),f(e,"rows","2"),e.autofocus=!0},m(s,i){K(s,e,i),Je(e,o[4]),e.focus(),n||(t=[q(e,"input",o[10]),q(e,"blur",l),q(e,"keydown",r)],n=!0)},p(s,i){o=s,i&16&&Je(e,o[4])},d(s){s&&J(e),n=!1,Ne(t)}}}function kt(o){let e,n;return{c(){e=v("div"),n=v("div"),f(n,"class","h-full bg-green-600 rounded-full transition-all"),ve(n,"width",(o[1]-o[18].start)/(o[18].end-o[18].start)*100+"%"),f(e,"class","absolute bottom-0 left-0 right-0 h-1 bg-green-500 rounded-b-xl")},m(t,l){K(t,e,l),c(e,n)},p(t,l){l&3&&ve(n,"width",(t[1]-t[18].start)/(t[18].end-t[18].start)*100+"%")},d(t){t&&J(e)}}}function yt(o,e){let n,t,l,r,s,i,a,m=Be(e[18].start)+"",p,w,u,h,_,C=Be(e[18].end)+"",W,S,I,E,P=(e[18].end-e[18].start).toFixed(1)+"",b,L,T,d,g,M,x,X,B,D,ke,_e,Z,$e,ye;l=new dn({props:{class:"w-4 h-4"}});function Ee(ee,te){return ee[3]===ee[18].id?il:sl}let $=Ee(e),j=$(e);x=new cn({props:{class:"w-4 h-4"}});function oe(){return e[14](e[18])}D=new Gn({props:{class:"w-4 h-4"}});function re(){return e[15](e[18])}let H=e[1]>=e[18].start&&e[1]<=e[18].end&&kt(e);function me(){return e[16](e[18])}return{key:o,first:null,c(){n=v("div"),t=v("div"),O(l.$$.fragment),r=F(),s=v("div"),i=v("div"),a=v("span"),p=R(m),w=F(),u=v("span"),u.textContent="â†’",h=F(),_=v("span"),W=R(C),S=F(),I=v("span"),E=R("("),b=R(P),L=R("s)"),T=F(),j.c(),d=F(),g=v("div"),M=v("button"),O(x.$$.fragment),X=F(),B=v("button"),O(D.$$.fragment),ke=F(),H&&H.c(),_e=F(),f(t,"class","absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-300 cursor-grab active:cursor-grabbing"),f(a,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),f(_,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),f(I,"class","text-gray-400"),f(i,"class","flex items-center space-x-2 text-xs text-gray-500 mb-2"),f(s,"class","pl-6"),f(M,"class","p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors"),f(M,"title","Duplicate"),f(B,"class","p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors"),f(B,"title","Delete"),f(g,"class","absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1"),f(n,"class","group relative bg-white border-2 rounded-xl p-4 transition-all hover:shadow-md cursor-pointer"),we(n,"border-green-500",e[18].active),we(n,"border-gray-200",!e[18].active),we(n,"bg-green-50",e[18].active),this.first=n},m(ee,te){K(ee,n,te),c(n,t),A(l,t,null),c(n,r),c(n,s),c(s,i),c(i,a),c(a,p),c(i,w),c(i,u),c(i,h),c(i,_),c(_,W),c(i,S),c(i,I),c(I,E),c(I,b),c(I,L),c(s,T),j.m(s,null),c(n,d),c(n,g),c(g,M),A(x,M,null),c(g,X),c(g,B),A(D,B,null),c(n,ke),H&&H.m(n,null),c(n,_e),Z=!0,$e||(ye=[q(M,"click",et(oe)),q(B,"click",et(re)),q(n,"click",me)],$e=!0)},p(ee,te){e=ee,(!Z||te&1)&&m!==(m=Be(e[18].start)+"")&&ge(p,m),(!Z||te&1)&&C!==(C=Be(e[18].end)+"")&&ge(W,C),(!Z||te&1)&&P!==(P=(e[18].end-e[18].start).toFixed(1)+"")&&ge(b,P),$===($=Ee(e))&&j?j.p(e,te):(j.d(1),j=$(e),j&&(j.c(),j.m(s,null))),e[1]>=e[18].start&&e[1]<=e[18].end?H?H.p(e,te):(H=kt(e),H.c(),H.m(n,_e)):H&&(H.d(1),H=null),(!Z||te&1)&&we(n,"border-green-500",e[18].active),(!Z||te&1)&&we(n,"border-gray-200",!e[18].active),(!Z||te&1)&&we(n,"bg-green-50",e[18].active)},i(ee){Z||(k(l.$$.fragment,ee),k(x.$$.fragment,ee),k(D.$$.fragment,ee),Z=!0)},o(ee){y(l.$$.fragment,ee),y(x.$$.fragment,ee),y(D.$$.fragment,ee),Z=!1},d(ee){ee&&J(n),V(l),j.d(),V(x),V(D),H&&H.d(),$e=!1,Ne(ye)}}}function cl(o){let e,n,t,l,r,s,i,a,m=o[0].length+"",p,w,u,h,_=[],C=new Map,W,S,I,E,P,b;l=new ln({props:{class:"w-4 h-4 text-gray-500"}});let L=ze(o[0]);const T=d=>d[18].id;for(let d=0;d<L.length;d+=1){let g=wt(o,L,d),M=T(g);C.set(M,_[d]=yt(M,g))}return{c(){e=v("aside"),n=v("div"),t=v("div"),O(l.$$.fragment),r=F(),s=v("h2"),s.textContent="Timeline",i=F(),a=v("span"),p=R(m),w=R(" captions"),u=F(),h=v("div");for(let d=0;d<_.length;d+=1)_[d].c();W=F(),S=v("div"),I=v("button"),I.innerHTML="<span>+ Add Caption</span>",f(s,"class","font-semibold text-gray-900"),f(t,"class","flex items-center space-x-2"),f(a,"class","text-sm text-gray-500"),f(n,"class","px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50"),f(h,"class","flex-1 overflow-y-auto p-4 space-y-3"),f(I,"class","w-full py-2.5 bg-gray-900 text-white rounded-lg font-medium text-sm hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2"),f(S,"class","p-4 border-t border-gray-200 bg-gray-50"),f(e,"class","w-80 bg-white border-l border-gray-200 flex flex-col flex-shrink-0")},m(d,g){K(d,e,g),c(e,n),c(n,t),A(l,t,null),c(t,r),c(t,s),c(n,i),c(n,a),c(a,p),c(a,w),c(e,u),c(e,h);for(let M=0;M<_.length;M+=1)_[M]&&_[M].m(h,null);c(e,W),c(e,S),c(S,I),E=!0,P||(b=q(I,"click",o[17]),P=!0)},p(d,[g]){(!E||g&1)&&m!==(m=d[0].length+"")&&ge(p,m),g&511&&(L=ze(d[0]),Ue(),_=zt(_,g,T,1,d,L,C,h,Xt,yt,null,wt),De())},i(d){if(!E){k(l.$$.fragment,d);for(let g=0;g<L.length;g+=1)k(_[g]);E=!0}},o(d){y(l.$$.fragment,d);for(let g=0;g<_.length;g+=1)y(_[g]);E=!1},d(d){d&&J(e),V(l);for(let g=0;g<_.length;g+=1)_[g].d();P=!1,b()}}}function Be(o){const e=Math.floor(o/60),n=Math.floor(o%60),t=Math.floor(o%1*100);return`${e}:${n.toString().padStart(2,"0")}.${t.toString().padStart(2,"0")}`}function al(o,e,n){let{captions:t=[]}=e,{currentTime:l=0}=e,{onUpdate:r}=e,{onCaptionClick:s}=e,i=null,a="";function m(b){n(3,i=b.id),n(4,a=b.text)}function p(b){r&&r(b,a),n(3,i=null)}function w(b){n(0,t=t.filter(L=>L.id!==b))}function u(b){const L={...b,id:Date.now(),start:b.end,end:b.end+(b.end-b.start)},T=t.findIndex(d=>d.id===b.id);n(0,t=[...t.slice(0,T+1),L,...t.slice(T+1)])}function h(){a=this.value,n(4,a)}const _=b=>p(b.id),C=(b,L)=>L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),p(b.id)),W=b=>m(b),S=b=>u(b),I=b=>w(b.id),E=b=>s&&s(b),P=()=>{const b=t[t.length-1],L={id:Date.now(),text:"New caption",start:b?b.end:0,end:b?b.end+3:3,active:!1};n(0,t=[...t,L])};return o.$$set=b=>{"captions"in b&&n(0,t=b.captions),"currentTime"in b&&n(1,l=b.currentTime),"onUpdate"in b&&n(9,r=b.onUpdate),"onCaptionClick"in b&&n(2,s=b.onCaptionClick)},[t,l,s,i,a,m,p,w,u,r,h,_,C,W,S,I,E,P]}class fl extends Y{constructor(e){super(),Q(this,e,al,cl,G,{captions:0,currentTime:1,onUpdate:9,onCaptionClick:2})}}function $t(o,e,n){const t=o.slice();t[21]=e[n],t[26]=n;const l=Math.floor((t[7]>=0?t[7]:0)/t[0])*t[0]+t[26];t[22]=l;const r=t[22]===t[7];t[23]=r;const s=t[22]<t[7];return t[24]=s,t}function Nt(o){let e,n,t=[],l=new Map,r=ze(o[8]);const s=i=>`${i[21].start}-${i[21].word}`;for(let i=0;i<r.length;i+=1){let a=$t(o,r,i),m=s(a);l.set(m,t[i]=Ct(m,a))}return{c(){e=v("div"),n=v("div");for(let i=0;i<t.length;i+=1)t[i].c();f(n,"class","hormozi-subtitles-wrapper svelte-xbzblg"),f(e,"class","hormozi-subtitles-container svelte-xbzblg"),ve(e,"font-size",o[4])},m(i,a){K(i,e,a),c(e,n);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(n,null)},p(i,a){a&495&&(r=ze(i[8]),t=zt(t,a,s,1,i,r,l,n,Gt,Ct,null,$t)),a&16&&ve(e,"font-size",i[4])},d(i){i&&J(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Ct(o,e){let n,t=e[21].word.toUpperCase()+"",l,r;return{key:o,first:null,c(){n=v("span"),l=R(t),r=F(),f(n,"class","hormozi-word svelte-xbzblg"),ve(n,"color",e[23]?e[2]:e[3]),ve(n,"background-color",e[23]?e[1]:"transparent"),ve(n,"transform",e[23]&&e[5]?`scale(${e[6]})`:"scale(1)"),we(n,"active",e[23]),we(n,"past",e[24]),we(n,"pop-animation",e[5]&&e[23]),this.first=n},m(s,i){K(s,n,i),c(n,l),c(n,r)},p(s,i){e=s,i&256&&t!==(t=e[21].word.toUpperCase()+"")&&ge(l,t),i&397&&ve(n,"color",e[23]?e[2]:e[3]),i&387&&ve(n,"background-color",e[23]?e[1]:"transparent"),i&481&&ve(n,"transform",e[23]&&e[5]?`scale(${e[6]})`:"scale(1)"),i&385&&we(n,"active",e[23]),i&385&&we(n,"past",e[24]),i&417&&we(n,"pop-animation",e[5]&&e[23])},d(s){s&&J(n)}}}function ul(o){let e,n=o[8].length>0&&Nt(o);return{c(){n&&n.c(),e=lt()},m(t,l){n&&n.m(t,l),K(t,e,l)},p(t,[l]){t[8].length>0?n?n.p(t,l):(n=Nt(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:he,o:he,d(t){t&&J(e),n&&n.d(t)}}}function dl(o,e,n){let t,{videoElement:l}=e,{captions:r=[]}=e,{maxWordsPerLine:s=4}=e,{backgroundColor:i="#FF0000"}=e,{activeWordColor:a="#FFFFFF"}=e,{inactiveWordColor:m="rgba(255, 255, 255, 0.5)"}=e,{fontSize:p="clamp(28px, 4vw, 56px)"}=e,{enablePopAnimation:w=!0}=e,{popScale:u=1.15}=e,h=0,_=-1,C=[],W=!1,S=null,I=!1;function E(d){return!t||t.length===0?-1:t.findIndex(g=>d>=g.start&&d<=g.end)}function P(){if(t.length===0){n(8,C=[]);return}const d=_>=0?_:0,M=Math.floor(d/s)*s,x=Math.min(M+s,t.length),X=t.slice(M,x);JSON.stringify(X)!==JSON.stringify(C)&&n(8,C=X)}function b(){if(!l||!I)return;const d=l.currentTime;n(11,h=d);const g=E(d);g!==_&&(n(7,_=g),P()),W&&(S=requestAnimationFrame(b))}let L=!1;function T(){if(L||!l)return;L=!0;const d=()=>{W=!0,S&&cancelAnimationFrame(S),S=requestAnimationFrame(b)},g=()=>{W=!1,S&&cancelAnimationFrame(S)},M=()=>{if(!W&&l){n(11,h=l.currentTime);const X=E(h);X!==_&&(n(7,_=X),P())}},x=X=>(X.preventDefault(),!1);return l.addEventListener("play",d),l.addEventListener("pause",g),l.addEventListener("timeupdate",M),l.addEventListener("seeking",M),l.addEventListener("contextmenu",x),M(),()=>{l.removeEventListener("play",d),l.removeEventListener("pause",g),l.removeEventListener("timeupdate",M),l.removeEventListener("seeking",M),l.removeEventListener("contextmenu",x),L=!1}}return ot(()=>{n(12,I=!0),r.length>0&&P()}),Bt(()=>{n(12,I=!1),S&&cancelAnimationFrame(S)}),o.$$set=d=>{"videoElement"in d&&n(9,l=d.videoElement),"captions"in d&&n(10,r=d.captions),"maxWordsPerLine"in d&&n(0,s=d.maxWordsPerLine),"backgroundColor"in d&&n(1,i=d.backgroundColor),"activeWordColor"in d&&n(2,a=d.activeWordColor),"inactiveWordColor"in d&&n(3,m=d.inactiveWordColor),"fontSize"in d&&n(4,p=d.fontSize),"enablePopAnimation"in d&&n(5,w=d.enablePopAnimation),"popScale"in d&&n(6,u=d.popScale)},o.$$.update=()=>{o.$$.dirty&1024&&(t=r.flatMap(d=>{const g=d.text.split(/\s+/).filter(D=>D.trim());if(g.length===0)return[];const M=d.end-d.start,x=g.map(D=>Math.max(1,D.length*.5)),X=x.reduce((D,ke)=>D+ke,0);let B=d.start;return g.map((D,ke)=>{const Z=x[ke]/X*M,$e=B,ye=B+Z;return B=ye,{word:D.replace(/[^\w\s]/gi,""),start:$e,end:ye,originalWord:D}})})),o.$$.dirty&5120&&r&&r.length>0&&I&&P(),o.$$.dirty&4608&&l&&I&&T()},[s,i,a,m,p,w,u,_,C,l,r,h,I]}class ml extends Y{constructor(e){super(),Q(this,e,dl,ul,G,{videoElement:9,captions:10,maxWordsPerLine:0,backgroundColor:1,activeWordColor:2,inactiveWordColor:3,fontSize:4,enablePopAnimation:5,popScale:6})}}function gl(o){let e,n,t=o[10]?"Exporting...":"Export Video",l,r,s,i=o[11]&&Et(o);return{c(){i&&i.c(),e=F(),n=v("button"),l=R(t),f(n,"class","px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),n.disabled=o[10]},m(a,m){i&&i.m(a,m),K(a,e,m),K(a,n,m),c(n,l),r||(s=q(n,"click",o[21]),r=!0)},p(a,m){a[11]?i?i.p(a,m):(i=Et(a),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[0]&1024&&t!==(t=a[10]?"Exporting...":"Export Video")&&ge(l,t),m[0]&1024&&(n.disabled=a[10])},d(a){a&&(J(e),J(n)),i&&i.d(a),r=!1,s()}}}function hl(o){let e,n,t,l,r,s,i;return{c(){e=v("a"),n=Le("svg"),t=Le("path"),l=Le("polyline"),r=Le("line"),s=F(),i=v("span"),i.textContent="Download Video",f(t,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),f(l,"points","7 10 12 15 17 10"),f(r,"x1","12"),f(r,"y1","15"),f(r,"x2","12"),f(r,"y2","3"),f(n,"xmlns","http://www.w3.org/2000/svg"),f(n,"width","16"),f(n,"height","16"),f(n,"viewBox","0 0 24 24"),f(n,"fill","none"),f(n,"stroke","currentColor"),f(n,"stroke-width","2"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(e,"href",o[13]),f(e,"class","px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center space-x-2")},m(a,m){K(a,e,m),c(e,n),c(n,t),c(n,l),c(n,r),c(e,s),c(e,i)},p(a,m){m[0]&8192&&f(e,"href",a[13])},d(a){a&&J(e)}}}function Et(o){let e,n,t;return{c(){e=v("span"),n=R(o[11]),f(e,"class",t="text-sm "+(o[11].includes("failed")?"text-red-600":"text-green-600"))},m(l,r){K(l,e,r),c(e,n)},p(l,r){r[0]&2048&&ge(n,l[11]),r[0]&2048&&t!==(t="text-sm "+(l[11].includes("failed")?"text-red-600":"text-green-600"))&&f(e,"class",t)},d(l){l&&J(e)}}}function _l(o){let e,n,t,l,r,s,i,a,m,p,w,u,h,_,C,W,S=Ce(o[3])+"",I,E,P,b=Ce(o[4])+"",L,T,d,g,M,x,X,B,D,ke,_e,Z,$e,ye,Ee,$,j=Ce(o[3])+"",oe,re,H=Ce(o[4])+"",me,ee,te,je,rt,pe,st,Ae,Pe,it,Se,be,Ge,ct,ne=o[14].length>0&&o[1]&&St(o);M=new Un({props:{class:"w-5 h-5"}});const at=[wl,vl],Te=[];function ft(z,se){return z[2]?0:1}return B=ft(o),D=Te[B]=at[B](o),Z=new qn({props:{class:"w-5 h-5"}}),je=new rl({props:{class:"w-4 h-4 text-gray-400"}}),Pe=new Nn({props:{class:"w-5 h-5"}}),Se=new fl({props:{captions:o[14],currentTime:o[3],onUpdate:o[19],onCaptionClick:o[20]}}),{c(){e=v("div"),n=v("div"),t=v("div"),l=v("div"),r=v("video"),s=v("track"),a=F(),ne&&ne.c(),m=F(),p=v("div"),w=v("div"),u=v("div"),h=v("div"),_=F(),C=v("div"),W=v("span"),I=R(S),E=F(),P=v("span"),L=R(b),T=F(),d=v("div"),g=v("button"),O(M.$$.fragment),x=F(),X=v("button"),D.c(),ke=F(),_e=v("button"),O(Z.$$.fragment),$e=F(),ye=v("div"),Ee=F(),$=v("span"),oe=R(j),re=R(" / "),me=R(H),ee=F(),te=v("div"),O(je.$$.fragment),rt=F(),pe=v("input"),st=F(),Ae=v("button"),O(Pe.$$.fragment),it=F(),O(Se.$$.fragment),f(s,"kind","captions"),f(r,"class","w-full h-full object-contain"),dt(r.src,i=o[6])||f(r,"src",i),f(l,"class","relative h-full max-h-[calc(100vh-300px)] aspect-[9/16] bg-black rounded-lg overflow-hidden shadow-2xl"),f(t,"class","flex-1 flex items-center justify-center p-4 overflow-hidden"),f(h,"class","h-full bg-green-500 rounded-full transition-all duration-100"),ve(h,"width",o[3]/(o[4]||1)*100+"%"),f(u,"class","h-2 bg-gray-700 rounded-full cursor-pointer relative overflow-hidden"),f(u,"role","slider"),f(u,"aria-valuenow",o[3]),f(u,"aria-valuemax",o[4]),f(u,"tabindex","0"),f(C,"class","flex justify-between text-xs text-gray-400 mt-1"),f(w,"class","w-full max-w-md"),f(g,"class","text-gray-400 hover:text-white transition-colors"),f(X,"class","w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-900 hover:bg-gray-200 transition-colors"),f(_e,"class","text-gray-400 hover:text-white transition-colors"),f(ye,"class","w-px h-6 bg-gray-600 mx-2"),f($,"class","text-gray-300 text-sm font-mono min-w-[100px]"),f(pe,"type","range"),f(pe,"min","0"),f(pe,"max","1"),f(pe,"step","0.1"),f(pe,"class","w-20 accent-green-500"),f(te,"class","flex items-center space-x-2"),f(Ae,"class","text-gray-400 hover:text-white transition-colors ml-2"),f(d,"class","flex items-center space-x-4 bg-gray-800 rounded-full px-8 py-3"),f(p,"class","flex flex-col items-center pb-4 px-4 space-y-3"),f(n,"class","flex-1 flex flex-col bg-gray-900"),f(e,"class","flex-1 flex overflow-hidden")},m(z,se){K(z,e,se),c(e,n),c(n,t),c(t,l),c(l,r),c(r,s),o[22](r),c(l,a),ne&&ne.m(l,null),o[25](l),c(n,m),c(n,p),c(p,w),c(w,u),c(u,h),c(w,_),c(w,C),c(C,W),c(W,I),c(C,E),c(C,P),c(P,L),c(p,T),c(p,d),c(d,g),A(M,g,null),c(d,x),c(d,X),Te[B].m(X,null),c(d,ke),c(d,_e),A(Z,_e,null),c(d,$e),c(d,ye),c(d,Ee),c(d,$),c($,oe),c($,re),c($,me),c(d,ee),c(d,te),A(je,te,null),c(te,rt),c(te,pe),Je(pe,o[5]),c(d,st),c(d,Ae),A(Pe,Ae,null),c(e,it),A(Se,e,null),be=!0,Ge||(ct=[q(r,"timeupdate",o[16]),q(r,"play",o[23]),q(r,"pause",o[24]),q(r,"contextmenu",gt(Tt)),q(l,"contextmenu",gt(Tt)),q(u,"click",o[18]),q(g,"click",o[26]),q(X,"click",o[15]),q(_e,"click",o[27]),q(pe,"change",o[28]),q(pe,"input",o[28]),q(pe,"input",o[29]),q(Ae,"click",o[17])],Ge=!0)},p(z,se){(!be||se[0]&64&&!dt(r.src,i=z[6]))&&f(r,"src",i),z[14].length>0&&z[1]?ne?(ne.p(z,se),se[0]&16386&&k(ne,1)):(ne=St(z),ne.c(),k(ne,1),ne.m(l,null)):ne&&(Ue(),y(ne,1,1,()=>{ne=null}),De()),(!be||se[0]&24)&&ve(h,"width",z[3]/(z[4]||1)*100+"%"),(!be||se[0]&8)&&f(u,"aria-valuenow",z[3]),(!be||se[0]&16)&&f(u,"aria-valuemax",z[4]),(!be||se[0]&8)&&S!==(S=Ce(z[3])+"")&&ge(I,S),(!be||se[0]&16)&&b!==(b=Ce(z[4])+"")&&ge(L,b);let Xe=B;B=ft(z),B!==Xe&&(Ue(),y(Te[Xe],1,1,()=>{Te[Xe]=null}),De(),D=Te[B],D||(D=Te[B]=at[B](z),D.c()),k(D,1),D.m(X,null)),(!be||se[0]&8)&&j!==(j=Ce(z[3])+"")&&ge(oe,j),(!be||se[0]&16)&&H!==(H=Ce(z[4])+"")&&ge(me,H),se[0]&32&&Je(pe,z[5]);const Ze={};se[0]&16384&&(Ze.captions=z[14]),se[0]&8&&(Ze.currentTime=z[3]),Se.$set(Ze)},i(z){be||(k(ne),k(M.$$.fragment,z),k(D),k(Z.$$.fragment,z),k(je.$$.fragment,z),k(Pe.$$.fragment,z),k(Se.$$.fragment,z),be=!0)},o(z){y(ne),y(M.$$.fragment,z),y(D),y(Z.$$.fragment,z),y(je.$$.fragment,z),y(Pe.$$.fragment,z),y(Se.$$.fragment,z),be=!1},d(z){z&&J(e),o[22](null),ne&&ne.d(),o[25](null),V(M),Te[B].d(),V(Z),V(je),V(Pe),V(Se),Ge=!1,Ne(ct)}}}function pl(o){let e,n,t;return{c(){e=v("div"),n=R("Error: "),t=R(o[8]),f(e,"class","flex-1 flex items-center justify-center text-red-500 text-xl")},m(l,r){K(l,e,r),c(e,n),c(e,t)},p(l,r){r[0]&256&&ge(t,l[8])},i:he,o:he,d(l){l&&J(e)}}}function bl(o){let e;return{c(){e=v("div"),e.textContent="Loading editor...",f(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl")},m(n,t){K(n,e,t)},p:he,i:he,o:he,d(n){n&&J(e)}}}function St(o){let e,n;return e=new ml({props:{videoElement:o[1],captions:o[14],maxWordsPerLine:3,backgroundColor:"#FF0000",activeWordColor:"#FFFFFF",inactiveWordColor:"rgba(255, 255, 255, 0.4)",fontSize:"clamp(20px, 3vw, 40px)",enablePopAnimation:!0,popScale:1.1}}),{c(){O(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const r={};l[0]&2&&(r.videoElement=t[1]),l[0]&16384&&(r.captions=t[14]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function vl(o){let e,n;return e=new In({props:{class:"w-5 h-5 ml-0.5"}}),{c(){O(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function wl(o){let e,n;return e=new Tn({props:{class:"w-5 h-5"}}),{c(){O(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function kl(o){let e,n,t,l,r,s,i,a,m,p,w,u;function h(E,P){return E[12]&&E[13]?hl:gl}let _=h(o),C=_(o);const W=[bl,pl,_l],S=[];function I(E,P){return E[7]?0:E[8]?1:2}return p=I(o),w=S[p]=W[p](o),{c(){e=v("div"),n=v("header"),t=v("h1"),l=R("Video Editor ("),r=R(o[0]),s=R(")"),i=F(),a=v("div"),C.c(),m=F(),w.c(),f(t,"class","text-lg font-semibold text-gray-900"),f(a,"class","flex items-center space-x-3"),f(n,"class","bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between flex-shrink-0"),f(e,"class","flex-1 flex flex-col ml-16 h-screen")},m(E,P){K(E,e,P),c(e,n),c(n,t),c(t,l),c(t,r),c(t,s),c(n,i),c(n,a),C.m(a,null),c(e,m),S[p].m(e,null),u=!0},p(E,P){(!u||P[0]&1)&&ge(r,E[0]),_===(_=h(E))&&C?C.p(E,P):(C.d(1),C=_(E),C&&(C.c(),C.m(a,null)));let b=p;p=I(E),p===b?S[p].p(E,P):(Ue(),y(S[b],1,1,()=>{S[b]=null}),De(),w=S[p],w?w.p(E,P):(w=S[p]=W[p](E),w.c()),k(w,1),w.m(e,null))},i(E){u||(k(w),u=!0)},o(E){y(w),u=!1},d(E){E&&J(e),C.d(),S[p].d()}}}function Ce(o){const e=Math.floor(o/60),n=Math.floor(o%60);return`${e}:${n.toString().padStart(2,"0")}`}function Tt(o){return o.preventDefault(),!1}function Mt(o){const[e,n,t]=o.split(":"),[l,r]=t.split(",");return parseInt(e,10)*3600+parseInt(n,10)*60+parseInt(l,10)+parseInt(r,10)/1e3}function yl(o){const e=o.split(/\r?\n/);let n=[],t=null,l=1;for(const r of e)if(r.trim()==="")t&&t.text.trim()!==""&&n.push(t),t=null;else if(t===null)t={id:l++,text:"",active:!1};else if(r.includes("-->")){const[s,i]=r.split("-->").map(a=>a.trim());t.start=Mt(s),t.end=Mt(i)}else t.text+=(t.text===""?"":" ")+r.trim();return t&&t.text.trim()!==""&&n.push(t),n}function jt(o){const e=Math.floor(o/3600),n=Math.floor(o%3600/60),t=Math.floor(o%60),l=Math.floor(o%1*1e3);return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")},${l.toString().padStart(3,"0")}`}function $l(o,e,n){let{jobId:t}=e,l,r=!1,s=0,i=0,a=1,m="",p=!0,w=null,u={x:50,y:15},h=null,_=!1,C="",W=!1,S="",I="original";function E(){l&&(r?l.pause():l.play())}function P(){if(l){n(3,s=l.currentTime),n(4,i=l.duration||0),n(14,T=T.map(j=>({...j,active:s>=j.start&&s<=j.end})));const $=T.find(j=>j.active);$&&$.text}}function b(){h&&(document.fullscreenElement?document.exitFullscreen().then(()=>{}).catch($=>{console.error("Error attempting to exit fullscreen:",$)}):h.requestFullscreen().then(()=>{}).catch($=>{console.error("Error attempting to enable fullscreen:",$)}))}function L($){if(!l||!i)return;const j=$.currentTarget.getBoundingClientRect(),re=($.clientX-j.left)/j.width*i;n(1,l.currentTime=re,l),n(3,s=re)}let T=[];ot(async()=>{try{const $=await fetch(`/api/editor_data/${t}`);if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);const j=await $.json();if(j.status==="success")n(6,m=j.video_url),n(14,T=yl(j.srt_content)),I=j.resolution||"original";else throw new Error(j.message||"Failed to load editor data")}catch($){console.error("Error fetching editor data:",$),n(8,w=$.message)}finally{n(7,p=!1)}});function d($,j){n(14,T=T.map(oe=>oe.id===$?{...oe,text:j}:oe))}function g($){l&&n(1,l.currentTime=$.start,l)}function M(){return T.map(($,j)=>`${j+1}
${jt($.start)} --> ${jt($.end)}
${$.text}`).join(`

`)}async function x($){return new Promise((j,oe)=>{const re=setInterval(async()=>{try{const me=await(await fetch(`/api/job_status/${$}`)).json();me.status==="completed"?(clearInterval(re),j(me)):me.status==="failed"?(clearInterval(re),oe(new Error(me.error||"Burning failed"))):n(11,C=`Processing: ${me.progress_message||me.status}...`)}catch(H){clearInterval(re),oe(H)}},3e3);setTimeout(()=>{clearInterval(re),oe(new Error("Export timed out"))},6e5)})}async function X(){var $;n(10,_=!0),n(11,C="Saving subtitles..."),n(12,W=!1);try{const j=M(),oe={x:u.x,y:u.y},re=await fetch("/save_and_burn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:t,srt_content:j,positional_data:oe,resolution:I})});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const H=await re.json();if(H.status==="success"){n(11,C="Video burning in progress...");const me=await x(H.job_id);n(12,W=!0),n(11,C="Export complete!"),n(13,S=(($=me.result)==null?void 0:$.video_url)||"")}else throw new Error(H.message||"Failed to start export")}catch(j){console.error("Error exporting video:",j),n(11,C=`Export failed: ${j.message}`),n(12,W=!1)}finally{n(10,_=!1)}}function B($){Ke[$?"unshift":"push"](()=>{l=$,n(1,l)})}const D=()=>n(2,r=!0),ke=()=>n(2,r=!1);function _e($){Ke[$?"unshift":"push"](()=>{h=$,n(9,h)})}const Z=()=>l&&n(1,l.currentTime-=5,l),$e=()=>l&&n(1,l.currentTime+=5,l);function ye(){a=Dt(this.value),n(5,a)}const Ee=()=>l&&n(1,l.volume=a,l);return o.$$set=$=>{"jobId"in $&&n(0,t=$.jobId)},[t,l,r,s,i,a,m,p,w,h,_,C,W,S,T,E,P,b,L,d,g,X,B,D,ke,_e,Z,$e,ye,Ee]}class Nl extends Y{constructor(e){super(),Q(this,e,$l,kl,G,{jobId:0},null,[-1,-1])}}function Cl(o){let e,n,t,l,r,s,i,a,m,p,w,u,h,_,C,W,S,I,E,P,b,L,T,d;return l=new vt({props:{class:"w-6 h-6 text-white"}}),a=new _n({props:{class:"w-5 h-5"}}),w=new vt({props:{class:"w-5 h-5"}}),_=new Yn({props:{class:"w-5 h-5"}}),S=new zn({props:{class:"w-5 h-5"}}),b=new wn({props:{class:"w-5 h-5"}}),{c(){e=v("aside"),n=v("div"),t=v("div"),O(l.$$.fragment),r=F(),s=v("nav"),i=v("a"),O(a.$$.fragment),m=F(),p=v("a"),O(w.$$.fragment),u=F(),h=v("a"),O(_.$$.fragment),C=F(),W=v("a"),O(S.$$.fragment),I=F(),E=v("div"),P=v("button"),O(b.$$.fragment),f(t,"class","w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center"),f(n,"class","mb-8"),f(i,"href","/"),f(i,"class","w-12 h-12 rounded-xl bg-gray-100 text-gray-900 flex items-center justify-center hover:bg-gray-200 transition-colors"),f(i,"title","Home"),f(p,"href","/editor-new"),f(p,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),f(p,"title","New Editor"),f(h,"href","/profile"),f(h,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),f(h,"title","Profile"),f(W,"href","/"),f(W,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),f(W,"title","Dashboard"),f(s,"class","flex-1 flex flex-col items-center space-y-2 w-full"),f(P,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-red-50 hover:text-red-600 transition-colors"),f(P,"title","Logout"),f(E,"class","mt-auto w-full flex flex-col items-center space-y-2"),f(e,"class","fixed left-0 top-0 h-full w-16 bg-white border-r border-gray-200 flex flex-col items-center py-6 z-50 shadow-sm")},m(g,M){K(g,e,M),c(e,n),c(n,t),A(l,t,null),c(e,r),c(e,s),c(s,i),A(a,i,null),c(s,m),c(s,p),A(w,p,null),c(s,u),c(s,h),A(_,h,null),c(s,C),c(s,W),A(S,W,null),c(e,I),c(e,E),c(E,P),A(b,P,null),L=!0,T||(d=q(P,"click",El),T=!0)},p:he,i(g){L||(k(l.$$.fragment,g),k(a.$$.fragment,g),k(w.$$.fragment,g),k(_.$$.fragment,g),k(S.$$.fragment,g),k(b.$$.fragment,g),L=!0)},o(g){y(l.$$.fragment,g),y(a.$$.fragment,g),y(w.$$.fragment,g),y(_.$$.fragment,g),y(S.$$.fragment,g),y(b.$$.fragment,g),L=!1},d(g){g&&J(e),V(l),V(a),V(w),V(_),V(S),V(b),T=!1,d()}}}function El(){window.location.href="/logout"}class Sl extends Y{constructor(e){super(),Q(this,e,null,Cl,G,{})}}function Tl(o){let e;return{c(){e=v("div"),e.textContent="No video job selected. Please go to the dashboard to select a video to edit.",f(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl ml-16")},m(n,t){K(n,e,t)},p:he,i:he,o:he,d(n){n&&J(e)}}}function Ml(o){let e,n;return e=new Nl({props:{jobId:o[0]}}),{c(){O(e.$$.fragment)},m(t,l){A(e,t,l),n=!0},p(t,l){const r={};l&1&&(r.jobId=t[0]),e.$set(r)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function jl(o){let e,n,t,l,r,s;n=new Sl({});const i=[Ml,Tl],a=[];function m(p,w){return p[0]?0:1}return l=m(o),r=a[l]=i[l](o),{c(){e=v("main"),O(n.$$.fragment),t=F(),r.c(),f(e,"class","flex h-screen w-full overflow-hidden bg-gray-100")},m(p,w){K(p,e,w),A(n,e,null),c(e,t),a[l].m(e,null),s=!0},p(p,[w]){let u=l;l=m(p),l===u?a[l].p(p,w):(Ue(),y(a[u],1,1,()=>{a[u]=null}),De(),r=a[l],r?r.p(p,w):(r=a[l]=i[l](p),r.c()),k(r,1),r.m(e,null))},i(p){s||(k(n.$$.fragment,p),k(r),s=!0)},o(p){y(n.$$.fragment,p),y(r),s=!1},d(p){p&&J(e),V(n),a[l].d()}}}function Pl(o,e,n){let t=null;return ot(()=>{const l=window.location.pathname.split("/"),r=l.indexOf("edit");r>-1&&l.length>r+1&&n(0,t=l[r+1])}),[t]}class Il extends Y{constructor(e){super(),Q(this,e,Pl,jl,G,{})}}new Il({target:document.getElementById("app")});
