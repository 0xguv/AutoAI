var At=Object.defineProperty;var Vt=(l,e,n)=>e in l?At(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var Ze=(l,e,n)=>Vt(l,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function we(){}function T(l,e){for(const n in e)l[n]=e[n];return l}function Lt(l){return l()}function mt(){return Object.create(null)}function Ce(l){l.forEach(Lt)}function It(l){return typeof l=="function"}function Q(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Xe;function gt(l,e){return l===e?!0:(Xe||(Xe=document.createElement("a")),Xe.href=e,l===Xe.href)}function Dt(l){return Object.keys(l).length===0}function fe(l,e,n,t){if(l){const o=Wt(l,e,n,t);return l[0](o)}}function Wt(l,e,n,t){return l[1]&&t?T(n.ctx.slice(),l[1](t(e))):n.ctx}function de(l,e,n,t){return l[2],e.dirty}function me(l,e,n,t,o,r){if(o){const s=Wt(e,n,t,r);l.p(s,o)}}function ge(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function H(l){const e={};for(const n in l)n[0]!=="$"&&(e[n]=l[n]);return e}function ht(l,e){const n={};e=new Set(e);for(const t in l)!e.has(t)&&t[0]!=="$"&&(n[t]=l[t]);return n}function u(l,e){l.appendChild(e)}function Z(l,e,n){l.insertBefore(e,n||null)}function G(l){l.parentNode&&l.parentNode.removeChild(l)}function Ot(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function p(l){return document.createElement(l)}function We(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Y(l){return document.createTextNode(l)}function W(){return Y(" ")}function ot(){return Y("")}function J(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function _t(l){return function(e){return e.preventDefault(),l.call(this,e)}}function et(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function a(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function Re(l,e){for(const n in e)a(l,n,e[n])}function Ut(l){return l===""?null:+l}function Ht(l){return Array.from(l.childNodes)}function ce(l,e){e=""+e,l.data!==e&&(l.data=e)}function qe(l,e){l.value=e??""}function ae(l,e,n,t){n==null?l.style.removeProperty(e):l.style.setProperty(e,n,"")}function ve(l,e,n){l.classList.toggle(e,!!n)}function Xt(l,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(l,{detail:e,bubbles:n,cancelable:t})}let Oe;function De(l){Oe=l}function rt(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function st(l){rt().$$.on_mount.push(l)}function Bt(l){rt().$$.on_destroy.push(l)}function Yt(){const l=rt();return(e,n,{cancelable:t=!1}={})=>{const o=l.$$.callbacks[e];if(o){const r=Xt(e,n,{cancelable:t});return o.slice().forEach(s=>{s.call(l,r)}),!r.defaultPrevented}return!0}}const Ie=[],ze=[];let Fe=[];const tt=[],Rt=Promise.resolve();let nt=!1;function qt(){nt||(nt=!0,Rt.then(Ft))}function lt(l){Fe.push(l)}function Jt(l){tt.push(l)}const Qe=new Set;let Le=0;function Ft(){if(Le!==0)return;const l=Oe;do{try{for(;Le<Ie.length;){const e=Ie[Le];Le++,De(e),Kt(e.$$)}}catch(e){throw Ie.length=0,Le=0,e}for(De(null),Ie.length=0,Le=0;ze.length;)ze.pop()();for(let e=0;e<Fe.length;e+=1){const n=Fe[e];Qe.has(n)||(Qe.add(n),n())}Fe.length=0}while(Ie.length);for(;tt.length;)tt.pop()();nt=!1,Qe.clear(),De(l)}function Kt(l){if(l.fragment!==null){l.update(),Ce(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(lt)}}function Gt(l){const e=[],n=[];Fe.forEach(t=>l.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Fe=e}const Ye=new Set;let je;function Ue(){je={r:0,c:[],p:je}}function He(){je.r||Ce(je.c),je=je.p}function N(l,e){l&&l.i&&(Ye.delete(l),l.i(e))}function E(l,e,n,t){if(l&&l.o){if(Ye.has(l))return;Ye.add(l),je.c.push(()=>{Ye.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function Ae(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Zt(l,e){l.d(1),e.delete(l.key)}function Qt(l,e){E(l,1,1,()=>{e.delete(l.key)})}function zt(l,e,n,t,o,r,s,i,c,d,h,y){let f=l.length,m=r.length,g=f;const P={};for(;g--;)P[l[g].key]=g;const C=[],$=new Map,_=new Map,M=[];for(g=m;g--;){const L=y(o,r,g),b=n(L);let w=s.get(b);w?M.push(()=>w.p(L,e)):(w=d(b,L),w.c()),$.set(b,C[g]=w),b in P&&_.set(b,Math.abs(g-P[b]))}const F=new Set,v=new Set;function I(L){N(L,1),L.m(i,h),s.set(L.key,L),h=L.first,m--}for(;f&&m;){const L=C[m-1],b=l[f-1],w=L.key,O=b.key;L===b?(h=L.first,f--,m--):$.has(O)?!s.has(w)||F.has(w)?I(L):v.has(O)?f--:_.get(w)>_.get(O)?(v.add(w),I(L)):(F.add(O),f--):(c(b,s),f--)}for(;f--;){const L=l[f];$.has(L.key)||c(L,s)}for(;m;)I(C[m-1]);return Ce(M),C}function se(l,e){const n={},t={},o={$$scope:1};let r=l.length;for(;r--;){const s=l[r],i=e[r];if(i){for(const c in s)c in i||(t[c]=1);for(const c in i)o[c]||(n[c]=i[c],o[c]=1);l[r]=i}else for(const c in s)o[c]=1}for(const s in t)s in n||(n[s]=void 0);return n}function pe(l){return typeof l=="object"&&l!==null?l:{}}function xt(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function D(l){l&&l.c()}function A(l,e,n){const{fragment:t,after_update:o}=l.$$;t&&t.m(e,n),lt(()=>{const r=l.$$.on_mount.map(Lt).filter(It);l.$$.on_destroy?l.$$.on_destroy.push(...r):Ce(r),l.$$.on_mount=[]}),o.forEach(lt)}function V(l,e){const n=l.$$;n.fragment!==null&&(Gt(n.after_update),Ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function en(l,e){l.$$.dirty[0]===-1&&(Ie.push(l),qt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function te(l,e,n,t,o,r,s=null,i=[-1]){const c=Oe;De(l);const d=l.$$={fragment:null,ctx:[],props:r,update:we,not_equal:o,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:mt(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};s&&s(d.root);let h=!1;if(d.ctx=n?n(l,e.props||{},(y,f,...m)=>{const g=m.length?m[0]:f;return d.ctx&&o(d.ctx[y],d.ctx[y]=g)&&(!d.skip_bound&&d.bound[y]&&d.bound[y](g),h&&en(l,y)),f}):[],d.update(),h=!0,Ce(d.before_update),d.fragment=t?t(d.ctx):!1,e.target){if(e.hydrate){const y=Ht(e.target);d.fragment&&d.fragment.l(y),y.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&N(l.$$.fragment),A(l,e.target,e.anchor),Ft()}De(c)}class ne{constructor(){Ze(this,"$$");Ze(this,"$$set")}$destroy(){V(this,1),this.$destroy=we}$on(e,n){if(!It(n))return we;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const o=t.indexOf(n);o!==-1&&t.splice(o,1)}}$set(e){this.$$set&&!Dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tn);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function bt(l,e,n){const t=l.slice();return t[10]=e[n][0],t[11]=e[n][1],t}function xe(l){let e,n=[l[11]],t={};for(let o=0;o<n.length;o+=1)t=T(t,n[o]);return{c(){e=We(l[10]),Re(e,t)},m(o,r){Z(o,e,r)},p(o,r){Re(e,t=se(n,[r&32&&o[11]]))},d(o){o&&G(e)}}}function vt(l){let e=l[10],n,t=l[10]&&xe(l);return{c(){t&&t.c(),n=ot()},m(o,r){t&&t.m(o,r),Z(o,n,r)},p(o,r){o[10]?e?Q(e,o[10])?(t.d(1),t=xe(o),e=o[10],t.c(),t.m(n.parentNode,n)):t.p(o,r):(t=xe(o),e=o[10],t.c(),t.m(n.parentNode,n)):e&&(t.d(1),t=null,e=o[10])},d(o){o&&G(n),t&&t.d(o)}}}function nn(l){let e,n,t,o,r,s=Ae(l[5]),i=[];for(let f=0;f<s.length;f+=1)i[f]=vt(bt(l,s,f));const c=l[9].default,d=fe(c,l,l[8],null);let h=[pt,l[6],{width:l[2]},{height:l[2]},{stroke:l[1]},{"stroke-width":t=l[4]?Number(l[3])*24/Number(l[2]):l[3]},{class:o=`lucide-icon lucide lucide-${l[0]} ${l[7].class??""}`}],y={};for(let f=0;f<h.length;f+=1)y=T(y,h[f]);return{c(){e=We("svg");for(let f=0;f<i.length;f+=1)i[f].c();n=ot(),d&&d.c(),Re(e,y)},m(f,m){Z(f,e,m);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);u(e,n),d&&d.m(e,null),r=!0},p(f,[m]){if(m&32){s=Ae(f[5]);let g;for(g=0;g<s.length;g+=1){const P=bt(f,s,g);i[g]?i[g].p(P,m):(i[g]=vt(P),i[g].c(),i[g].m(e,n))}for(;g<i.length;g+=1)i[g].d(1);i.length=s.length}d&&d.p&&(!r||m&256)&&me(d,c,f,f[8],r?de(c,f[8],m,null):ge(f[8]),null),Re(e,y=se(h,[pt,m&64&&f[6],(!r||m&4)&&{width:f[2]},(!r||m&4)&&{height:f[2]},(!r||m&2)&&{stroke:f[1]},(!r||m&28&&t!==(t=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":t},(!r||m&129&&o!==(o=`lucide-icon lucide lucide-${f[0]} ${f[7].class??""}`))&&{class:o}]))},i(f){r||(N(d,f),r=!0)},o(f){E(d,f),r=!1},d(f){f&&G(e),Ot(i,f),d&&d.d(f)}}}function ln(l,e,n){const t=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ht(e,t),{$$slots:r={},$$scope:s}=e,{name:i}=e,{color:c="currentColor"}=e,{size:d=24}=e,{strokeWidth:h=2}=e,{absoluteStrokeWidth:y=!1}=e,{iconNode:f}=e;return l.$$set=m=>{n(7,e=T(T({},e),H(m))),n(6,o=ht(e,t)),"name"in m&&n(0,i=m.name),"color"in m&&n(1,c=m.color),"size"in m&&n(2,d=m.size),"strokeWidth"in m&&n(3,h=m.strokeWidth),"absoluteStrokeWidth"in m&&n(4,y=m.absoluteStrokeWidth),"iconNode"in m&&n(5,f=m.iconNode),"$$scope"in m&&n(8,s=m.$$scope)},e=H(e),[i,c,d,h,y,f,o,e,s,r]}class be extends ne{constructor(e){super(),te(this,e,ln,nn,Q,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function on(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function rn(l){let e,n;const t=[{name:"clock"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[on]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function sn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class un extends ne{constructor(e){super(),te(this,e,sn,rn,Q,{})}}function an(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function cn(l){let e,n;const t=[{name:"copy"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[an]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function fn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class dn extends ne{constructor(e){super(),te(this,e,fn,cn,Q,{})}}function mn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function gn(l){let e,n;const t=[{name:"grip-vertical"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[mn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function hn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class _n extends ne{constructor(e){super(),te(this,e,hn,gn,Q,{})}}function pn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function bn(l){let e,n;const t=[{name:"home"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[pn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function vn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class wn extends ne{constructor(e){super(),te(this,e,vn,bn,Q,{})}}function kn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function yn(l){let e,n;const t=[{name:"log-out"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[kn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function $n(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Nn extends ne{constructor(e){super(),te(this,e,$n,yn,Q,{})}}function En(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Cn(l){let e,n;const t=[{name:"maximize"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[En]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Sn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Mn extends ne{constructor(e){super(),te(this,e,Sn,Cn,Q,{})}}function Tn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function jn(l){let e,n;const t=[{name:"pause"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Tn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Pn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Ln extends ne{constructor(e){super(),te(this,e,Pn,jn,Q,{})}}function In(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Wn(l){let e,n;const t=[{name:"play"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[In]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Fn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class zn extends ne{constructor(e){super(),te(this,e,Fn,Wn,Q,{})}}function An(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Vn(l){let e,n;const t=[{name:"settings"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[An]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Dn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class On extends ne{constructor(e){super(),te(this,e,Dn,Vn,Q,{})}}function Un(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Hn(l){let e,n;const t=[{name:"skip-back"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Un]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Xn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Bn extends ne{constructor(e){super(),te(this,e,Xn,Hn,Q,{})}}function Yn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Rn(l){let e,n;const t=[{name:"skip-forward"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Yn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function qn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Jn extends ne{constructor(e){super(),te(this,e,qn,Rn,Q,{})}}function Kn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Gn(l){let e,n;const t=[{name:"trash-2"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function Zn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class Qn extends ne{constructor(e){super(),te(this,e,Zn,Gn,Q,{})}}function xn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function el(l){let e,n;const t=[{name:"user"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[xn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function tl(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class nl extends ne{constructor(e){super(),te(this,e,tl,el,Q,{})}}function ll(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function ol(l){let e,n;const t=[{name:"video"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[ll]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function rl(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"m22 8-6 4 6 4V8Z"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class wt extends ne{constructor(e){super(),te(this,e,rl,ol,Q,{})}}function sl(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||(N(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function il(l){let e,n;const t=[{name:"volume-2"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[sl]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new be({props:o}),{c(){D(e.$$.fragment)},m(r,s){A(e,r,s),n=!0},p(r,[s]){const i=s&3?se(t,[t[0],s&2&&pe(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){V(e,r)}}}function ul(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}]];return l.$$set=s=>{n(1,e=T(T({},e),H(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=H(e),[r,e,t,o]}class al extends ne{constructor(e){super(),te(this,e,ul,il,Q,{})}}function kt(l,e,n){const t=l.slice();return t[18]=e[n],t}function cl(l){let e,n=l[18].text+"",t,o,r;function s(){return l[13](l[18])}return{c(){e=p("p"),t=Y(n),a(e,"class","text-sm text-gray-800 leading-relaxed cursor-text")},m(i,c){Z(i,e,c),u(e,t),o||(r=J(e,"click",et(s)),o=!0)},p(i,c){l=i,c&1&&n!==(n=l[18].text+"")&&ce(t,n)},d(i){i&&G(e),o=!1,r()}}}function fl(l){let e,n,t;function o(){return l[11](l[18])}function r(...s){return l[12](l[18],...s)}return{c(){e=p("textarea"),a(e,"class","w-full text-sm border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"),a(e,"rows","2"),e.autofocus=!0},m(s,i){Z(s,e,i),qe(e,l[4]),e.focus(),n||(t=[J(e,"input",l[10]),J(e,"blur",o),J(e,"keydown",r)],n=!0)},p(s,i){l=s,i&16&&qe(e,l[4])},d(s){s&&G(e),n=!1,Ce(t)}}}function yt(l){let e,n;return{c(){e=p("div"),n=p("div"),a(n,"class","h-full bg-green-600 rounded-full transition-all"),ae(n,"width",(l[1]-l[18].start)/(l[18].end-l[18].start)*100+"%"),a(e,"class","absolute bottom-0 left-0 right-0 h-1 bg-green-500 rounded-b-xl")},m(t,o){Z(t,e,o),u(e,n)},p(t,o){o&3&&ae(n,"width",(t[1]-t[18].start)/(t[18].end-t[18].start)*100+"%")},d(t){t&&G(e)}}}function $t(l,e){let n,t,o,r,s,i,c,d=Be(e[18].start)+"",h,y,f,m,g,P=Be(e[18].end)+"",C,$,_,M,F=(e[18].end-e[18].start).toFixed(1)+"",v,I,L,b,w,O,ke,he,R,K,Ee,ye,k,q,x;o=new _n({props:{class:"w-4 h-4"}});function le(U,X){return U[3]===U[18].id?fl:cl}let B=le(e),ee=B(e);ke=new dn({props:{class:"w-4 h-4"}});function ie(){return e[14](e[18])}K=new Qn({props:{class:"w-4 h-4"}});function S(){return e[15](e[18])}let j=e[1]>=e[18].start&&e[1]<=e[18].end&&yt(e);function oe(){return e[16](e[18])}return{key:l,first:null,c(){n=p("div"),t=p("div"),D(o.$$.fragment),r=W(),s=p("div"),i=p("div"),c=p("span"),h=Y(d),y=W(),f=p("span"),f.textContent="â†’",m=W(),g=p("span"),C=Y(P),$=W(),_=p("span"),M=Y("("),v=Y(F),I=Y("s)"),L=W(),ee.c(),b=W(),w=p("div"),O=p("button"),D(ke.$$.fragment),he=W(),R=p("button"),D(K.$$.fragment),Ee=W(),j&&j.c(),ye=W(),a(t,"class","absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-300 cursor-grab active:cursor-grabbing"),a(c,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),a(g,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),a(_,"class","text-gray-400"),a(i,"class","flex items-center space-x-2 text-xs text-gray-500 mb-2"),a(s,"class","pl-6"),a(O,"class","p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors"),a(O,"title","Duplicate"),a(R,"class","p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors"),a(R,"title","Delete"),a(w,"class","absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1"),a(n,"class","group relative bg-white border-2 rounded-xl p-4 transition-all hover:shadow-md cursor-pointer"),ve(n,"border-green-500",e[18].active),ve(n,"border-gray-200",!e[18].active),ve(n,"bg-green-50",e[18].active),this.first=n},m(U,X){Z(U,n,X),u(n,t),A(o,t,null),u(n,r),u(n,s),u(s,i),u(i,c),u(c,h),u(i,y),u(i,f),u(i,m),u(i,g),u(g,C),u(i,$),u(i,_),u(_,M),u(_,v),u(_,I),u(s,L),ee.m(s,null),u(n,b),u(n,w),u(w,O),A(ke,O,null),u(w,he),u(w,R),A(K,R,null),u(n,Ee),j&&j.m(n,null),u(n,ye),k=!0,q||(x=[J(O,"click",et(ie)),J(R,"click",et(S)),J(n,"click",oe)],q=!0)},p(U,X){e=U,(!k||X&1)&&d!==(d=Be(e[18].start)+"")&&ce(h,d),(!k||X&1)&&P!==(P=Be(e[18].end)+"")&&ce(C,P),(!k||X&1)&&F!==(F=(e[18].end-e[18].start).toFixed(1)+"")&&ce(v,F),B===(B=le(e))&&ee?ee.p(e,X):(ee.d(1),ee=B(e),ee&&(ee.c(),ee.m(s,null))),e[1]>=e[18].start&&e[1]<=e[18].end?j?j.p(e,X):(j=yt(e),j.c(),j.m(n,ye)):j&&(j.d(1),j=null),(!k||X&1)&&ve(n,"border-green-500",e[18].active),(!k||X&1)&&ve(n,"border-gray-200",!e[18].active),(!k||X&1)&&ve(n,"bg-green-50",e[18].active)},i(U){k||(N(o.$$.fragment,U),N(ke.$$.fragment,U),N(K.$$.fragment,U),k=!0)},o(U){E(o.$$.fragment,U),E(ke.$$.fragment,U),E(K.$$.fragment,U),k=!1},d(U){U&&G(n),V(o),ee.d(),V(ke),V(K),j&&j.d(),q=!1,Ce(x)}}}function dl(l){let e,n,t,o,r,s,i,c,d=l[0].length+"",h,y,f,m,g=[],P=new Map,C,$,_,M,F,v;o=new un({props:{class:"w-4 h-4 text-gray-500"}});let I=Ae(l[0]);const L=b=>b[18].id;for(let b=0;b<I.length;b+=1){let w=kt(l,I,b),O=L(w);P.set(O,g[b]=$t(O,w))}return{c(){e=p("aside"),n=p("div"),t=p("div"),D(o.$$.fragment),r=W(),s=p("h2"),s.textContent="Timeline",i=W(),c=p("span"),h=Y(d),y=Y(" captions"),f=W(),m=p("div");for(let b=0;b<g.length;b+=1)g[b].c();C=W(),$=p("div"),_=p("button"),_.innerHTML="<span>+ Add Caption</span>",a(s,"class","font-semibold text-gray-900"),a(t,"class","flex items-center space-x-2"),a(c,"class","text-sm text-gray-500"),a(n,"class","px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50"),a(m,"class","flex-1 overflow-y-auto p-4 space-y-3"),a(_,"class","w-full py-2.5 bg-gray-900 text-white rounded-lg font-medium text-sm hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2"),a($,"class","p-4 border-t border-gray-200 bg-gray-50"),a(e,"class","w-80 bg-white border-l border-gray-200 flex flex-col flex-shrink-0")},m(b,w){Z(b,e,w),u(e,n),u(n,t),A(o,t,null),u(t,r),u(t,s),u(n,i),u(n,c),u(c,h),u(c,y),u(e,f),u(e,m);for(let O=0;O<g.length;O+=1)g[O]&&g[O].m(m,null);u(e,C),u(e,$),u($,_),M=!0,F||(v=J(_,"click",l[17]),F=!0)},p(b,[w]){(!M||w&1)&&d!==(d=b[0].length+"")&&ce(h,d),w&511&&(I=Ae(b[0]),Ue(),g=zt(g,w,L,1,b,I,P,m,Qt,$t,null,kt),He())},i(b){if(!M){N(o.$$.fragment,b);for(let w=0;w<I.length;w+=1)N(g[w]);M=!0}},o(b){E(o.$$.fragment,b);for(let w=0;w<g.length;w+=1)E(g[w]);M=!1},d(b){b&&G(e),V(o);for(let w=0;w<g.length;w+=1)g[w].d();F=!1,v()}}}function Be(l){const e=Math.floor(l/60),n=Math.floor(l%60),t=Math.floor(l%1*100);return`${e}:${n.toString().padStart(2,"0")}.${t.toString().padStart(2,"0")}`}function ml(l,e,n){let{captions:t=[]}=e,{currentTime:o=0}=e,{onUpdate:r}=e,{onCaptionClick:s}=e,i=null,c="";function d(v){n(3,i=v.id),n(4,c=v.text)}function h(v){r&&r(v,c),n(3,i=null)}function y(v){n(0,t=t.filter(I=>I.id!==v))}function f(v){const I={...v,id:Date.now(),start:v.end,end:v.end+(v.end-v.start)},L=t.findIndex(b=>b.id===v.id);n(0,t=[...t.slice(0,L+1),I,...t.slice(L+1)])}function m(){c=this.value,n(4,c)}const g=v=>h(v.id),P=(v,I)=>I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),h(v.id)),C=v=>d(v),$=v=>f(v),_=v=>y(v.id),M=v=>s&&s(v),F=()=>{const v=t[t.length-1],I={id:Date.now(),text:"New caption",start:v?v.end:0,end:v?v.end+3:3,active:!1};n(0,t=[...t,I])};return l.$$set=v=>{"captions"in v&&n(0,t=v.captions),"currentTime"in v&&n(1,o=v.currentTime),"onUpdate"in v&&n(9,r=v.onUpdate),"onCaptionClick"in v&&n(2,s=v.onCaptionClick)},[t,o,s,i,c,d,h,y,f,r,m,g,P,C,$,_,M,F]}class gl extends ne{constructor(e){super(),te(this,e,ml,dl,Q,{captions:0,currentTime:1,onUpdate:9,onCaptionClick:2})}}function Nt(l,e,n){const t=l.slice();t[30]=e[n],t[35]=n;const o=Math.floor((t[8]>=0?t[8]:0)/t[1])*t[1]+t[35];t[31]=o;const r=t[31]===t[8];t[32]=r;const s=t[31]<t[8];return t[33]=s,t}function Et(l){let e,n,t=[],o=new Map,r,s,i=Math.round(l[0].x)+"",c,d,h=Math.round(l[0].y)+"",y,f,m,g,P=Ae(l[9]);const C=$=>`${$[30].start}-${$[30].word}`;for(let $=0;$<P.length;$+=1){let _=Nt(l,P,$),M=C(_);o.set(M,t[$]=Ct(M,_))}return{c(){e=p("div"),n=p("div");for(let $=0;$<t.length;$+=1)t[$].c();r=W(),s=p("div"),c=Y(i),d=Y("%, "),y=Y(h),f=Y("%"),a(n,"class","hormozi-subtitles-wrapper svelte-32390i"),a(s,"class","position-indicator svelte-32390i"),a(e,"class","hormozi-subtitles-container svelte-32390i"),ae(e,"font-size",l[5]),ae(e,"left",l[0].x+"%"),ae(e,"bottom",l[0].y+"%"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Drag to reposition subtitles"),ve(e,"dragging",l[11])},m($,_){Z($,e,_),u(e,n);for(let M=0;M<t.length;M+=1)t[M]&&t[M].m(n,null);u(e,r),u(e,s),u(s,c),u(s,d),u(s,y),u(s,f),l[17](e),m||(g=J(e,"mousedown",l[12]),m=!0)},p($,_){_[0]&990&&(P=Ae($[9]),t=zt(t,_,C,1,$,P,o,n,Zt,Ct,null,Nt)),_[0]&1&&i!==(i=Math.round($[0].x)+"")&&ce(c,i),_[0]&1&&h!==(h=Math.round($[0].y)+"")&&ce(y,h),_[0]&32&&ae(e,"font-size",$[5]),_[0]&1&&ae(e,"left",$[0].x+"%"),_[0]&1&&ae(e,"bottom",$[0].y+"%"),_[0]&2048&&ve(e,"dragging",$[11])},d($){$&&G(e);for(let _=0;_<t.length;_+=1)t[_].d();l[17](null),m=!1,g()}}}function Ct(l,e){let n,t=e[30].word.toUpperCase()+"",o,r;return{key:l,first:null,c(){n=p("span"),o=Y(t),r=W(),a(n,"class","hormozi-word svelte-32390i"),ae(n,"color",e[32]?e[3]:e[4]),ae(n,"background-color",e[32]?e[2]:"transparent"),ae(n,"transform",e[32]&&e[6]?`scale(${e[7]})`:"scale(1)"),ve(n,"active",e[32]),ve(n,"past",e[33]),ve(n,"pop-animation",e[6]&&e[32]),this.first=n},m(s,i){Z(s,n,i),u(n,o),u(n,r)},p(s,i){e=s,i[0]&512&&t!==(t=e[30].word.toUpperCase()+"")&&ce(o,t),i[0]&794&&ae(n,"color",e[32]?e[3]:e[4]),i[0]&774&&ae(n,"background-color",e[32]?e[2]:"transparent"),i[0]&962&&ae(n,"transform",e[32]&&e[6]?`scale(${e[7]})`:"scale(1)"),i[0]&770&&ve(n,"active",e[32]),i[0]&770&&ve(n,"past",e[33]),i[0]&834&&ve(n,"pop-animation",e[6]&&e[32])},d(s){s&&G(n)}}}function hl(l){let e,n=l[9].length>0&&Et(l);return{c(){n&&n.c(),e=ot()},m(t,o){n&&n.m(t,o),Z(t,e,o)},p(t,o){t[9].length>0?n?n.p(t,o):(n=Et(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:we,o:we,d(t){t&&G(e),n&&n.d(t)}}}function _l(l,e,n){let t,{videoElement:o}=e,{captions:r=[]}=e,{maxWordsPerLine:s=4}=e,{backgroundColor:i="#FF0000"}=e,{activeWordColor:c="#FFFFFF"}=e,{inactiveWordColor:d="rgba(255, 255, 255, 0.5)"}=e,{fontSize:h="clamp(28px, 4vw, 56px)"}=e,{enablePopAnimation:y=!0}=e,{popScale:f=1.15}=e,{position:m={x:50,y:15}}=e;const g=Yt();let P=0,C=-1,$=[],_=!1,M=null,F=!1,v=null,I=!1,L={mouseX:0,mouseY:0,posX:0,posY:0};function b(k){return!t||t.length===0?-1:t.findIndex(q=>k>=q.start&&k<=q.end)}function w(){if(t.length===0){n(9,$=[]);return}const k=C>=0?C:0,x=Math.floor(k/s)*s,le=Math.min(x+s,t.length),B=t.slice(x,le);JSON.stringify(B)!==JSON.stringify($)&&n(9,$=B)}function O(){if(!o||!F)return;const k=o.currentTime;n(15,P=k);const q=b(k);q!==C&&(n(8,C=q),w()),_&&(M=requestAnimationFrame(O))}function ke(k){k.preventDefault(),k.stopPropagation(),v&&(n(11,I=!0),L={mouseX:k.clientX,mouseY:k.clientY,posX:m.x,posY:m.y},window.addEventListener("mousemove",he),window.addEventListener("mouseup",R))}function he(k){var B;if(!I)return;const q=k.clientX-L.mouseX,x=k.clientY-L.mouseY,le=(B=v.parentElement)==null?void 0:B.getBoundingClientRect();le&&(n(0,m.x=Math.max(5,Math.min(95,L.posX+q/le.width*100)),m),n(0,m.y=Math.max(5,Math.min(50,L.posY-x/le.height*100)),m))}function R(){n(11,I=!1),window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",R),g("positionChange",{x:m.x,y:m.y})}let K=!1;function Ee(){if(K||!o)return;K=!0;const k=()=>{_=!0,M&&cancelAnimationFrame(M),M=requestAnimationFrame(O)},q=()=>{_=!1,M&&cancelAnimationFrame(M)},x=()=>{if(!_&&o){n(15,P=o.currentTime);const B=b(P);B!==C&&(n(8,C=B),w())}},le=B=>(B.preventDefault(),!1);return o.addEventListener("play",k),o.addEventListener("pause",q),o.addEventListener("timeupdate",x),o.addEventListener("seeking",x),o.addEventListener("contextmenu",le),x(),()=>{o.removeEventListener("play",k),o.removeEventListener("pause",q),o.removeEventListener("timeupdate",x),o.removeEventListener("seeking",x),o.removeEventListener("contextmenu",le),K=!1}}st(()=>{n(16,F=!0),r.length>0&&w()}),Bt(()=>{n(16,F=!1),M&&cancelAnimationFrame(M),window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",R)});function ye(k){ze[k?"unshift":"push"](()=>{v=k,n(10,v)})}return l.$$set=k=>{"videoElement"in k&&n(13,o=k.videoElement),"captions"in k&&n(14,r=k.captions),"maxWordsPerLine"in k&&n(1,s=k.maxWordsPerLine),"backgroundColor"in k&&n(2,i=k.backgroundColor),"activeWordColor"in k&&n(3,c=k.activeWordColor),"inactiveWordColor"in k&&n(4,d=k.inactiveWordColor),"fontSize"in k&&n(5,h=k.fontSize),"enablePopAnimation"in k&&n(6,y=k.enablePopAnimation),"popScale"in k&&n(7,f=k.popScale),"position"in k&&n(0,m=k.position)},l.$$.update=()=>{l.$$.dirty[0]&16384&&(t=r.flatMap(k=>{const q=k.text.split(/\s+/).filter(ie=>ie.trim());if(q.length===0)return[];const x=k.end-k.start,le=q.map(ie=>Math.max(1,ie.length*.5)),B=le.reduce((ie,S)=>ie+S,0);let ee=k.start;return q.map((ie,S)=>{const oe=le[S]/B*x,U=ee,X=ee+oe;return ee=X,{word:ie.replace(/[^\w\s]/gi,""),start:U,end:X,originalWord:ie}})})),l.$$.dirty[0]&81920&&r&&r.length>0&&F&&w(),l.$$.dirty[0]&73728&&o&&F&&Ee()},[m,s,i,c,d,h,y,f,C,$,v,I,ke,o,r,P,F,ye]}class pl extends ne{constructor(e){super(),te(this,e,_l,hl,Q,{videoElement:13,captions:14,maxWordsPerLine:1,backgroundColor:2,activeWordColor:3,inactiveWordColor:4,fontSize:5,enablePopAnimation:6,popScale:7,position:0},null,[-1,-1])}}function bl(l){let e,n,t=l[11]?"Exporting...":"Export Video",o,r,s,i=l[12]&&St(l);return{c(){i&&i.c(),e=W(),n=p("button"),o=Y(t),a(n,"class","px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),n.disabled=l[11]},m(c,d){i&&i.m(c,d),Z(c,e,d),Z(c,n,d),u(n,o),r||(s=J(n,"click",l[22]),r=!0)},p(c,d){c[12]?i?i.p(c,d):(i=St(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),d[0]&2048&&t!==(t=c[11]?"Exporting...":"Export Video")&&ce(o,t),d[0]&2048&&(n.disabled=c[11])},d(c){c&&(G(e),G(n)),i&&i.d(c),r=!1,s()}}}function vl(l){let e,n,t,o,r,s,i;return{c(){e=p("a"),n=We("svg"),t=We("path"),o=We("polyline"),r=We("line"),s=W(),i=p("span"),i.textContent="Download Video",a(t,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),a(o,"points","7 10 12 15 17 10"),a(r,"x1","12"),a(r,"y1","15"),a(r,"x2","12"),a(r,"y2","3"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"width","16"),a(n,"height","16"),a(n,"viewBox","0 0 24 24"),a(n,"fill","none"),a(n,"stroke","currentColor"),a(n,"stroke-width","2"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(e,"href",l[14]),a(e,"class","px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center space-x-2")},m(c,d){Z(c,e,d),u(e,n),u(n,t),u(n,o),u(n,r),u(e,s),u(e,i)},p(c,d){d[0]&16384&&a(e,"href",c[14])},d(c){c&&G(e)}}}function St(l){let e,n,t;return{c(){e=p("span"),n=Y(l[12]),a(e,"class",t="text-sm "+(l[12].includes("failed")?"text-red-600":"text-green-600"))},m(o,r){Z(o,e,r),u(e,n)},p(o,r){r[0]&4096&&ce(n,o[12]),r[0]&4096&&t!==(t="text-sm "+(o[12].includes("failed")?"text-red-600":"text-green-600"))&&a(e,"class",t)},d(o){o&&G(e)}}}function wl(l){let e,n,t,o,r,s,i,c,d,h,y,f,m,g,P,C,$=Se(l[2])+"",_,M,F,v=Se(l[3])+"",I,L,b,w,O,ke,he,R,K,Ee,ye,k,q,x,le,B,ee=Se(l[2])+"",ie,S,j=Se(l[3])+"",oe,U,X,_e,it,$e,ut,Ve,Pe,at,Me,Ne,Je,ct,re=l[15].length>0&&l[0]&&Mt(l);O=new Bn({props:{class:"w-5 h-5"}});const ft=[Nl,$l],Te=[];function dt(z,ue){return z[1]?0:1}return R=dt(l),K=Te[R]=ft[R](l),k=new Jn({props:{class:"w-5 h-5"}}),_e=new al({props:{class:"w-4 h-4 text-gray-400"}}),Pe=new Mn({props:{class:"w-5 h-5"}}),Me=new gl({props:{captions:l[15],currentTime:l[2],onUpdate:l[20],onCaptionClick:l[21]}}),{c(){e=p("div"),n=p("div"),t=p("div"),o=p("div"),r=p("video"),s=p("track"),c=W(),re&&re.c(),d=W(),h=p("div"),y=p("div"),f=p("div"),m=p("div"),g=W(),P=p("div"),C=p("span"),_=Y($),M=W(),F=p("span"),I=Y(v),L=W(),b=p("div"),w=p("button"),D(O.$$.fragment),ke=W(),he=p("button"),K.c(),Ee=W(),ye=p("button"),D(k.$$.fragment),q=W(),x=p("div"),le=W(),B=p("span"),ie=Y(ee),S=Y(" / "),oe=Y(j),U=W(),X=p("div"),D(_e.$$.fragment),it=W(),$e=p("input"),ut=W(),Ve=p("button"),D(Pe.$$.fragment),at=W(),D(Me.$$.fragment),a(s,"kind","captions"),a(r,"class","w-full h-full object-contain"),gt(r.src,i=l[5])||a(r,"src",i),a(o,"class","relative h-full max-h-[calc(100vh-300px)] aspect-[9/16] bg-black rounded-lg overflow-hidden shadow-2xl"),a(t,"class","flex-1 flex items-center justify-center p-4 overflow-hidden"),a(m,"class","h-full bg-green-500 rounded-full transition-all duration-100"),ae(m,"width",l[2]/(l[3]||1)*100+"%"),a(f,"class","h-2 bg-gray-700 rounded-full cursor-pointer relative overflow-hidden"),a(f,"role","slider"),a(f,"aria-valuenow",l[2]),a(f,"aria-valuemax",l[3]),a(f,"tabindex","0"),a(P,"class","flex justify-between text-xs text-gray-400 mt-1"),a(y,"class","w-full max-w-md"),a(w,"class","text-gray-400 hover:text-white transition-colors"),a(he,"class","w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-900 hover:bg-gray-200 transition-colors"),a(ye,"class","text-gray-400 hover:text-white transition-colors"),a(x,"class","w-px h-6 bg-gray-600 mx-2"),a(B,"class","text-gray-300 text-sm font-mono min-w-[100px]"),a($e,"type","range"),a($e,"min","0"),a($e,"max","1"),a($e,"step","0.1"),a($e,"class","w-20 accent-green-500"),a(X,"class","flex items-center space-x-2"),a(Ve,"class","text-gray-400 hover:text-white transition-colors ml-2"),a(b,"class","flex items-center space-x-4 bg-gray-800 rounded-full px-8 py-3"),a(h,"class","flex flex-col items-center pb-4 px-4 space-y-3"),a(n,"class","flex-1 flex flex-col bg-gray-900"),a(e,"class","flex-1 flex overflow-hidden")},m(z,ue){Z(z,e,ue),u(e,n),u(n,t),u(t,o),u(o,r),u(r,s),l[24](r),u(o,c),re&&re.m(o,null),l[29](o),u(n,d),u(n,h),u(h,y),u(y,f),u(f,m),u(y,g),u(y,P),u(P,C),u(C,_),u(P,M),u(P,F),u(F,I),u(h,L),u(h,b),u(b,w),A(O,w,null),u(b,ke),u(b,he),Te[R].m(he,null),u(b,Ee),u(b,ye),A(k,ye,null),u(b,q),u(b,x),u(b,le),u(b,B),u(B,ie),u(B,S),u(B,oe),u(b,U),u(b,X),A(_e,X,null),u(X,it),u(X,$e),qe($e,l[4]),u(b,ut),u(b,Ve),A(Pe,Ve,null),u(e,at),A(Me,e,null),Ne=!0,Je||(ct=[J(r,"timeupdate",l[17]),J(r,"play",l[25]),J(r,"pause",l[26]),J(r,"contextmenu",_t(Tt)),J(o,"contextmenu",_t(Tt)),J(f,"click",l[19]),J(w,"click",l[30]),J(he,"click",l[16]),J(ye,"click",l[31]),J($e,"change",l[32]),J($e,"input",l[32]),J($e,"input",l[33]),J(Ve,"click",l[18])],Je=!0)},p(z,ue){(!Ne||ue[0]&32&&!gt(r.src,i=z[5]))&&a(r,"src",i),z[15].length>0&&z[0]?re?(re.p(z,ue),ue[0]&32769&&N(re,1)):(re=Mt(z),re.c(),N(re,1),re.m(o,null)):re&&(Ue(),E(re,1,1,()=>{re=null}),He()),(!Ne||ue[0]&12)&&ae(m,"width",z[2]/(z[3]||1)*100+"%"),(!Ne||ue[0]&4)&&a(f,"aria-valuenow",z[2]),(!Ne||ue[0]&8)&&a(f,"aria-valuemax",z[3]),(!Ne||ue[0]&4)&&$!==($=Se(z[2])+"")&&ce(_,$),(!Ne||ue[0]&8)&&v!==(v=Se(z[3])+"")&&ce(I,v);let Ke=R;R=dt(z),R!==Ke&&(Ue(),E(Te[Ke],1,1,()=>{Te[Ke]=null}),He(),K=Te[R],K||(K=Te[R]=ft[R](z),K.c()),N(K,1),K.m(he,null)),(!Ne||ue[0]&4)&&ee!==(ee=Se(z[2])+"")&&ce(ie,ee),(!Ne||ue[0]&8)&&j!==(j=Se(z[3])+"")&&ce(oe,j),ue[0]&16&&qe($e,z[4]);const Ge={};ue[0]&32768&&(Ge.captions=z[15]),ue[0]&4&&(Ge.currentTime=z[2]),Me.$set(Ge)},i(z){Ne||(N(re),N(O.$$.fragment,z),N(K),N(k.$$.fragment,z),N(_e.$$.fragment,z),N(Pe.$$.fragment,z),N(Me.$$.fragment,z),Ne=!0)},o(z){E(re),E(O.$$.fragment,z),E(K),E(k.$$.fragment,z),E(_e.$$.fragment,z),E(Pe.$$.fragment,z),E(Me.$$.fragment,z),Ne=!1},d(z){z&&G(e),l[24](null),re&&re.d(),l[29](null),V(O),Te[R].d(),V(k),V(_e),V(Pe),V(Me),Je=!1,Ce(ct)}}}function kl(l){let e,n,t;return{c(){e=p("div"),n=Y("Error: "),t=Y(l[7]),a(e,"class","flex-1 flex items-center justify-center text-red-500 text-xl")},m(o,r){Z(o,e,r),u(e,n),u(e,t)},p(o,r){r[0]&128&&ce(t,o[7])},i:we,o:we,d(o){o&&G(e)}}}function yl(l){let e;return{c(){e=p("div"),e.textContent="Loading editor...",a(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl")},m(n,t){Z(n,e,t)},p:we,i:we,o:we,d(n){n&&G(e)}}}function Mt(l){let e,n,t;function o(s){l[27](s)}let r={videoElement:l[0],captions:l[15],maxWordsPerLine:3,backgroundColor:"#FF0000",activeWordColor:"#FFFFFF",inactiveWordColor:"rgba(255, 255, 255, 0.4)",fontSize:"clamp(20px, 3vw, 40px)",enablePopAnimation:!0,popScale:1.1};return l[8]!==void 0&&(r.position=l[8]),e=new pl({props:r}),ze.push(()=>xt(e,"position",o)),e.$on("positionChange",l[28]),{c(){D(e.$$.fragment)},m(s,i){A(e,s,i),t=!0},p(s,i){const c={};i[0]&1&&(c.videoElement=s[0]),i[0]&32768&&(c.captions=s[15]),!n&&i[0]&256&&(n=!0,c.position=s[8],Jt(()=>n=!1)),e.$set(c)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){V(e,s)}}}function $l(l){let e,n;return e=new zn({props:{class:"w-5 h-5 ml-0.5"}}),{c(){D(e.$$.fragment)},m(t,o){A(e,t,o),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Nl(l){let e,n;return e=new Ln({props:{class:"w-5 h-5"}}),{c(){D(e.$$.fragment)},m(t,o){A(e,t,o),n=!0},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function El(l){let e,n,t,o=(l[10]||"Video Editor")+"",r,s,i,c,d,h,y;function f(_,M){return _[13]&&_[14]?vl:bl}let m=f(l),g=m(l);const P=[yl,kl,wl],C=[];function $(_,M){return _[6]?0:_[7]?1:2}return d=$(l),h=C[d]=P[d](l),{c(){e=p("div"),n=p("header"),t=p("h1"),r=Y(o),s=W(),i=p("div"),g.c(),c=W(),h.c(),a(t,"class","text-lg font-semibold text-gray-900"),a(i,"class","flex items-center space-x-3"),a(n,"class","bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between flex-shrink-0"),a(e,"class","flex-1 flex flex-col ml-16 h-screen")},m(_,M){Z(_,e,M),u(e,n),u(n,t),u(t,r),u(n,s),u(n,i),g.m(i,null),u(e,c),C[d].m(e,null),y=!0},p(_,M){(!y||M[0]&1024)&&o!==(o=(_[10]||"Video Editor")+"")&&ce(r,o),m===(m=f(_))&&g?g.p(_,M):(g.d(1),g=m(_),g&&(g.c(),g.m(i,null)));let F=d;d=$(_),d===F?C[d].p(_,M):(Ue(),E(C[F],1,1,()=>{C[F]=null}),He(),h=C[d],h?h.p(_,M):(h=C[d]=P[d](_),h.c()),N(h,1),h.m(e,null))},i(_){y||(N(h),y=!0)},o(_){E(h),y=!1},d(_){_&&G(e),g.d(),C[d].d()}}}function Se(l){const e=Math.floor(l/60),n=Math.floor(l%60);return`${e}:${n.toString().padStart(2,"0")}`}function Tt(l){return l.preventDefault(),!1}function jt(l){const[e,n,t]=l.split(":"),[o,r]=t.split(",");return parseInt(e,10)*3600+parseInt(n,10)*60+parseInt(o,10)+parseInt(r,10)/1e3}function Cl(l){const e=l.split(/\r?\n/);let n=[],t=null,o=1;for(const r of e)if(r.trim()==="")t&&t.text.trim()!==""&&n.push(t),t=null;else if(t===null)t={id:o++,text:"",active:!1};else if(r.includes("-->")){const[s,i]=r.split("-->").map(c=>c.trim());t.start=jt(s),t.end=jt(i)}else t.text+=(t.text===""?"":" ")+r.trim();return t&&t.text.trim()!==""&&n.push(t),n}function Pt(l){const e=Math.floor(l/3600),n=Math.floor(l%3600/60),t=Math.floor(l%60),o=Math.floor(l%1*1e3);return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")},${o.toString().padStart(3,"0")}`}function Sl(l,e,n){let{jobId:t}=e,o,r=!1,s=0,i=0,c=1,d="",h=!0,y=null,f={x:50,y:15},m=null,g="",P=!1,C="",$=!1,_="",M="original";function F(){o&&(r?o.pause():o.play())}function v(){if(o){n(2,s=o.currentTime),n(3,i=o.duration||0),n(15,b=b.map(j=>({...j,active:s>=j.start&&s<=j.end})));const S=b.find(j=>j.active);S&&S.text}}function I(){m&&(document.fullscreenElement?document.exitFullscreen().then(()=>{}).catch(S=>{console.error("Error attempting to exit fullscreen:",S)}):m.requestFullscreen().then(()=>{}).catch(S=>{console.error("Error attempting to enable fullscreen:",S)}))}function L(S){if(!o||!i)return;const j=S.currentTarget.getBoundingClientRect(),U=(S.clientX-j.left)/j.width*i;n(0,o.currentTime=U,o),n(2,s=U)}let b=[];st(async()=>{try{const S=await fetch(`/api/editor_data/${t}`);if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const j=await S.json();if(j.status==="success")n(5,d=j.video_url),n(15,b=Cl(j.srt_content)),M=j.resolution||"original",n(10,g=j.original_filename||"");else throw new Error(j.message||"Failed to load editor data")}catch(S){console.error("Error fetching editor data:",S),n(7,y=S.message)}finally{n(6,h=!1)}});function w(S,j){n(15,b=b.map(oe=>oe.id===S?{...oe,text:j}:oe))}function O(S){o&&n(0,o.currentTime=S.start,o)}function ke(){return b.map((S,j)=>`${j+1}
${Pt(S.start)} --> ${Pt(S.end)}
${S.text}`).join(`

`)}async function he(S){return new Promise((j,oe)=>{const U=setInterval(async()=>{try{const _e=await(await fetch(`/api/job_status/${S}`)).json();_e.status==="completed"?(clearInterval(U),j(_e)):_e.status==="failed"?(clearInterval(U),oe(new Error(_e.error||"Burning failed"))):n(12,C=`Processing: ${_e.progress_message||_e.status}...`)}catch(X){clearInterval(U),oe(X)}},3e3);setTimeout(()=>{clearInterval(U),oe(new Error("Export timed out"))},6e5)})}async function R(){var S;n(11,P=!0),n(12,C="Saving subtitles..."),n(13,$=!1);try{const j=ke(),oe={x:f.x,y:f.y},U=await fetch("/save_and_burn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:t,srt_content:j,positional_data:oe,resolution:M})});if(!U.ok)throw new Error(`HTTP error! status: ${U.status}`);const X=await U.json();if(X.status==="success"){n(12,C="Video burning in progress...");const _e=await he(X.job_id);n(13,$=!0),n(12,C="Export complete!"),n(14,_=((S=_e.result)==null?void 0:S.video_url)||"")}else throw new Error(X.message||"Failed to start export")}catch(j){console.error("Error exporting video:",j),n(12,C=`Export failed: ${j.message}`),n(13,$=!1)}finally{n(11,P=!1)}}function K(S){ze[S?"unshift":"push"](()=>{o=S,n(0,o)})}const Ee=()=>n(1,r=!0),ye=()=>n(1,r=!1);function k(S){f=S,n(8,f)}const q=S=>n(8,f=S.detail);function x(S){ze[S?"unshift":"push"](()=>{m=S,n(9,m)})}const le=()=>o&&n(0,o.currentTime-=5,o),B=()=>o&&n(0,o.currentTime+=5,o);function ee(){c=Ut(this.value),n(4,c)}const ie=()=>o&&n(0,o.volume=c,o);return l.$$set=S=>{"jobId"in S&&n(23,t=S.jobId)},[o,r,s,i,c,d,h,y,f,m,g,P,C,$,_,b,F,v,I,L,w,O,R,t,K,Ee,ye,k,q,x,le,B,ee,ie]}class Ml extends ne{constructor(e){super(),te(this,e,Sl,El,Q,{jobId:23},null,[-1,-1])}}function Tl(l){let e,n,t,o,r,s,i,c,d,h,y,f,m,g,P,C,$,_,M,F,v,I,L,b;return o=new wt({props:{class:"w-6 h-6 text-white"}}),c=new wn({props:{class:"w-5 h-5"}}),y=new wt({props:{class:"w-5 h-5"}}),g=new nl({props:{class:"w-5 h-5"}}),$=new On({props:{class:"w-5 h-5"}}),v=new Nn({props:{class:"w-5 h-5"}}),{c(){e=p("aside"),n=p("div"),t=p("div"),D(o.$$.fragment),r=W(),s=p("nav"),i=p("a"),D(c.$$.fragment),d=W(),h=p("a"),D(y.$$.fragment),f=W(),m=p("a"),D(g.$$.fragment),P=W(),C=p("a"),D($.$$.fragment),_=W(),M=p("div"),F=p("button"),D(v.$$.fragment),a(t,"class","w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center"),a(n,"class","mb-8"),a(i,"href","/"),a(i,"class","w-12 h-12 rounded-xl bg-gray-100 text-gray-900 flex items-center justify-center hover:bg-gray-200 transition-colors"),a(i,"title","Home"),a(h,"href","/editor-new"),a(h,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(h,"title","New Editor"),a(m,"href","/profile"),a(m,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(m,"title","Profile"),a(C,"href","/"),a(C,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(C,"title","Dashboard"),a(s,"class","flex-1 flex flex-col items-center space-y-2 w-full"),a(F,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-red-50 hover:text-red-600 transition-colors"),a(F,"title","Logout"),a(M,"class","mt-auto w-full flex flex-col items-center space-y-2"),a(e,"class","fixed left-0 top-0 h-full w-16 bg-white border-r border-gray-200 flex flex-col items-center py-6 z-50 shadow-sm")},m(w,O){Z(w,e,O),u(e,n),u(n,t),A(o,t,null),u(e,r),u(e,s),u(s,i),A(c,i,null),u(s,d),u(s,h),A(y,h,null),u(s,f),u(s,m),A(g,m,null),u(s,P),u(s,C),A($,C,null),u(e,_),u(e,M),u(M,F),A(v,F,null),I=!0,L||(b=J(F,"click",jl),L=!0)},p:we,i(w){I||(N(o.$$.fragment,w),N(c.$$.fragment,w),N(y.$$.fragment,w),N(g.$$.fragment,w),N($.$$.fragment,w),N(v.$$.fragment,w),I=!0)},o(w){E(o.$$.fragment,w),E(c.$$.fragment,w),E(y.$$.fragment,w),E(g.$$.fragment,w),E($.$$.fragment,w),E(v.$$.fragment,w),I=!1},d(w){w&&G(e),V(o),V(c),V(y),V(g),V($),V(v),L=!1,b()}}}function jl(){window.location.href="/logout"}class Pl extends ne{constructor(e){super(),te(this,e,null,Tl,Q,{})}}function Ll(l){let e;return{c(){e=p("div"),e.textContent="No video job selected. Please go to the dashboard to select a video to edit.",a(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl ml-16")},m(n,t){Z(n,e,t)},p:we,i:we,o:we,d(n){n&&G(e)}}}function Il(l){let e,n;return e=new Ml({props:{jobId:l[0]}}),{c(){D(e.$$.fragment)},m(t,o){A(e,t,o),n=!0},p(t,o){const r={};o&1&&(r.jobId=t[0]),e.$set(r)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Wl(l){let e,n,t,o,r,s;n=new Pl({});const i=[Il,Ll],c=[];function d(h,y){return h[0]?0:1}return o=d(l),r=c[o]=i[o](l),{c(){e=p("main"),D(n.$$.fragment),t=W(),r.c(),a(e,"class","flex h-screen w-full overflow-hidden bg-gray-100")},m(h,y){Z(h,e,y),A(n,e,null),u(e,t),c[o].m(e,null),s=!0},p(h,[y]){let f=o;o=d(h),o===f?c[o].p(h,y):(Ue(),E(c[f],1,1,()=>{c[f]=null}),He(),r=c[o],r?r.p(h,y):(r=c[o]=i[o](h),r.c()),N(r,1),r.m(e,null))},i(h){s||(N(n.$$.fragment,h),N(r),s=!0)},o(h){E(n.$$.fragment,h),E(r),s=!1},d(h){h&&G(e),V(n),c[o].d()}}}function Fl(l,e,n){let t=null;return st(()=>{const o=window.location.pathname.split("/"),r=o.indexOf("edit");r>-1&&o.length>r+1&&n(0,t=o[r+1])}),[t]}class zl extends ne{constructor(e){super(),te(this,e,Fl,Wl,Q,{})}}new zl({target:document.getElementById("app")});
