var Kl=Object.defineProperty;var Xl=(t,e,l)=>e in t?Kl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var pt=(t,e,l)=>Xl(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=l(o);fetch(o.href,i)}})();function O(){}const Al=t=>t;function Z(t,e){for(const l in e)t[l]=e[l];return t}function Ll(t){return t()}function Wt(){return Object.create(null)}function be(t){t.forEach(Ll)}function ft(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let tt;function it(t,e){return t===e?!0:(tt||(tt=document.createElement("a")),tt.href=e,t===tt.href)}function en(t){return Object.keys(t).length===0}function Il(t,...e){if(t==null){for(const n of e)n(void 0);return O}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function de(t,e,l){t.$$.on_destroy.push(Il(e,l))}function ke(t,e,l,n){if(t){const o=Rl(t,e,l,n);return t[0](o)}}function Rl(t,e,l,n){return t[1]&&n?Z(l.ctx.slice(),t[1](n(e))):l.ctx}function ye(t,e,l,n){if(t[2]&&n){const o=t[2](n(l));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],r=Math.max(e.dirty.length,o.length);for(let s=0;s<r;s+=1)i[s]=e.dirty[s]|o[s];return i}return e.dirty|o}return e.dirty}function xe(t,e,l,n,o,i){if(o){const r=Rl(e,l,n,i);t.p(r,o)}}function $e(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function he(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function jt(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const Hl=typeof window<"u";let tn=Hl?()=>window.performance.now():()=>Date.now(),kt=Hl?t=>requestAnimationFrame(t):O;const Ie=new Set;function Ol(t){Ie.forEach(e=>{e.c(t)||(Ie.delete(e),e.f())}),Ie.size!==0&&kt(Ol)}function ln(t){let e;return Ie.size===0&&kt(Ol),{promise:new Promise(l=>{Ie.add(e={c:t,f:l})}),abort(){Ie.delete(e)}}}function u(t,e){t.appendChild(e)}function Dl(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function nn(t){const e=_("style");return e.textContent="/* empty */",on(Dl(t),e),e.sheet}function on(t,e){return u(t.head||t,e),e.sheet}function j(t,e,l){t.insertBefore(e,l||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function oe(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function rt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function S(){return J(" ")}function yt(){return J("")}function G(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Ul(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function st(t,e){for(const l in e)f(t,l,e[l])}function rn(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function at(t,e){t.value=e??""}function Me(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function lt(t,e,l){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function sn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function zt(t,e){return new t(e)}const ct=new Map;let ut=0;function an(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function cn(t,e){const l={stylesheet:nn(e),rules:{}};return ct.set(t,l),l}function At(t,e,l,n,o,i,r,s=0){const a=16.666/n;let c=`{
`;for(let b=0;b<=1;b+=a){const w=e+(l-e)*i(b);c+=b*100+`%{${r(w,1-w)}}
`}const h=c+`100% {${r(l,1-l)}}
}`,m=`__svelte_${an(h)}_${s}`,d=Dl(t),{stylesheet:p,rules:g}=ct.get(d)||cn(d,t);g[m]||(g[m]=!0,p.insertRule(`@keyframes ${m} ${h}`,p.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${m} ${n}ms linear ${o}ms 1 both`,ut+=1,m}function un(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=l.length-n.length;o&&(t.style.animation=n.join(", "),ut-=o,ut||fn())}function fn(){kt(()=>{ut||(ct.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&B(e)}),ct.clear())})}let Ke;function Ze(t){Ke=t}function dn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function ql(t){dn().$$.on_mount.push(t)}function hn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Le=[],Xe=[];let Re=[];const Lt=[],pn=Promise.resolve();let bt=!1;function gn(){bt||(bt=!0,pn.then(Vl))}function He(t){Re.push(t)}const gt=new Set;let ze=0;function Vl(){if(ze!==0)return;const t=Ke;do{try{for(;ze<Le.length;){const e=Le[ze];ze++,Ze(e),_n(e.$$)}}catch(e){throw Le.length=0,ze=0,e}for(Ze(null),Le.length=0,ze=0;Xe.length;)Xe.pop()();for(let e=0;e<Re.length;e+=1){const l=Re[e];gt.has(l)||(gt.add(l),l())}Re.length=0}while(Le.length);for(;Lt.length;)Lt.pop()();bt=!1,gt.clear(),Ze(t)}function _n(t){if(t.fragment!==null){t.update(),be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(He)}}function mn(t){const e=[],l=[];Re.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Re=e}let Ye;function bn(){return Ye||(Ye=Promise.resolve(),Ye.then(()=>{Ye=null})),Ye}function _t(t,e,l){t.dispatchEvent(sn(`${e?"intro":"outro"}${l}`))}const ot=new Set;let Te;function Ce(){Te={r:0,c:[],p:Te}}function Fe(){Te.r||be(Te.c),Te=Te.p}function E(t,e){t&&t.i&&(ot.delete(t),t.i(e))}function W(t,e,l,n){if(t&&t.o){if(ot.has(t))return;ot.add(t),Te.c.push(()=>{ot.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const vn={duration:0};function nt(t,e,l,n){let i=e(t,l,{direction:"both"}),r=n?0:1,s=null,a=null,c=null,h;function m(){c&&un(t,c)}function d(g,y){const b=g.b-r;return y*=Math.abs(b),{a:r,b:g.b,d:b,duration:y,start:g.start,end:g.start+y,group:g.group}}function p(g){const{delay:y=0,duration:b=300,easing:w=Al,tick:v=O,css:x}=i||vn,N={start:tn()+y,b:g};g||(N.group=Te,Te.r+=1),"inert"in t&&(g?h!==void 0&&(t.inert=h):(h=t.inert,t.inert=!0)),s||a?a=N:(x&&(m(),c=At(t,r,g,b,y,w,x)),g&&v(0,1),s=d(N,b),He(()=>_t(t,g,"start")),ln(A=>{if(a&&A>a.start&&(s=d(a,b),a=null,_t(t,s.b,"start"),x&&(m(),c=At(t,r,s.b,s.duration,0,w,i.css))),s){if(A>=s.end)v(r=s.b,1-r),_t(t,s.b,"end"),a||(s.b?m():--s.group.r||be(s.group.c)),s=null;else if(A>=s.start){const M=A-s.start;r=s.a+s.d*w(M/s.duration),v(r,1-r)}}return!!(s||a)}))}return{run(g){ft(i)?bn().then(()=>{i=i({direction:g?"in":"out"}),p(g)}):p(g)},end(){m(),s=a=null}}}function R(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ee(t,e){const l={},n={},o={$$scope:1};let i=t.length;for(;i--;){const r=t[i],s=e[i];if(s){for(const a in r)a in s||(n[a]=1);for(const a in s)o[a]||(l[a]=s[a],o[a]=1);t[i]=s}else for(const a in r)o[a]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Oe(t){return typeof t=="object"&&t!==null?t:{}}function ne(t){t&&t.c()}function X(t,e,l){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,l),He(()=>{const i=t.$$.on_mount.map(Ll).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...i):be(i),t.$$.on_mount=[]}),o.forEach(He)}function ee(t,e){const l=t.$$;l.fragment!==null&&(mn(l.after_update),be(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function wn(t,e){t.$$.dirty[0]===-1&&(Le.push(t),gn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function pe(t,e,l,n,o,i,r=null,s=[-1]){const a=Ke;Ze(t);const c=t.$$={fragment:null,ctx:[],props:i,update:O,not_equal:o,bound:Wt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Wt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let h=!1;if(c.ctx=l?l(t,e.props||{},(m,d,...p)=>{const g=p.length?p[0]:d;return c.ctx&&o(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),h&&wn(t,m)),d}):[],c.update(),h=!0,be(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const m=rn(e.target);c.fragment&&c.fragment.l(m),m.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&E(t.$$.fragment),X(t,e.target,e.anchor),Vl()}Ze(a)}class ge{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){ee(this,1),this.$destroy=O}$on(e,l){if(!ft(l))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!en(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kn);const Ae=[];function yn(t,e){return{subscribe:De(t,e).subscribe}}function De(t,e=O){let l;const n=new Set;function o(s){if(re(t,s)&&(t=s,l)){const a=!Ae.length;for(const c of n)c[1](),Ae.push(c,t);if(a){for(let c=0;c<Ae.length;c+=2)Ae[c][0](Ae[c+1]);Ae.length=0}}}function i(s){o(s(t))}function r(s,a=O){const c=[s,a];return n.add(c),n.size===1&&(l=e(o,i)||O),s(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:o,update:i,subscribe:r}}function Gl(t,e,l){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return yn(l,(r,s)=>{let a=!1;const c=[];let h=0,m=O;const d=()=>{if(h)return;m();const g=e(n?c[0]:c,r,s);i?r(g):m=ft(g)?g:O},p=o.map((g,y)=>Il(g,b=>{c[y]=b,h&=~(1<<y),a&&d()},()=>{h|=1<<y}));return a=!0,d(),function(){be(p),m(),a=!1}})}const vt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},xn={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1},wt=De("captions");function $n(){const{subscribe:t,set:e,update:l}=De(null);return{subscribe:t,set:e,update:l,updateCaption:(n,o)=>{l(i=>{if(!i)return i;const r=i.captions.map(s=>s.id===n?{...s,...o}:s);return{...i,captions:r,updatedAt:new Date}})},updateStyle:n=>{l(o=>o&&{...o,style:{...o.style,...n},updatedAt:new Date})},applyPreset:n=>{l(o=>{if(!o)return o;const i=vt[n];return i?{...o,style:{...xn,...i},updatedAt:new Date}:o})},addBRoll:n=>{l(o=>o&&{...o,bRollClips:[...o.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{l(o=>o&&{...o,bRollClips:o.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})}}}const ie=$n();function Cn(){const{subscribe:t,set:e,update:l}=De({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:l,setCurrentTime:n=>l(o=>({...o,currentTime:n})),setPlaying:n=>l(o=>({...o,isPlaying:n})),togglePlay:()=>l(n=>({...n,isPlaying:!n.isPlaying}))}}const we=Cn(),et=De({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1}),It=De(null),Jl=Gl([ie,we],([t,e])=>t&&t.captions.find(l=>e.currentTime>=l.start&&e.currentTime<=l.end)||null),Fn=Gl([Jl,we],([t,e])=>!t||!t.words?null:t.words.find(l=>e.currentTime>=l.start&&e.currentTime<=l.end)||null);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ht(t,e,l){const n=t.slice();return n[10]=e[l][0],n[11]=e[l][1],n}function mt(t){let e,l=[t[11]],n={};for(let o=0;o<l.length;o+=1)n=Z(n,l[o]);return{c(){e=rt(t[10]),st(e,n)},m(o,i){j(o,e,i)},p(o,i){st(e,n=Ee(l,[i&32&&o[11]]))},d(o){o&&B(e)}}}function Ot(t){let e=t[10],l,n=t[10]&&mt(t);return{c(){n&&n.c(),l=yt()},m(o,i){n&&n.m(o,i),j(o,l,i)},p(o,i){o[10]?e?re(e,o[10])?(n.d(1),n=mt(o),e=o[10],n.c(),n.m(l.parentNode,l)):n.p(o,i):(n=mt(o),e=o[10],n.c(),n.m(l.parentNode,l)):e&&(n.d(1),n=null,e=o[10])},d(o){o&&B(l),n&&n.d(o)}}}function Sn(t){let e,l,n,o,i,r=R(t[5]),s=[];for(let d=0;d<r.length;d+=1)s[d]=Ot(Ht(t,r,d));const a=t[9].default,c=ke(a,t,t[8],null);let h=[Rt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:o=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],m={};for(let d=0;d<h.length;d+=1)m=Z(m,h[d]);return{c(){e=rt("svg");for(let d=0;d<s.length;d+=1)s[d].c();l=yt(),c&&c.c(),st(e,m)},m(d,p){j(d,e,p);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(e,null);u(e,l),c&&c.m(e,null),i=!0},p(d,[p]){if(p&32){r=R(d[5]);let g;for(g=0;g<r.length;g+=1){const y=Ht(d,r,g);s[g]?s[g].p(y,p):(s[g]=Ot(y),s[g].c(),s[g].m(e,l))}for(;g<s.length;g+=1)s[g].d(1);s.length=r.length}c&&c.p&&(!i||p&256)&&xe(c,a,d,d[8],i?ye(a,d[8],p,null):$e(d[8]),null),st(e,m=Ee(h,[Rt,p&64&&d[6],(!i||p&4)&&{width:d[2]},(!i||p&4)&&{height:d[2]},(!i||p&2)&&{stroke:d[1]},(!i||p&28&&n!==(n=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":n},(!i||p&129&&o!==(o=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:o}]))},i(d){i||(E(c,d),i=!0)},o(d){W(c,d),i=!1},d(d){d&&B(e),oe(s,d),c&&c.d(d)}}}function Mn(t,e,l){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=jt(e,n),{$$slots:i={},$$scope:r}=e,{name:s}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:h=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:d}=e;return t.$$set=p=>{l(7,e=Z(Z({},e),he(p))),l(6,o=jt(e,n)),"name"in p&&l(0,s=p.name),"color"in p&&l(1,a=p.color),"size"in p&&l(2,c=p.size),"strokeWidth"in p&&l(3,h=p.strokeWidth),"absoluteStrokeWidth"in p&&l(4,m=p.absoluteStrokeWidth),"iconNode"in p&&l(5,d=p.iconNode),"$$scope"in p&&l(8,r=p.$$scope)},e=he(e),[s,a,c,h,m,d,o,e,r,i]}class Ue extends ge{constructor(e){super(),pe(this,e,Mn,Sn,re,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Tn(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function En(t){let e,l;const n=[{name:"film"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Tn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Nn(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class Ql extends ge{constructor(e){super(),pe(this,e,Nn,En,re,{})}}function Pn(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function Bn(t){let e,l;const n=[{name:"loader-2"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Pn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Wn(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class Yl extends ge{constructor(e){super(),pe(this,e,Wn,Bn,re,{})}}function jn(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function zn(t){let e,l;const n=[{name:"palette"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[jn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function An(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class Ln extends ge{constructor(e){super(),pe(this,e,An,zn,re,{})}}function In(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function Rn(t){let e,l;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[In]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Hn(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class On extends ge{constructor(e){super(),pe(this,e,Hn,Rn,re,{})}}function Dn(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function Un(t){let e,l;const n=[{name:"sparkles"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Dn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function qn(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class Zl extends ge{constructor(e){super(),pe(this,e,qn,Un,re,{})}}function Vn(t){let e;const l=t[2].default,n=ke(l,t,t[3],null);return{c(){n&&n.c()},m(o,i){n&&n.m(o,i),e=!0},p(o,i){n&&n.p&&(!e||i&8)&&xe(n,l,o,o[3],e?ye(l,o[3],i,null):$e(o[3]),null)},i(o){e||(E(n,o),e=!0)},o(o){W(n,o),e=!1},d(o){n&&n.d(o)}}}function Gn(t){let e,l;const n=[{name:"type"},t[1],{iconNode:t[0]}];let o={$$slots:{default:[Vn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)o=Z(o,n[i]);return e=new Ue({props:o}),{c(){ne(e.$$.fragment)},m(i,r){X(e,i,r),l=!0},p(i,[r]){const s=r&3?Ee(n,[n[0],r&2&&Oe(i[1]),r&1&&{iconNode:i[0]}]):{};r&8&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){l||(E(e.$$.fragment,i),l=!0)},o(i){W(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Jn(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=r=>{l(1,e=Z(Z({},e),he(r))),"$$scope"in r&&l(3,o=r.$$scope)},e=he(e),[i,e,n,o]}class Qn extends ge{constructor(e){super(),pe(this,e,Jn,Gn,re,{})}}function Dt(t,e,l){const n=t.slice();return n[3]=e[l],n}function Ut(t){let e,l,n,o,i,r,s,a,c;var h=t[3].icon;function m(p,g){return{props:{class:"w-5 h-5"}}}h&&(l=zt(h,m()));function d(){return t[2](t[3])}return{c(){e=_("button"),l&&ne(l.$$.fragment),n=S(),o=_("span"),o.textContent=`${t[3].label}`,i=S(),f(o,"class","absolute left-14 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",r="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-white text-black":"text-gray-400 hover:text-white hover:bg-white/10")),f(e,"title",t[3].label)},m(p,g){j(p,e,g),l&&X(l,e,null),u(e,n),u(e,o),u(e,i),s=!0,a||(c=G(e,"click",d),a=!0)},p(p,g){if(t=p,h!==(h=t[3].icon)){if(l){Ce();const y=l;W(y.$$.fragment,1,0,()=>{ee(y,1)}),Fe()}h?(l=zt(h,m()),ne(l.$$.fragment),E(l.$$.fragment,1),X(l,e,n)):l=null}(!s||g&1&&r!==(r="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-white text-black":"text-gray-400 hover:text-white hover:bg-white/10")))&&f(e,"class",r)},i(p){s||(l&&E(l.$$.fragment,p),s=!0)},o(p){l&&W(l.$$.fragment,p),s=!1},d(p){p&&B(e),l&&ee(l),a=!1,c()}}}function Yn(t){let e,l,n,o,i,r,s,a,c,h,m,d,p=R(t[1]),g=[];for(let b=0;b<p.length;b+=1)g[b]=Ut(Dt(t,p,b));const y=b=>W(g[b],1,1,()=>{g[b]=null});return{c(){e=_("div"),l=_("div"),l.innerHTML='<a href="/" class="text-white"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=S(),o=_("nav");for(let b=0;b<g.length;b+=1)g[b].c();i=S(),r=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',a=S(),c=_("button"),c.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(l,"class","h-14 flex items-center justify-center border-b border-white/10"),f(o,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-gray-400 flex items-center justify-center hover:text-white hover:bg-white/10 transition"),f(s,"title","Profile"),f(c,"class","w-12 h-12 rounded-xl text-gray-400 flex items-center justify-center hover:text-red-400 hover:bg-red-400/10 transition"),f(c,"title","Logout"),f(r,"class","flex flex-col items-center py-4 gap-2 border-t border-white/10"),f(e,"class","flex flex-col h-full")},m(b,w){j(b,e,w),u(e,l),u(e,n),u(e,o);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(o,null);u(e,i),u(e,r),u(r,s),u(r,a),u(r,c),h=!0,m||(d=G(c,"click",Zn),m=!0)},p(b,[w]){if(w&3){p=R(b[1]);let v;for(v=0;v<p.length;v+=1){const x=Dt(b,p,v);g[v]?(g[v].p(x,w),E(g[v],1)):(g[v]=Ut(x),g[v].c(),E(g[v],1),g[v].m(o,null))}for(Ce(),v=p.length;v<g.length;v+=1)y(v);Fe()}},i(b){if(!h){for(let w=0;w<p.length;w+=1)E(g[w]);h=!0}},o(b){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)W(g[w]);h=!1},d(b){b&&B(e),oe(g,b),m=!1,d()}}}function Zn(){window.location.href="/logout"}function Kn(t,e,l){let n;return de(t,wt,r=>l(0,n=r)),[n,[{id:"captions",label:"Captions",icon:Qn},{id:"style",label:"Style",icon:Ln},{id:"broll",label:"B-Roll",icon:Ql},{id:"ai-tools",label:"AI Tools",icon:Zl}],r=>wt.set(r.id)]}class Xn extends ge{constructor(e){super(),pe(this,e,Kn,Yn,re,{})}}const eo=t=>({}),qt=t=>({}),to=t=>({}),Vt=t=>({}),lo=t=>({}),Gt=t=>({}),no=t=>({}),Jt=t=>({});function oo(t){let e,l,n,o,i,r,s,a,c,h,m,d,p,g,y,b,w,v,x,N;const A=t[1].sidebar,M=ke(A,t,t[0],Jt),H=t[1].preview,F=ke(H,t,t[0],Gt),U=t[1].timeline,I=ke(U,t,t[0],Vt),q=t[1].panel,$=ke(q,t,t[0],qt);return{c(){e=_("div"),l=_("aside"),M&&M.c(),n=S(),o=_("div"),i=_("header"),r=_("div"),r.innerHTML='<h1 class="font-semibold text-lg">Video Editor</h1> <span class="text-xs text-gray-500">Auto-save enabled</span>',s=S(),a=_("div"),c=_("button"),c.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
          Export Video`,h=S(),m=_("div"),d=_("div"),p=_("div"),F&&F.c(),g=S(),y=_("div"),I&&I.c(),b=S(),w=_("aside"),$&&$.c(),f(l,"class","w-16 flex-shrink-0 border-r border-white/10 bg-[#0f0f0f]"),f(r,"class","flex items-center gap-4"),f(c,"class","px-4 py-2 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition flex items-center gap-2"),f(a,"class","flex items-center gap-2"),f(i,"class","h-14 border-b border-white/10 flex items-center justify-between px-4 bg-[#0f0f0f]"),f(p,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(y,"class","h-48 border-t border-white/10 bg-[#0f0f0f]"),f(d,"class","flex-1 flex flex-col min-w-0 bg-black"),f(w,"class","w-80 flex-shrink-0 border-l border-white/10 bg-[#0f0f0f] overflow-y-auto"),f(m,"class","flex-1 flex overflow-hidden"),f(o,"class","flex-1 flex flex-col min-w-0"),f(e,"class","flex h-screen w-full bg-[#0a0a0a]")},m(k,D){j(k,e,D),u(e,l),M&&M.m(l,null),u(e,n),u(e,o),u(o,i),u(i,r),u(i,s),u(i,a),u(a,c),u(o,h),u(o,m),u(m,d),u(d,p),F&&F.m(p,null),u(d,g),u(d,y),I&&I.m(y,null),u(m,b),u(m,w),$&&$.m(w,null),v=!0,x||(N=G(c,"click",t[2]),x=!0)},p(k,[D]){M&&M.p&&(!v||D&1)&&xe(M,A,k,k[0],v?ye(A,k[0],D,no):$e(k[0]),Jt),F&&F.p&&(!v||D&1)&&xe(F,H,k,k[0],v?ye(H,k[0],D,lo):$e(k[0]),Gt),I&&I.p&&(!v||D&1)&&xe(I,U,k,k[0],v?ye(U,k[0],D,to):$e(k[0]),Vt),$&&$.p&&(!v||D&1)&&xe($,q,k,k[0],v?ye(q,k[0],D,eo):$e(k[0]),qt)},i(k){v||(E(M,k),E(F,k),E(I,k),E($,k),v=!0)},o(k){W(M,k),W(F,k),W(I,k),W($,k),v=!1},d(k){k&&B(e),M&&M.d(k),F&&F.d(k),I&&I.d(k),$&&$.d(k),x=!1,N()}}}function io(t,e,l){let{$$slots:n={},$$scope:o}=e;const i=()=>et.update(r=>({...r,isExporting:!0}));return t.$$set=r=>{"$$scope"in r&&l(0,o=r.$$scope)},[o,n,i]}class ro extends ge{constructor(e){super(),pe(this,e,io,oo,re,{})}}function Qt(t){const e=Math.floor(t/60),l=Math.floor(t%60),n=Math.floor(t%1*100);return`${e}:${l.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function so(t){switch(t){case"light":return"0 1px 2px rgba(0,0,0,0.5)";case"medium":return"0 2px 4px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4)";case"heavy":return"0 0 0 4px rgba(0,0,0,0.8), 0 4px 12px rgba(0,0,0,0.8), 0 8px 24px rgba(0,0,0,0.6)";default:return"none"}}function ao(t){switch(t){case"pop":return"animate-pop-in";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade-in";case"bounce":return"animate-bounce-in";default:return""}}function Yt(t,e,l){const n=t.slice();return n[21]=e[l],n[23]=l,n}function Zt(t){let e,l;function n(r,s){return r[0].wordByWord&&r[8].length>0?uo:co}let o=n(t),i=o(t);return{c(){e=_("div"),i.c(),f(e,"class",l="absolute inset-x-8 "+t[12]()+" "+t[6]),f(e,"style",t[10]())},m(r,s){j(r,e,s),i.m(e,null)},p(r,s){o===(o=n(r))&&i?i.p(r,s):(i.d(1),i=o(r),i&&(i.c(),i.m(e,null))),s&64&&l!==(l="absolute inset-x-8 "+r[12]()+" "+r[6])&&f(e,"class",l)},d(r){r&&B(e),i.d()}}}function co(t){let e=t[1].text+"",l;return{c(){l=J(e)},m(n,o){j(n,l,o)},p(n,o){o&2&&e!==(e=n[1].text+"")&&me(l,e)},d(n){n&&B(l)}}}function uo(t){let e,l=R(t[8]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Kt(Yt(t,l,o));return{c(){e=_("span");for(let o=0;o<n.length;o+=1)n[o].c();f(e,"class","inline-flex flex-wrap justify-center gap-1")},m(o,i){j(o,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(o,i){if(i&2304){l=R(o[8]);let r;for(r=0;r<l.length;r+=1){const s=Yt(o,l,r);n[r]?n[r].p(s,i):(n[r]=Kt(s),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(o){o&&B(e),oe(n,o)}}}function Kt(t){let e,l=t[21].text+"",n,o,i;return{c(){e=_("span"),n=J(l),o=S(),f(e,"style",i=t[11](t[21],t[23]))},m(r,s){j(r,e,s),u(e,n),u(e,o)},p(r,s){s&256&&l!==(l=r[21].text+"")&&me(n,l),s&256&&i!==(i=r[11](r[21],r[23]))&&f(e,"style",i)},d(r){r&&B(e)}}}function Xt(t){let e,l,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center"><svg class="w-8 h-8 text-black ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(o,i){j(o,e,i),l||(n=G(e,"click",t[9]),l=!0)},p:O,d(o){o&&B(e),l=!1,n()}}}function fo(t){let e,l,n,o,i,r,s,a,c=Math.floor(t[7]/60)+"",h,m,d=(Math.floor(t[7])%60).toString().padStart(2,"0")+"",p,g,y,b=t[1]&&Zt(t),w=!t[2].isPlaying&&Xt(t);return{c(){var v;e=_("div"),l=_("video"),n=_("track"),i=S(),b&&b.c(),r=S(),w&&w.c(),s=S(),a=_("div"),h=J(c),m=J(":"),p=J(d),f(n,"kind","captions"),it(l.src,o=(v=t[3])==null?void 0:v.videoUrl)||f(l,"src",o),f(l,"class","w-full h-full object-contain"),f(l,"crossorigin","anonymous"),f(a,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/50 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-lg overflow-hidden")},m(v,x){j(v,e,x),u(e,l),u(l,n),t[15](l),u(e,i),b&&b.m(e,null),u(e,r),w&&w.m(e,null),u(e,s),u(e,a),u(a,h),u(a,m),u(a,p),t[16](e),g||(y=G(l,"click",t[9]),g=!0)},p(v,[x]){var N;x&8&&!it(l.src,o=(N=v[3])==null?void 0:N.videoUrl)&&f(l,"src",o),v[1]?b?b.p(v,x):(b=Zt(v),b.c(),b.m(e,r)):b&&(b.d(1),b=null),v[2].isPlaying?w&&(w.d(1),w=null):w?w.p(v,x):(w=Xt(v),w.c(),w.m(e,s)),x&128&&c!==(c=Math.floor(v[7]/60)+"")&&me(h,c),x&128&&d!==(d=(Math.floor(v[7])%60).toString().padStart(2,"0")+"")&&me(p,d)},i:O,o:O,d(v){v&&B(e),t[15](null),b&&b.d(),w&&w.d(),t[16](null),g=!1,y()}}}function ho(t,e,l){let n,o,i,r,s,a,c,h,m,d;de(t,we,F=>l(2,c=F)),de(t,Fn,F=>l(13,h=F)),de(t,Jl,F=>l(14,m=F)),de(t,ie,F=>l(3,d=F));let p,g,y;ql(()=>(p&&(p.addEventListener("timeupdate",b),p.addEventListener("loadedmetadata",w),p.addEventListener("play",()=>we.setPlaying(!0)),p.addEventListener("pause",()=>we.setPlaying(!1))),()=>{p&&(p.removeEventListener("timeupdate",b),p.removeEventListener("loadedmetadata",w)),cancelAnimationFrame(y)}));function b(){p&&we.setCurrentTime(p.currentTime)}function w(){p&&we.update(F=>({...F,duration:p.duration}))}function v(){p&&(p.paused?p.play():p.pause())}function x(){return{fontFamily:n.fontFamily||"Inter",fontSize:`${n.fontSize||42}px`,fontWeight:n.fontWeight||"bold",color:n.color||"#FFFFFF",textShadow:so(n.textShadow||"medium"),textTransform:n.textTransform||"none",letterSpacing:`${n.letterSpacing||0}px`,lineHeight:n.lineHeight||1.2,textAlign:n.alignment||"center"}}function N(F,U){const I=F===i;return{backgroundColor:I&&n.highlightWords?n.highlightColor||"#FFD700":"transparent",color:I&&n.highlightWords?"#000000":n.color||"#FFFFFF",padding:I&&n.highlightWords?"2px 6px":"0",borderRadius:I&&n.highlightWords?"4px":"0",transition:"all 0.1s ease"}}function A(){switch(n.position){case"top":return"top-16";case"middle":return"top-1/2 -translate-y-1/2";case"bottom":default:return"bottom-24"}}function M(F){Xe[F?"unshift":"push"](()=>{p=F,l(4,p)})}function H(F){Xe[F?"unshift":"push"](()=>{g=F,l(5,g)})}return t.$$.update=()=>{t.$$.dirty&8&&l(0,n=(d==null?void 0:d.style)||{}),t.$$.dirty&16384&&l(1,o=m),t.$$.dirty&8192&&(i=h),t.$$.dirty&2&&l(8,r=(o==null?void 0:o.words)||[]),t.$$.dirty&4&&l(7,s=c.currentTime),t.$$.dirty&1&&l(6,a=ao(n.animation||"pop"))},[n,o,c,d,p,g,a,s,r,v,x,N,A,h,m,M,H]}class po extends ge{constructor(e){super(),pe(this,e,ho,fo,re,{})}}function el(t,e,l){const n=t.slice();return n[47]=e[l],n}function tl(t,e,l){const n=t.slice();return n[44]=e[l],n}function ll(t,e,l){const n=t.slice();return n[28]=e[l],n}function nl(t,e,l){const n=t.slice();return n[31]=e[l],n}function ol(t,e,l){const n=t.slice();return n[34]=e[l],n}function il(t,e,l){const n=t.slice();return n[37]=e[l],n}function rl(t,e,l){const n=t.slice();return n[40]=e[l][0],n[41]=e[l][1],n}function sl(t,e,l){const n=t.slice();return n[25]=e[l],n}function go(t){let e,l,n,o,i,r,s,a,c,h;const m=[wo,vo],d=[];function p(y,b){return y[0]?0:1}i=p(t),r=d[i]=m[i](t);let g=t[6]&&al(t);return{c(){e=_("div"),l=_("h3"),l.textContent="AI Magic Tools",n=S(),o=_("button"),r.c(),s=S(),g&&g.c(),f(l,"class","font-semibold text-lg"),o.disabled=t[0],f(o,"class","w-full p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(e,"class","p-4 space-y-4")},m(y,b){j(y,e,b),u(e,l),u(e,n),u(e,o),d[i].m(o,null),u(e,s),g&&g.m(e,null),a=!0,c||(h=G(o,"click",t[10]),c=!0)},p(y,b){let w=i;i=p(y),i!==w&&(Ce(),W(d[w],1,1,()=>{d[w]=null}),Fe(),r=d[i],r||(r=d[i]=m[i](y),r.c()),E(r,1),r.m(o,null)),(!a||b[0]&1)&&(o.disabled=y[0]),y[6]?g?g.p(y,b):(g=al(y),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(y){a||(E(r),a=!0)},o(y){W(r),a=!1},d(y){y&&B(e),d[i].d(),g&&g.d(),c=!1,h()}}}function _o(t){let e,l,n,o,i,r,s,a,c,h,m,d,p;const g=[yo,ko],y=[];function b(v,x){return v[3]?0:1}a=b(t),c=y[a]=g[a](t);let w=t[2].length>0&&ul(t);return{c(){e=_("div"),l=_("h3"),l.textContent="B-Roll Library",n=S(),o=_("div"),i=_("input"),r=S(),s=_("button"),c.c(),h=S(),w&&w.c(),f(l,"class","font-semibold text-lg"),f(i,"type","text"),f(i,"placeholder","Search stock footage..."),f(i,"class","flex-1 p-2 bg-white/5 rounded-lg border border-white/10 text-white placeholder-gray-500"),s.disabled=t[3],f(s,"class","p-2 bg-white text-black rounded-lg hover:bg-gray-200 transition disabled:opacity-50"),f(o,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(v,x){j(v,e,x),u(e,l),u(e,n),u(e,o),u(o,i),at(i,t[1]),u(o,r),u(o,s),y[a].m(s,null),u(e,h),w&&w.m(e,null),m=!0,d||(p=[G(i,"input",t[22]),G(i,"keydown",t[23]),G(s,"click",t[11])],d=!0)},p(v,x){x[0]&2&&i.value!==v[1]&&at(i,v[1]);let N=a;a=b(v),a!==N&&(Ce(),W(y[N],1,1,()=>{y[N]=null}),Fe(),c=y[a],c||(c=y[a]=g[a](v),c.c()),E(c,1),c.m(s,null)),(!m||x[0]&8)&&(s.disabled=v[3]),v[2].length>0?w?(w.p(v,x),x[0]&4&&E(w,1)):(w=ul(v),w.c(),E(w,1),w.m(e,null)):w&&(Ce(),W(w,1,1,()=>{w=null}),Fe())},i(v){m||(E(c),E(w),m=!0)},o(v){W(c),W(w),m=!1},d(v){v&&B(e),y[a].d(),w&&w.d(),d=!1,be(p)}}}function mo(t){var Ct,Ft;let e,l,n,o,i,r,s,a,c,h,m,d,p,g,y,b,w,v,x,N,A=(((Ft=(Ct=t[4])==null?void 0:Ct.style)==null?void 0:Ft.fontSize)||42)+"",M,H,F,U,I,q,$,k,D,C,V,Se,Ne,z,te,K,qe,L,_e,xt,Ve,dt,$t,Pe=R(Object.entries(vt)),se=[];for(let P=0;P<Pe.length;P+=1)se[P]=dl(rl(t,Pe,P));let Be=R(t[7]),ae=[];for(let P=0;P<Be.length;P+=1)ae[P]=hl(il(t,Be,P));let We=R(t[8]),ce=[];for(let P=0;P<We.length;P+=1)ce[P]=pl(ol(t,We,P));let je=R(t[9]),ue=[];for(let P=0;P<je.length;P+=1)ue[P]=gl(nl(t,je,P));let ht=R(["none","light","medium","heavy"]),ve=[];for(let P=0;P<4;P+=1)ve[P]=_l(ll(t,ht,P));return{c(){var P,le;e=_("div"),l=_("div"),n=_("h3"),n.textContent="Style Presets",o=S(),i=_("div");for(let Y=0;Y<se.length;Y+=1)se[Y].c();r=S(),s=_("div"),a=_("h3"),a.textContent="Typography",c=S(),h=_("div"),m=_("label"),m.textContent="Font Family",d=S(),p=_("select");for(let Y=0;Y<ae.length;Y+=1)ae[Y].c();y=S(),b=_("div"),w=_("label"),v=_("span"),v.textContent="Font Size",x=S(),N=_("span"),M=J(A),H=J("px"),F=S(),U=_("input"),q=S(),$=_("div"),k=_("label"),k.textContent="Position",D=S(),C=_("div");for(let Y=0;Y<ce.length;Y+=1)ce[Y].c();V=S(),Se=_("div"),Ne=_("label"),Ne.textContent="Animation",z=S(),te=_("select");for(let Y=0;Y<ue.length;Y+=1)ue[Y].c();qe=S(),L=_("div"),_e=_("label"),_e.textContent="Text Shadow",xt=S(),Ve=_("div");for(let Y=0;Y<4;Y+=1)ve[Y].c();f(n,"class","font-semibold text-lg mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(a,"class","font-semibold text-lg"),f(m,"class","text-sm text-gray-400"),f(p,"class","w-full p-2 bg-white/5 rounded-lg border border-white/10 text-white"),f(h,"class","space-y-2"),f(w,"class","text-sm text-gray-400 flex justify-between"),f(U,"type","range"),f(U,"min","20"),f(U,"max","80"),U.value=I=((le=(P=t[4])==null?void 0:P.style)==null?void 0:le.fontSize)||42,f(U,"class","w-full"),f(b,"class","space-y-2"),f(k,"class","text-sm text-gray-400"),f(C,"class","flex gap-2"),f($,"class","space-y-2"),f(Ne,"class","text-sm text-gray-400"),f(te,"class","w-full p-2 bg-white/5 rounded-lg border border-white/10 text-white"),f(Se,"class","space-y-2"),f(_e,"class","text-sm text-gray-400"),f(Ve,"class","flex gap-2"),f(L,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(P,le){var Y,Ge,Je,Qe;j(P,e,le),u(e,l),u(l,n),u(l,o),u(l,i);for(let Q=0;Q<se.length;Q+=1)se[Q]&&se[Q].m(i,null);u(e,r),u(e,s),u(s,a),u(s,c),u(s,h),u(h,m),u(h,d),u(h,p);for(let Q=0;Q<ae.length;Q+=1)ae[Q]&&ae[Q].m(p,null);lt(p,((Ge=(Y=t[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter"),u(s,y),u(s,b),u(b,w),u(w,v),u(w,x),u(w,N),u(N,M),u(N,H),u(b,F),u(b,U),u(s,q),u(s,$),u($,k),u($,D),u($,C);for(let Q=0;Q<ce.length;Q+=1)ce[Q]&&ce[Q].m(C,null);u(s,V),u(s,Se),u(Se,Ne),u(Se,z),u(Se,te);for(let Q=0;Q<ue.length;Q+=1)ue[Q]&&ue[Q].m(te,null);lt(te,((Qe=(Je=t[4])==null?void 0:Je.style)==null?void 0:Qe.animation)||"pop"),u(s,qe),u(s,L),u(L,_e),u(L,xt),u(L,Ve);for(let Q=0;Q<4;Q+=1)ve[Q]&&ve[Q].m(Ve,null);dt||($t=[G(p,"change",t[17]),G(U,"input",t[18]),G(te,"change",t[20])],dt=!0)},p(P,le){var Y,Ge,Je,Qe,Q,St,Mt,Tt,Et,Nt,Pt,Bt;if(le&0){Pe=R(Object.entries(vt));let T;for(T=0;T<Pe.length;T+=1){const fe=rl(P,Pe,T);se[T]?se[T].p(fe,le):(se[T]=dl(fe),se[T].c(),se[T].m(i,null))}for(;T<se.length;T+=1)se[T].d(1);se.length=Pe.length}if(le[0]&128){Be=R(P[7]);let T;for(T=0;T<Be.length;T+=1){const fe=il(P,Be,T);ae[T]?ae[T].p(fe,le):(ae[T]=hl(fe),ae[T].c(),ae[T].m(p,null))}for(;T<ae.length;T+=1)ae[T].d(1);ae.length=Be.length}if(le[0]&144&&g!==(g=((Ge=(Y=P[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter")&&lt(p,((Qe=(Je=P[4])==null?void 0:Je.style)==null?void 0:Qe.fontFamily)||"Inter"),le[0]&16&&A!==(A=(((St=(Q=P[4])==null?void 0:Q.style)==null?void 0:St.fontSize)||42)+"")&&me(M,A),le[0]&144&&I!==(I=((Tt=(Mt=P[4])==null?void 0:Mt.style)==null?void 0:Tt.fontSize)||42)&&(U.value=I),le[0]&272){We=R(P[8]);let T;for(T=0;T<We.length;T+=1){const fe=ol(P,We,T);ce[T]?ce[T].p(fe,le):(ce[T]=pl(fe),ce[T].c(),ce[T].m(C,null))}for(;T<ce.length;T+=1)ce[T].d(1);ce.length=We.length}if(le[0]&512){je=R(P[9]);let T;for(T=0;T<je.length;T+=1){const fe=nl(P,je,T);ue[T]?ue[T].p(fe,le):(ue[T]=gl(fe),ue[T].c(),ue[T].m(te,null))}for(;T<ue.length;T+=1)ue[T].d(1);ue.length=je.length}if(le[0]&144&&K!==(K=((Nt=(Et=P[4])==null?void 0:Et.style)==null?void 0:Nt.animation)||"pop")&&lt(te,((Bt=(Pt=P[4])==null?void 0:Pt.style)==null?void 0:Bt.animation)||"pop"),le[0]&16){ht=R(["none","light","medium","heavy"]);let T;for(T=0;T<4;T+=1){const fe=ll(P,ht,T);ve[T]?ve[T].p(fe,le):(ve[T]=_l(fe),ve[T].c(),ve[T].m(Ve,null))}for(;T<4;T+=1)ve[T].d(1)}},i:O,o:O,d(P){P&&B(e),oe(se,P),oe(ae,P),oe(ce,P),oe(ue,P),oe(ve,P),dt=!1,be($t)}}}function bo(t){var N,A;let e,l,n,o,i,r,s,a,c,h,m,d,p,g,y,b,w,v,x=((A=(N=t[4])==null?void 0:N.style)==null?void 0:A.highlightWords)&&ml(t);return{c(){var M,H,F,U;e=_("div"),l=_("h3"),l.textContent="Caption Settings",n=S(),o=_("div"),i=_("label"),r=_("span"),r.textContent="Word-by-word highlighting",s=S(),a=_("input"),h=S(),m=_("label"),d=_("span"),d.textContent="Highlight active words",p=S(),g=_("input"),b=S(),x&&x.c(),f(l,"class","font-semibold text-lg"),f(a,"type","checkbox"),a.checked=c=(H=(M=t[4])==null?void 0:M.style)==null?void 0:H.wordByWord,f(a,"class","w-5 h-5 rounded border-gray-600 text-blue-500 focus:ring-blue-500"),f(i,"class","flex items-center justify-between p-3 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition"),f(g,"type","checkbox"),g.checked=y=(U=(F=t[4])==null?void 0:F.style)==null?void 0:U.highlightWords,f(g,"class","w-5 h-5 rounded border-gray-600 text-blue-500 focus:ring-blue-500"),f(m,"class","flex items-center justify-between p-3 bg-white/5 rounded-lg cursor-pointer hover:bg-white/10 transition"),f(o,"class","space-y-3"),f(e,"class","p-4 space-y-4")},m(M,H){j(M,e,H),u(e,l),u(e,n),u(e,o),u(o,i),u(i,r),u(i,s),u(i,a),u(o,h),u(o,m),u(m,d),u(m,p),u(m,g),u(o,b),x&&x.m(o,null),w||(v=[G(a,"change",t[13]),G(g,"change",t[14])],w=!0)},p(M,H){var F,U,I,q,$,k;H[0]&144&&c!==(c=(U=(F=M[4])==null?void 0:F.style)==null?void 0:U.wordByWord)&&(a.checked=c),H[0]&144&&y!==(y=(q=(I=M[4])==null?void 0:I.style)==null?void 0:q.highlightWords)&&(g.checked=y),(k=($=M[4])==null?void 0:$.style)!=null&&k.highlightWords?x?x.p(M,H):(x=ml(M),x.c(),x.m(o,null)):x&&(x.d(1),x=null)},i:O,o:O,d(M){M&&B(e),x&&x.d(),w=!1,be(v)}}}function vo(t){let e,l,n;return e=new Zl({props:{class:"w-5 h-5"}}),{c(){ne(e.$$.fragment),l=J(`
          Generate Viral Content`)},m(o,i){X(e,o,i),j(o,l,i),n=!0},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){W(e.$$.fragment,o),n=!1},d(o){o&&B(l),ee(e,o)}}}function wo(t){let e,l,n;return e=new Yl({props:{class:"w-5 h-5 animate-spin"}}),{c(){ne(e.$$.fragment),l=J(`
          Generating...`)},m(o,i){X(e,o,i),j(o,l,i),n=!0},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){W(e.$$.fragment,o),n=!1},d(o){o&&B(l),ee(e,o)}}}function al(t){let e,l,n,o,i,r,s,a,c,h,m=t[6].descriptions[0]+"",d,p,g,y,b,w,v=t[6].hashtags.join(" ")+"",x,N=R(t[6].hooks),A=[];for(let M=0;M<N.length;M+=1)A[M]=cl(el(t,N,M));return{c(){e=_("div"),l=_("div"),n=_("h4"),n.textContent="Hook Ideas",o=S(),i=_("ul");for(let M=0;M<A.length;M+=1)A[M].c();r=S(),s=_("div"),a=_("h4"),a.textContent="Description",c=S(),h=_("p"),d=J(m),p=S(),g=_("div"),y=_("h4"),y.textContent="Hashtags",b=S(),w=_("p"),x=J(v),f(n,"class","font-medium text-sm text-gray-400 mb-2"),f(i,"class","space-y-2"),f(l,"class","p-3 bg-white/5 rounded-lg"),f(a,"class","font-medium text-sm text-gray-400 mb-2"),f(h,"class","text-sm"),f(s,"class","p-3 bg-white/5 rounded-lg"),f(y,"class","font-medium text-sm text-gray-400 mb-2"),f(w,"class","text-sm text-blue-400"),f(g,"class","p-3 bg-white/5 rounded-lg"),f(e,"class","space-y-4")},m(M,H){j(M,e,H),u(e,l),u(l,n),u(l,o),u(l,i);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(i,null);u(e,r),u(e,s),u(s,a),u(s,c),u(s,h),u(h,d),u(e,p),u(e,g),u(g,y),u(g,b),u(g,w),u(w,x)},p(M,H){if(H[0]&64){N=R(M[6].hooks);let F;for(F=0;F<N.length;F+=1){const U=el(M,N,F);A[F]?A[F].p(U,H):(A[F]=cl(U),A[F].c(),A[F].m(i,null))}for(;F<A.length;F+=1)A[F].d(1);A.length=N.length}H[0]&64&&m!==(m=M[6].descriptions[0]+"")&&me(d,m),H[0]&64&&v!==(v=M[6].hashtags.join(" ")+"")&&me(x,v)},d(M){M&&B(e),oe(A,M)}}}function cl(t){let e,l=t[47]+"",n;return{c(){e=_("li"),n=J(l),f(e,"class","text-sm p-2 bg-white/5 rounded")},m(o,i){j(o,e,i),u(e,n)},p(o,i){i[0]&64&&l!==(l=o[47]+"")&&me(n,l)},d(o){o&&B(e)}}}function ko(t){let e,l;return{c(){e=rt("svg"),l=rt("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,o){j(n,e,o),u(e,l)},i:O,o:O,d(n){n&&B(e)}}}function yo(t){let e,l;return e=new Yl({props:{class:"w-5 h-5 animate-spin"}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function ul(t){let e,l,n=R(t[2]),o=[];for(let r=0;r<n.length;r+=1)o[r]=fl(tl(t,n,r));const i=r=>W(o[r],1,1,()=>{o[r]=null});return{c(){e=_("div");for(let r=0;r<o.length;r+=1)o[r].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(r,s){j(r,e,s);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);l=!0},p(r,s){if(s[0]&4100){n=R(r[2]);let a;for(a=0;a<n.length;a+=1){const c=tl(r,n,a);o[a]?(o[a].p(c,s),E(o[a],1)):(o[a]=fl(c),o[a].c(),E(o[a],1),o[a].m(e,null))}for(Ce(),a=n.length;a<o.length;a+=1)i(a);Fe()}},i(r){if(!l){for(let s=0;s<n.length;s+=1)E(o[s]);l=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)W(o[s]);l=!1},d(r){r&&B(e),oe(o,r)}}}function fl(t){let e,l,n,o,i,r,s,a,c,h;r=new On({props:{class:"w-8 h-8 text-white"}});function m(){return t[24](t[44])}return{c(){e=_("button"),l=_("img"),o=S(),i=_("div"),ne(r.$$.fragment),s=S(),it(l.src,n=t[44].thumbnail)||f(l,"src",n),f(l,"alt",""),f(l,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(d,p){j(d,e,p),u(e,l),u(e,o),u(e,i),X(r,i,null),u(e,s),a=!0,c||(h=G(e,"click",m),c=!0)},p(d,p){t=d,(!a||p[0]&4&&!it(l.src,n=t[44].thumbnail))&&f(l,"src",n)},i(d){a||(E(r.$$.fragment,d),a=!0)},o(d){W(r.$$.fragment,d),a=!1},d(d){d&&B(e),ee(r),c=!1,h()}}}function dl(t){let e,l,n,o,i,r,s;function a(){return t[16](t[40])}return{c(){e=_("button"),l=_("div"),l.textContent=`${t[40].replace("-"," ")}`,n=S(),o=_("div"),o.textContent=`${t[41].fontWeight} â€¢ ${t[41].animation}`,i=S(),f(l,"class","font-medium capitalize"),f(o,"class","text-xs text-gray-500 mt-1"),f(e,"class","p-3 bg-white/5 rounded-lg text-left hover:bg-white/10 transition text-sm")},m(c,h){j(c,e,h),u(e,l),u(e,n),u(e,o),u(e,i),r||(s=G(e,"click",a),r=!0)},p(c,h){t=c},d(c){c&&B(e),r=!1,s()}}}function hl(t){let e,l=t[37]+"",n;return{c(){e=_("option"),n=J(l),e.__value=t[37],at(e,e.__value)},m(o,i){j(o,e,i),u(e,n)},p:O,d(o){o&&B(e)}}}function pl(t){let e,l=t[34].label+"",n,o,i,r,s;function a(){return t[19](t[34])}return{c(){var c,h;e=_("button"),n=J(l),o=S(),f(e,"class",i="flex-1 p-2 bg-white/5 rounded-lg text-sm transition "+((((h=(c=t[4])==null?void 0:c.style)==null?void 0:h.position)||"bottom")===t[34].id?"bg-white text-black":"hover:bg-white/10"))},m(c,h){j(c,e,h),u(e,n),u(e,o),r||(s=G(e,"click",a),r=!0)},p(c,h){var m,d;t=c,h[0]&144&&i!==(i="flex-1 p-2 bg-white/5 rounded-lg text-sm transition "+((((d=(m=t[4])==null?void 0:m.style)==null?void 0:d.position)||"bottom")===t[34].id?"bg-white text-black":"hover:bg-white/10"))&&f(e,"class",i)},d(c){c&&B(e),r=!1,s()}}}function gl(t){let e,l=t[31].label+"",n;return{c(){e=_("option"),n=J(l),e.__value=t[31].id,at(e,e.__value)},m(o,i){j(o,e,i),u(e,n)},p:O,d(o){o&&B(e)}}}function _l(t){let e,l,n,o,i,r;function s(){return t[21](t[28])}return{c(){var a,c;e=_("button"),l=J(t[28]),n=S(),f(e,"class",o="flex-1 p-2 bg-white/5 rounded-lg text-sm transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.textShadow)||"medium")===t[28]?"bg-white text-black":"hover:bg-white/10"))},m(a,c){j(a,e,c),u(e,l),u(e,n),i||(r=G(e,"click",s),i=!0)},p(a,c){var h,m;t=a,c[0]&144&&o!==(o="flex-1 p-2 bg-white/5 rounded-lg text-sm transition "+((((m=(h=t[4])==null?void 0:h.style)==null?void 0:m.textShadow)||"medium")===t[28]?"bg-white text-black":"hover:bg-white/10"))&&f(e,"class",o)},d(a){a&&B(e),i=!1,r()}}}function ml(t){let e,l,n,o,i=R(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),r=[];for(let s=0;s<5;s+=1)r[s]=bl(sl(t,i,s));return{c(){e=_("div"),l=_("label"),l.textContent="Highlight Color",n=S(),o=_("div");for(let s=0;s<5;s+=1)r[s].c();f(l,"class","text-sm text-gray-400"),f(o,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,a){j(s,e,a),u(e,l),u(e,n),u(e,o);for(let c=0;c<5;c+=1)r[c]&&r[c].m(o,null)},p(s,a){if(a[0]&16){i=R(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let c;for(c=0;c<5;c+=1){const h=sl(s,i,c);r[c]?r[c].p(h,a):(r[c]=bl(h),r[c].c(),r[c].m(o,null))}for(;c<5;c+=1)r[c].d(1)}},d(s){s&&B(e),oe(r,s)}}}function bl(t){let e,l,n,o;function i(){return t[15](t[25])}return{c(){var r,s;e=_("button"),f(e,"class",l="w-8 h-8 rounded-lg border-2 transition "+((((s=(r=t[4])==null?void 0:r.style)==null?void 0:s.highlightColor)||"#FFD700")===t[25]?"border-white scale-110":"border-transparent hover:border-white/50")),Me(e,"background-color",t[25])},m(r,s){j(r,e,s),n||(o=G(e,"click",i),n=!0)},p(r,s){var a,c;t=r,s[0]&144&&l!==(l="w-8 h-8 rounded-lg border-2 transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.highlightColor)||"#FFD700")===t[25]?"border-white scale-110":"border-transparent hover:border-white/50"))&&f(e,"class",l)},d(r){r&&B(e),n=!1,o()}}}function xo(t){let e,l,n,o;const i=[bo,mo,_o,go],r=[];function s(a,c){return a[5]==="captions"?0:a[5]==="style"?1:a[5]==="broll"?2:a[5]==="ai-tools"?3:-1}return~(l=s(t))&&(n=r[l]=i[l](t)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col")},m(a,c){j(a,e,c),~l&&r[l].m(e,null),o=!0},p(a,c){let h=l;l=s(a),l===h?~l&&r[l].p(a,c):(n&&(Ce(),W(r[h],1,1,()=>{r[h]=null}),Fe()),~l?(n=r[l],n?n.p(a,c):(n=r[l]=i[l](a),n.c()),E(n,1),n.m(e,null)):n=null)},i(a){o||(E(n),o=!0)},o(a){W(n),o=!1},d(a){a&&B(e),~l&&r[l].d()}}}function $o(t,e,l){let n,o,i;de(t,ie,$=>l(4,n=$)),de(t,wt,$=>l(5,o=$)),de(t,It,$=>l(6,i=$));let r=!1,s="",a=[],c=!1;const h=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],m=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],d=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function p(){if(n){l(0,r=!0);try{const $=n.captions.map(D=>D.text).join(" "),k=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:$})});if(k.ok){const D=await k.json();It.set(D)}}catch($){console.error("AI generation failed:",$)}finally{l(0,r=!1)}}}async function g(){if(s){l(3,c=!0);try{const $=await fetch(`/api/broll/search?q=${encodeURIComponent(s)}`);if($.ok){const k=await $.json();l(2,a=k.results||[])}}catch($){console.error("B-Roll search failed:",$)}finally{l(3,c=!1)}}}function y($){n&&ie.addBRoll({id:crypto.randomUUID(),url:$.video_url,thumbnail:$.thumbnail,start:n.videoDuration*.3,duration:5,source:$.source})}const b=$=>ie.updateStyle({wordByWord:$.target.checked}),w=$=>ie.updateStyle({highlightWords:$.target.checked}),v=$=>ie.updateStyle({highlightColor:$}),x=$=>ie.applyPreset($),N=$=>ie.updateStyle({fontFamily:$.target.value}),A=$=>ie.updateStyle({fontSize:parseInt($.target.value)}),M=$=>ie.updateStyle({position:$.id}),H=$=>ie.updateStyle({animation:$.target.value}),F=$=>ie.updateStyle({textShadow:$});function U(){s=this.value,l(1,s)}return[r,s,a,c,n,o,i,h,m,d,p,g,y,b,w,v,x,N,A,M,H,F,U,$=>$.key==="Enter"&&g(),$=>y($)]}class Co extends ge{constructor(e){super(),pe(this,e,$o,xo,re,{},null,[-1,-1])}}function vl(t,e,l){const n=t.slice();return n[16]=e[l],n}function wl(t,e,l){const n=t.slice();return n[19]=e[l],n}function kl(t,e,l){const n=t.slice();return n[22]=e[l],n[24]=l,n}function yl(t,e,l){const n=t.slice();return n[22]=e[l],n[24]=l,n}function xl(t){let e,l=Qt(t[2]/5*t[24])+"",n;return{c(){e=_("span"),n=J(l)},m(o,i){j(o,e,i),u(e,n)},p(o,i){i&4&&l!==(l=Qt(o[2]/5*o[24])+"")&&me(n,l)},d(o){o&&B(e)}}}function $l(t){let e;return{c(){e=_("div"),f(e,"class","absolute top-0 bottom-0 border-l border-white/5"),Me(e,"left",t[24]*5/t[2]*100+"%")},m(l,n){j(l,e,n)},p(l,n){n&4&&Me(e,"left",l[24]*5/l[2]*100+"%")},d(l){l&&B(e)}}}function Cl(t){let e,l,n=t[19].text+"",o,i,r,s,a,c;function h(){return t[11](t[19])}return{c(){e=_("button"),l=_("span"),o=J(n),i=S(),f(l,"class","truncate"),f(e,"class",r="absolute h-12 rounded bg-blue-500/30 border-2 border-blue-500/50 hover:bg-blue-500/50 transition flex items-center px-2 overflow-hidden text-xs text-left "+(t[5].selectedCaptionId===t[19].id?"ring-2 ring-white":"")),f(e,"style",s=t[8](t[19]))},m(m,d){j(m,e,d),u(e,l),u(l,o),u(e,i),a||(c=G(e,"click",Ul(h)),a=!0)},p(m,d){t=m,d&16&&n!==(n=t[19].text+"")&&me(o,n),d&48&&r!==(r="absolute h-12 rounded bg-blue-500/30 border-2 border-blue-500/50 hover:bg-blue-500/50 transition flex items-center px-2 overflow-hidden text-xs text-left "+(t[5].selectedCaptionId===t[19].id?"ring-2 ring-white":""))&&f(e,"class",r),d&16&&s!==(s=t[8](t[19]))&&f(e,"style",s)},d(m){m&&B(e),a=!1,c()}}}function Fl(t){let e,l,n=R(t[0].bRollClips),o=[];for(let r=0;r<n.length;r+=1)o[r]=Sl(vl(t,n,r));const i=r=>W(o[r],1,1,()=>{o[r]=null});return{c(){e=_("div");for(let r=0;r<o.length;r+=1)o[r].c();f(e,"class","absolute top-24 left-0 right-0 h-12 px-2")},m(r,s){j(r,e,s);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);l=!0},p(r,s){if(s&5){n=R(r[0].bRollClips);let a;for(a=0;a<n.length;a+=1){const c=vl(r,n,a);o[a]?(o[a].p(c,s),E(o[a],1)):(o[a]=Sl(c),o[a].c(),E(o[a],1),o[a].m(e,null))}for(Ce(),a=n.length;a<o.length;a+=1)i(a);Fe()}},i(r){if(!l){for(let s=0;s<n.length;s+=1)E(o[s]);l=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)W(o[s]);l=!1},d(r){r&&B(e),oe(o,r)}}}function Sl(t){let e,l,n,o,i,r;return l=new Ql({props:{class:"w-3 h-3 mr-1"}}),{c(){e=_("div"),ne(l.$$.fragment),n=S(),o=_("span"),o.textContent="B-Roll",i=S(),f(o,"class","truncate"),f(e,"class","absolute h-10 rounded bg-purple-500/30 border-2 border-purple-500/50 flex items-center px-2 overflow-hidden text-xs"),Me(e,"left",t[16].start/t[2]*100+"%"),Me(e,"width",t[16].duration/t[2]*100+"%")},m(s,a){j(s,e,a),X(l,e,null),u(e,n),u(e,o),u(e,i),r=!0},p(s,a){(!r||a&5)&&Me(e,"left",s[16].start/s[2]*100+"%"),(!r||a&5)&&Me(e,"width",s[16].duration/s[2]*100+"%")},i(s){r||(E(l.$$.fragment,s),r=!0)},o(s){W(l.$$.fragment,s),r=!1},d(s){s&&B(e),ee(l)}}}function Fo(t){var Se,Ne;let e,l,n,o,i,r,s,a,c,h,m,d,p,g,y,b,w,v,x,N,A,M,H,F,U,I=R(Array(6)),q=[];for(let z=0;z<I.length;z+=1)q[z]=xl(yl(t,I,z));let $=R(Array(Math.ceil(t[2]/5))),k=[];for(let z=0;z<$.length;z+=1)k[z]=$l(kl(t,$,z));let D=R(t[4]),C=[];for(let z=0;z<D.length;z+=1)C[z]=Cl(wl(t,D,z));let V=((Ne=(Se=t[0])==null?void 0:Se.bRollClips)==null?void 0:Ne.length)>0&&Fl(t);return{c(){e=_("div"),l=_("div"),n=_("span"),n.textContent="Timeline",o=S(),i=_("div");for(let z=0;z<q.length;z+=1)q[z].c();r=S(),s=_("div"),a=_("div"),c=_("div");for(let z=0;z<k.length;z+=1)k[z].c();h=S(),m=_("div");for(let z=0;z<C.length;z+=1)C[z].c();d=S(),V&&V.c(),p=S(),g=_("div"),y=_("div"),b=S(),w=_("div"),v=_("button"),v.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>',x=S(),N=_("span"),N.textContent="Zoom",A=S(),M=_("button"),M.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>',f(n,"class","w-20"),f(i,"class","flex-1 flex justify-between"),f(l,"class","h-8 border-b border-white/10 flex items-center px-4 text-xs text-gray-500"),f(c,"class","absolute inset-0 pointer-events-none"),f(m,"class","absolute top-4 left-0 right-0 h-16 px-2"),f(y,"class","absolute -top-1 -left-1.5 w-3 h-3 bg-red-500 rounded-full"),f(g,"class","absolute top-0 bottom-0 w-px bg-red-500 z-10 pointer-events-none"),f(g,"style",t[9]()),f(a,"class","absolute inset-0 min-w-full"),f(s,"class","flex-1 relative overflow-x-auto overflow-y-hidden"),f(v,"class","text-gray-400 hover:text-white transition"),f(N,"class","text-xs text-gray-500"),f(M,"class","text-gray-400 hover:text-white transition"),f(w,"class","h-10 border-t border-white/10 flex items-center px-4 gap-4"),f(e,"class","h-full flex flex-col bg-[#0f0f0f]")},m(z,te){j(z,e,te),u(e,l),u(l,n),u(l,o),u(l,i);for(let K=0;K<q.length;K+=1)q[K]&&q[K].m(i,null);u(e,r),u(e,s),u(s,a),u(a,c);for(let K=0;K<k.length;K+=1)k[K]&&k[K].m(c,null);u(a,h),u(a,m);for(let K=0;K<C.length;K+=1)C[K]&&C[K].m(m,null);u(a,d),V&&V.m(a,null),u(a,p),u(a,g),u(g,y),t[12](a),u(e,b),u(e,w),u(w,v),u(w,x),u(w,N),u(w,A),u(w,M),H=!0,F||(U=[G(a,"click",t[6]),G(v,"click",t[13]),G(M,"click",t[14])],F=!0)},p(z,[te]){var K,qe;if(te&4){I=R(Array(6));let L;for(L=0;L<I.length;L+=1){const _e=yl(z,I,L);q[L]?q[L].p(_e,te):(q[L]=xl(_e),q[L].c(),q[L].m(i,null))}for(;L<q.length;L+=1)q[L].d(1);q.length=I.length}if(te&4){$=R(Array(Math.ceil(z[2]/5)));let L;for(L=0;L<$.length;L+=1){const _e=kl(z,$,L);k[L]?k[L].p(_e,te):(k[L]=$l(_e),k[L].c(),k[L].m(c,null))}for(;L<k.length;L+=1)k[L].d(1);k.length=$.length}if(te&432){D=R(z[4]);let L;for(L=0;L<D.length;L+=1){const _e=wl(z,D,L);C[L]?C[L].p(_e,te):(C[L]=Cl(_e),C[L].c(),C[L].m(m,null))}for(;L<C.length;L+=1)C[L].d(1);C.length=D.length}((qe=(K=z[0])==null?void 0:K.bRollClips)==null?void 0:qe.length)>0?V?(V.p(z,te),te&1&&E(V,1)):(V=Fl(z),V.c(),E(V,1),V.m(a,p)):V&&(Ce(),W(V,1,1,()=>{V=null}),Fe())},i(z){H||(E(V),H=!0)},o(z){W(V),H=!1},d(z){z&&B(e),oe(q,z),oe(k,z),oe(C,z),V&&V.d(),t[12](null),F=!1,be(U)}}}function So(t,e,l){let n,o,i,r,s,a,c;de(t,et,x=>l(5,s=x)),de(t,we,x=>l(10,a=x)),de(t,ie,x=>l(0,c=x));let h;function m(x){const N=h.getBoundingClientRect(),M=(x.clientX-N.left)/N.width*n;we.setCurrentTime(Math.max(0,Math.min(M,n)))}function d(x){et.update(N=>({...N,selectedCaptionId:x.id})),we.setCurrentTime(x.start)}function p(x){const N=x.start/n*100,A=(x.end-x.start)/n*100;return s.selectedCaptionId,x.id,`left: ${N}%; width: ${A}%;`}function g(){return`left: ${i/n*100}%;`}const y=x=>d(x);function b(x){Xe[x?"unshift":"push"](()=>{h=x,l(1,h)})}const w=()=>l(3,r=Math.max(20,r-10)),v=()=>l(3,r=Math.min(200,r+10));return t.$$.update=()=>{t.$$.dirty&1&&l(2,n=(c==null?void 0:c.videoDuration)||0),t.$$.dirty&1&&l(4,o=(c==null?void 0:c.captions)||[]),t.$$.dirty&1024&&(i=a.currentTime)},l(3,r=50),[c,h,n,r,o,s,m,d,p,g,a,y,b,w,v]}class Mo extends ge{constructor(e){super(),pe(this,e,So,Fo,re,{})}}function To(t){const e=t-1;return e*e*e+1}function Ml(t,{delay:e=0,duration:l=400,easing:n=Al}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:i=>`opacity: ${i*o}`}}function Tl(t,{delay:e=0,duration:l=400,easing:n=To,start:o=0,opacity:i=0}={}){const r=getComputedStyle(t),s=+r.opacity,a=r.transform==="none"?"":r.transform,c=1-o,h=s*(1-i);return{delay:e,duration:l,easing:n,css:(m,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${s-h*d}
		`}}function El(t,e,l){const n=t.slice();return n[13]=e[l],n}function Nl(t,e,l){const n=t.slice();return n[16]=e[l],n}function Pl(t,e,l){const n=t.slice();return n[19]=e[l],n}function Bl(t){let e,l,n,o,i,r,s,a,c;function h(p,g){return p[1]?No:Eo}let m=h(t),d=m(t);return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent="Export Video",o=S(),d.c(),f(n,"class","text-xl font-semibold mb-4"),f(l,"class","bg-[#1a1a1a] rounded-2xl w-full max-w-md p-6 border border-white/10"),f(e,"class","fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center")},m(p,g){j(p,e,g),u(e,l),u(l,n),u(l,o),d.m(l,null),s=!0,a||(c=[G(l,"click",Ul(t[8])),G(e,"click",t[6])],a=!0)},p(p,g){m===(m=h(p))&&d?d.p(p,g):(d.d(1),d=m(p),d&&(d.c(),d.m(l,null)))},i(p){s||(p&&He(()=>{s&&(i||(i=nt(l,Tl,{duration:200,start:.95},!0)),i.run(1))}),p&&He(()=>{s&&(r||(r=nt(e,Ml,{duration:200},!0)),r.run(1))}),s=!0)},o(p){p&&(i||(i=nt(l,Tl,{duration:200,start:.95},!1)),i.run(0)),p&&(r||(r=nt(e,Ml,{duration:200},!1)),r.run(0)),s=!1},d(p){p&&B(e),d.d(),p&&i&&i.end(),p&&r&&r.end(),a=!1,be(c)}}}function Eo(t){let e,l,n,o,i,r,s,a,c,h,m,d,p,g,y,b,w,v,x,N,A,M,H=R(["1080x1920","1920x1080","1080x1080"]),F=[];for(let k=0;k<3;k+=1)F[k]=Wl(Pl(t,H,k));let U=R([24,30,60]),I=[];for(let k=0;k<3;k+=1)I[k]=jl(Nl(t,U,k));let q=R(["standard","high","ultra"]),$=[];for(let k=0;k<3;k+=1)$[k]=zl(El(t,q,k));return{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Resolution",o=S(),i=_("div");for(let k=0;k<3;k+=1)F[k].c();r=S(),s=_("div"),a=_("label"),a.textContent="Frame Rate",c=S(),h=_("div");for(let k=0;k<3;k+=1)I[k].c();m=S(),d=_("div"),p=_("label"),p.textContent="Quality",g=S(),y=_("div");for(let k=0;k<3;k+=1)$[k].c();b=S(),w=_("div"),v=_("button"),v.textContent="Cancel",x=S(),N=_("button"),N.textContent="Export",f(n,"class","text-sm text-gray-400 mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(a,"class","text-sm text-gray-400 mb-2 block"),f(h,"class","flex gap-2"),f(p,"class","text-sm text-gray-400 mb-2 block"),f(y,"class","flex gap-2"),f(v,"class","flex-1 p-3 rounded-lg border border-white/10 hover:bg-white/5 transition"),f(N,"class","flex-1 p-3 rounded-lg bg-white text-black font-medium hover:bg-gray-200 transition"),f(w,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(k,D){j(k,e,D),u(e,l),u(l,n),u(l,o),u(l,i);for(let C=0;C<3;C+=1)F[C]&&F[C].m(i,null);u(e,r),u(e,s),u(s,a),u(s,c),u(s,h);for(let C=0;C<3;C+=1)I[C]&&I[C].m(h,null);u(e,m),u(e,d),u(d,p),u(d,g),u(d,y);for(let C=0;C<3;C+=1)$[C]&&$[C].m(y,null);u(e,b),u(e,w),u(w,v),u(w,x),u(w,N),A||(M=[G(v,"click",t[6]),G(N,"click",t[5])],A=!0)},p(k,D){if(D&1){H=R(["1080x1920","1920x1080","1080x1080"]);let C;for(C=0;C<3;C+=1){const V=Pl(k,H,C);F[C]?F[C].p(V,D):(F[C]=Wl(V),F[C].c(),F[C].m(i,null))}for(;C<3;C+=1)F[C].d(1)}if(D&1){U=R([24,30,60]);let C;for(C=0;C<3;C+=1){const V=Nl(k,U,C);I[C]?I[C].p(V,D):(I[C]=jl(V),I[C].c(),I[C].m(h,null))}for(;C<3;C+=1)I[C].d(1)}if(D&1){q=R(["standard","high","ultra"]);let C;for(C=0;C<3;C+=1){const V=El(k,q,C);$[C]?$[C].p(V,D):($[C]=zl(V),$[C].c(),$[C].m(y,null))}for(;C<3;C+=1)$[C].d(1)}},d(k){k&&B(e),oe(F,k),oe(I,k),oe($,k),A=!1,be(M)}}}function No(t){let e,l,n,o,i,r,s,a,c,h,m,d,p;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-blue-500 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',o=S(),i=_("p"),r=J(t[3]),s=S(),a=_("p"),c=J(t[2]),h=J("% complete"),m=S(),d=_("div"),p=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-500/20 mb-4"),f(i,"class","text-lg font-medium"),f(a,"class","text-sm text-gray-500 mt-1"),f(l,"class","text-center"),f(p,"class","h-full bg-blue-500 transition-all duration-300"),Me(p,"width",t[2]+"%"),f(d,"class","h-2 bg-white/10 rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(g,y){j(g,e,y),u(e,l),u(l,n),u(l,o),u(l,i),u(i,r),u(l,s),u(l,a),u(a,c),u(a,h),u(e,m),u(e,d),u(d,p)},p(g,y){y&8&&me(r,g[3]),y&4&&me(c,g[2]),y&4&&Me(p,"width",g[2]+"%")},d(g){g&&B(e)}}}function Wl(t){let e,l=t[19].split("x")[0]==="1080"&&t[19].split("x")[1]==="1920"?"9:16":t[19].split("x")[0]==="1920"?"16:9":"1:1",n,o,i,r,s;function a(){return t[9](t[19])}return{c(){e=_("button"),n=J(l),o=S(),f(e,"class",i="p-2 rounded-lg border transition "+(t[0].resolution===t[19]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))},m(c,h){j(c,e,h),u(e,n),u(e,o),r||(s=G(e,"click",a),r=!0)},p(c,h){t=c,h&1&&i!==(i="p-2 rounded-lg border transition "+(t[0].resolution===t[19]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))&&f(e,"class",i)},d(c){c&&B(e),r=!1,s()}}}function jl(t){let e,l,n,o,i,r;function s(){return t[10](t[16])}return{c(){e=_("button"),l=J(t[16]),n=J(` FPS
                `),f(e,"class",o="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[16]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))},m(a,c){j(a,e,c),u(e,l),u(e,n),i||(r=G(e,"click",s),i=!0)},p(a,c){t=a,c&1&&o!==(o="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[16]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))&&f(e,"class",o)},d(a){a&&B(e),i=!1,r()}}}function zl(t){let e,l=t[13].charAt(0).toUpperCase()+t[13].slice(1)+"",n,o,i,r,s;function a(){return t[11](t[13])}return{c(){e=_("button"),n=J(l),o=S(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[13]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))},m(c,h){j(c,e,h),u(e,n),u(e,o),r||(s=G(e,"click",a),r=!0)},p(c,h){t=c,h&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[13]?"bg-white text-black border-white":"bg-white/5 border-white/10 hover:bg-white/10"))&&f(e,"class",i)},d(c){c&&B(e),r=!1,s()}}}function Po(t){let e,l=t[4]&&Bl(t);return{c(){l&&l.c(),e=yt()},m(n,o){l&&l.m(n,o),j(n,e,o)},p(n,[o]){n[4]?l?(l.p(n,o),o&16&&E(l,1)):(l=Bl(n),l.c(),E(l,1),l.m(e.parentNode,e)):l&&(Ce(),W(l,1,1,()=>{l=null}),Fe())},i(n){E(l)},o(n){W(l)},d(n){n&&B(e),l&&l.d(n)}}}function Bo(t,e,l){let n,o,i;de(t,ie,b=>l(12,o=b)),de(t,et,b=>l(7,i=b));let r={resolution:"1080x1920",fps:30,quality:"high"},s=!1,a=0,c="";async function h(){if(o){l(1,s=!0),l(3,c="Preparing..."),l(2,a=0);try{const b=await fetch(`/api/export/${o.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r,style:o.style,captions:o.captions})});if(!b.ok)throw new Error("Export failed");const w=await b.json(),v=setInterval(async()=>{const N=await(await fetch(`/api/export/status/${w.export_id}`)).json();l(2,a=N.progress||0),l(3,c=N.message||"Processing..."),N.status==="completed"?(clearInterval(v),l(1,s=!1),window.open(N.download_url,"_blank"),m()):N.status==="failed"&&(clearInterval(v),l(1,s=!1),l(3,c="Export failed"))},2e3)}catch(b){l(1,s=!1),l(3,c="Export failed"),console.error("Export error:",b)}}}function m(){s||et.update(b=>({...b,isExporting:!1}))}function d(b){hn.call(this,t,b)}const p=b=>l(0,r.resolution=b,r),g=b=>l(0,r.fps=b,r),y=b=>l(0,r.quality=b,r);return t.$$.update=()=>{t.$$.dirty&128&&l(4,n=i.isExporting)},[r,s,a,c,n,h,m,i,d,p,g,y]}class Wo extends ge{constructor(e){super(),pe(this,e,Bo,Po,re,{})}}function jo(t){let e,l;return e=new ro({props:{$$slots:{timeline:[Oo],panel:[Ho],preview:[Ro],sidebar:[Io]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},p(n,o){const i={};o&32&&(i.$$scope={dirty:o,ctx:n}),e.$set(i)},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function zo(t){let e;return{c(){e=_("div"),e.innerHTML='<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <p class="text-xl mb-2">No video selected</p> <p class="text-sm">Go to dashboard to select a video to edit</p> <a href="/" class="mt-4 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition">Go to Dashboard</a>',f(e,"class","flex flex-col items-center justify-center h-full text-gray-400 ml-16")},m(l,n){j(l,e,n)},p:O,i:O,o:O,d(l){l&&B(e)}}}function Ao(t){let e,l;return{c(){e=_("div"),l=J(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,o){j(n,e,o),u(e,l)},p(n,o){o&2&&me(l,n[1])},i:O,o:O,d(n){n&&B(e)}}}function Lo(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(l,n){j(l,e,n)},p:O,i:O,o:O,d(l){l&&B(e)}}}function Io(t){let e,l;return e=new Xn({props:{slot:"sidebar"}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function Ro(t){let e,l;return e=new po({props:{slot:"preview"}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function Ho(t){let e,l;return e=new Co({props:{slot:"panel"}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function Oo(t){let e,l;return e=new Mo({props:{slot:"timeline"}}),{c(){ne(e.$$.fragment)},m(n,o){X(e,n,o),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){W(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function Do(t){let e,l,n,o,i,r;const s=[Lo,Ao,zo,jo],a=[];function c(h,m){return h[0]?0:h[1]?1:h[2]?3:2}return l=c(t),n=a[l]=s[l](t),i=new Wo({}),{c(){e=_("main"),n.c(),o=S(),ne(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-[#0a0a0a] text-white font-sans")},m(h,m){j(h,e,m),a[l].m(e,null),j(h,o,m),X(i,h,m),r=!0},p(h,[m]){let d=l;l=c(h),l===d?a[l].p(h,m):(Ce(),W(a[d],1,1,()=>{a[d]=null}),Fe(),n=a[l],n?n.p(h,m):(n=a[l]=s[l](h),n.c()),E(n,1),n.m(e,null))},i(h){r||(E(n),E(i.$$.fragment,h),r=!0)},o(h){W(n),W(i.$$.fragment,h),r=!1},d(h){h&&(B(e),B(o)),a[l].d(),ee(i,h)}}}function Uo(t,e,l){let n;de(t,ie,a=>l(2,n=a));let o=null,i=!0,r=null;ql(async()=>{const a=window.location.pathname.split("/"),c=a.indexOf("edit");c>-1&&a.length>c+1?(o=a[c+1],await s(o)):l(0,i=!1)});async function s(a){try{l(0,i=!0);const c=await fetch(`/api/editor_data/${a}`);if(!c.ok)throw new Error("Failed to load project");const h=await c.json();ie.set({id:h.job_id,name:h.original_filename||"Untitled",videoUrl:h.video_url,videoDuration:h.duration||0,captions:h.captions||[],bRollClips:h.b_roll_clips||[],style:h.style||{},resolution:h.resolution||"1080x1920",createdAt:new Date(h.created_at),updatedAt:new Date(h.updated_at)}),h.duration&&we.update(m=>({...m,duration:h.duration}))}catch(c){l(1,r=c instanceof Error?c.message:"Failed to load project")}finally{l(0,i=!1)}}return[i,r,n]}class qo extends ge{constructor(e){super(),pe(this,e,Uo,Do,re,{})}}new qo({target:document.getElementById("app")});
