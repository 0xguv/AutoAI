var gn=Object.defineProperty;var mn=(t,e,l)=>e in t?gn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var bt=(t,e,l)=>mn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function Z(){}const on=t=>t;function ne(t,e){for(const l in e)t[l]=e[l];return t}function sn(t){return t()}function jt(){return Object.create(null)}function ye(t){t.forEach(sn)}function Ft(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let st;function Ge(t,e){return t===e?!0:(st||(st=document.createElement("a")),st.href=e,t===st.href)}function _n(t){return Object.keys(t).length===0}function bn(t,...e){if(t==null){for(const n of e)n(void 0);return Z}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Re(t,e,l){t.$$.on_destroy.push(bn(e,l))}function Ee(t,e,l,n){if(t){const r=an(t,e,l,n);return t[0](r)}}function an(t,e,l,n){return t[1]&&n?ne(l.ctx.slice(),t[1](n(e))):l.ctx}function Me(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|r[s];return i}return e.dirty|r}return e.dirty}function Te(t,e,l,n,r,i){if(r){const o=an(e,l,n,i);t.p(o,r)}}function Be(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function _e(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Ot(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const cn=typeof window<"u";let kn=cn?()=>window.performance.now():()=>Date.now(),Ct=cn?t=>requestAnimationFrame(t):Z;const qe=new Set;function un(t){qe.forEach(e=>{e.c(t)||(qe.delete(e),e.f())}),qe.size!==0&&Ct(un)}function vn(t){let e;return qe.size===0&&Ct(un),{promise:new Promise(l=>{qe.add(e={c:t,f:l})}),abort(){qe.delete(e)}}}function u(t,e){t.appendChild(e)}function fn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function yn(t){const e=_("style");return e.textContent="/* empty */",wn(fn(t),e),e.sheet}function wn(t,e){return u(t.head||t,e),e.sheet}function N(t,e,l){t.insertBefore(e,l||null)}function R(t){t.parentNode&&t.parentNode.removeChild(t)}function fe(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function $(){return V(" ")}function St(){return V("")}function G(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Et(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function dt(t,e){for(const l in e)f(t,l,e[l])}function $n(t){return Array.from(t.childNodes)}function de(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ke(t,e){t.value=e??""}function se(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function at(t,e,l){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function xn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Ht(t,e){return new t(e)}const ht=new Map;let pt=0;function Fn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function Cn(t,e){const l={stylesheet:yn(e),rules:{}};return ht.set(t,l),l}function Ut(t,e,l,n,r,i,o,s=0){const a=16.666/n;let c=`{
`;for(let v=0;v<=1;v+=a){const b=e+(l-e)*i(v);c+=v*100+`%{${o(b,1-b)}}
`}const h=c+`100% {${o(l,1-l)}}
}`,m=`__svelte_${Fn(h)}_${s}`,p=fn(t),{stylesheet:g,rules:d}=ht.get(p)||Cn(p,t);d[m]||(d[m]=!0,g.insertRule(`@keyframes ${m} ${h}`,g.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${m} ${n}ms linear ${r}ms 1 both`,pt+=1,m}function Sn(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=l.length-n.length;r&&(t.style.animation=n.join(", "),pt-=r,pt||En())}function En(){Ct(()=>{pt||(ht.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&R(e)}),ht.clear())})}let nt;function lt(t){nt=t}function Mn(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Mt(t){Mn().$$.on_mount.push(t)}function Tn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Ve=[],gt=[];let Ye=[];const Vt=[],Bn=Promise.resolve();let wt=!1;function Rn(){wt||(wt=!0,Bn.then(dn))}function Ze(t){Ye.push(t)}const kt=new Set;let He=0;function dn(){if(He!==0)return;const t=nt;do{try{for(;He<Ve.length;){const e=Ve[He];He++,lt(e),Wn(e.$$)}}catch(e){throw Ve.length=0,He=0,e}for(lt(null),Ve.length=0,He=0;gt.length;)gt.pop()();for(let e=0;e<Ye.length;e+=1){const l=Ye[e];kt.has(l)||(kt.add(l),l())}Ye.length=0}while(Ve.length);for(;Vt.length;)Vt.pop()();wt=!1,kt.clear(),lt(t)}function Wn(t){if(t.fragment!==null){t.update(),ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function zn(t){const e=[],l=[];Ye.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ye=e}let tt;function Nn(){return tt||(tt=Promise.resolve(),tt.then(()=>{tt=null})),tt}function vt(t,e,l){t.dispatchEvent(xn(`${e?"intro":"outro"}${l}`))}const ut=new Set;let Ae;function ke(){Ae={r:0,c:[],p:Ae}}function ve(){Ae.r||ye(Ae.c),Ae=Ae.p}function B(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function D(t,e,l,n){if(t&&t.o){if(ut.has(t))return;ut.add(t),Ae.c.push(()=>{ut.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Dn={duration:0};function ct(t,e,l,n){let i=e(t,l,{direction:"both"}),o=n?0:1,s=null,a=null,c=null,h;function m(){c&&Sn(t,c)}function p(d,k){const v=d.b-o;return k*=Math.abs(v),{a:o,b:d.b,d:v,duration:k,start:d.start,end:d.start+k,group:d.group}}function g(d){const{delay:k=0,duration:v=300,easing:b=on,tick:y=Z,css:E}=i||Dn,z={start:kn()+k,b:d};d||(z.group=Ae,Ae.r+=1),"inert"in t&&(d?h!==void 0&&(t.inert=h):(h=t.inert,t.inert=!0)),s||a?a=z:(E&&(m(),c=Ut(t,o,d,v,k,b,E)),d&&y(0,1),s=p(z,v),Ze(()=>vt(t,d,"start")),vn(M=>{if(a&&M>a.start&&(s=p(a,v),a=null,vt(t,s.b,"start"),E&&(m(),c=Ut(t,o,s.b,s.duration,0,b,i.css))),s){if(M>=s.end)y(o=s.b,1-o),vt(t,s.b,"end"),a||(s.b?m():--s.group.r||ye(s.group.c)),s=null;else if(M>=s.start){const j=M-s.start;o=s.a+s.d*b(j/s.duration),y(o,1-o)}}return!!(s||a)}))}return{run(d){Ft(i)?Nn().then(()=>{i=i({direction:d?"in":"out"}),g(d)}):g(d)},end(){m(),s=a=null}}}function U(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function hn(t,e){t.d(1),e.delete(t.key)}function Ln(t,e){D(t,1,1,()=>{e.delete(t.key)})}function Tt(t,e,l,n,r,i,o,s,a,c,h,m){let p=t.length,g=i.length,d=p;const k={};for(;d--;)k[t[d].key]=d;const v=[],b=new Map,y=new Map,E=[];for(d=g;d--;){const W=m(r,i,d),C=l(W);let P=o.get(C);P?E.push(()=>P.p(W,e)):(P=c(C,W),P.c()),b.set(C,v[d]=P),C in k&&y.set(C,Math.abs(d-k[C]))}const z=new Set,M=new Set;function j(W){B(W,1),W.m(s,h),o.set(W.key,W),h=W.first,g--}for(;p&&g;){const W=v[g-1],C=t[p-1],P=W.key,O=C.key;W===C?(h=W.first,p--,g--):b.has(O)?!o.has(P)||z.has(P)?j(W):M.has(O)?p--:y.get(P)>y.get(O)?(M.add(P),j(W)):(z.add(O),p--):(a(C,o),p--)}for(;p--;){const W=t[p];b.has(W.key)||a(W,o)}for(;g;)j(v[g-1]);return ye(E),v}function Ie(t,e){const l={},n={},r={$$scope:1};let i=t.length;for(;i--;){const o=t[i],s=e[i];if(s){for(const a in o)a in s||(n[a]=1);for(const a in s)r[a]||(l[a]=s[a],r[a]=1);t[i]=s}else for(const a in o)r[a]=1}for(const o in n)o in l||(l[o]=void 0);return l}function je(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function X(t,e,l){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,l),Ze(()=>{const i=t.$$.on_mount.map(sn).filter(Ft);t.$$.on_destroy?t.$$.on_destroy.push(...i):ye(i),t.$$.on_mount=[]}),r.forEach(Ze)}function ee(t,e){const l=t.$$;l.fragment!==null&&(zn(l.after_update),ye(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Pn(t,e){t.$$.dirty[0]===-1&&(Ve.push(t),Rn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,l,n,r,i,o=null,s=[-1]){const a=nt;lt(t);const c=t.$$={fragment:null,ctx:[],props:i,update:Z,not_equal:r,bound:jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:jt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let h=!1;if(c.ctx=l?l(t,e.props||{},(m,p,...g)=>{const d=g.length?g[0]:p;return c.ctx&&r(c.ctx[m],c.ctx[m]=d)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](d),h&&Pn(t,m)),p}):[],c.update(),h=!0,ye(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const m=$n(e.target);c.fragment&&c.fragment.l(m),m.forEach(R)}else c.fragment&&c.fragment.c();e.intro&&B(t.$$.fragment),X(t,e.target,e.anchor),dn()}lt(a)}class $e{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){ee(this,1),this.$destroy=Z}$on(e,l){if(!Ft(l))return Z;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!_n(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const An="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(An);const Ue=[];function it(t,e=Z){let l;const n=new Set;function r(s){if(me(t,s)&&(t=s,l)){const a=!Ue.length;for(const c of n)c[1](),Ue.push(c,t);if(a){for(let c=0;c<Ue.length;c+=2)Ue[c][0](Ue[c+1]);Ue.length=0}}}function i(s){r(s(t))}function o(s,a=Z){const c=[s,a];return n.add(c),n.size===1&&(l=e(r,i)||Z),s(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:r,update:i,subscribe:o}}const $t={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},qt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function In(){const{subscribe:t,set:e,update:l}=it({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:qt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:t,set:e,update:l,updateCaption:(n,r)=>{l(i=>{if(!i)return i;const o=i.captions.map(s=>s.id===n?{...s,...r}:s);return{...i,captions:o,updatedAt:new Date}})},updateStyle:n=>{l(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{l(r=>{if(!r)return r;const i=$t[n];return i?{...r,style:{...qt,...i},updatedAt:new Date}:r})},addBRoll:n=>{l(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{l(r=>r&&{...r,bRollClips:r.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,i)=>{l(o=>{if(!o)return o;const s=o.captions.map(a=>{if(a.id===n){const c=a.words.map((h,m)=>m===r?{...h,emoji:i||null}:h);return{...a,words:c}}return a});return{...o,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,i)=>{l(o=>{if(!o)return o;const s=o.captions.map(a=>{if(a.id===n){const c=a.words.map((h,m)=>m===r?{...h,isKeyword:i}:h);return{...a,words:c}}return a});return{...o,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{l(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const a=Math.max(0,r);return{...s,start:a}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{l(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const a=Math.max(.1,r);return{...s,duration:a}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},addZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{l(i=>{if(!i)return i;const o=i.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,zoomEffects:o,updatedAt:new Date}})},addSoundEffect:n=>{l(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{l(r=>r&&{...r,soundEffects:r.soundEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{l(i=>{if(!i)return i;const o=i.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,soundEffects:o,updatedAt:new Date}})}}}const ce=In();function jn(){const{subscribe:t,set:e,update:l}=it({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:l,setCurrentTime:n=>l(r=>({...r,currentTime:n})),setPlaying:n=>l(r=>({...r,isPlaying:n})),togglePlay:()=>l(n=>({...n,isPlaying:!n.isPlaying}))}}const Pe=jn(),xt=it("captions"),rt=it({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Gt(t,e,l){const n=t.slice();return n[10]=e[l][0],n[11]=e[l][1],n}function yt(t){let e,l=[t[11]],n={};for(let r=0;r<l.length;r+=1)n=ne(n,l[r]);return{c(){e=ft(t[10]),dt(e,n)},m(r,i){N(r,e,i)},p(r,i){dt(e,n=Ie(l,[i&32&&r[11]]))},d(r){r&&R(e)}}}function Kt(t){let e=t[10],l,n=t[10]&&yt(t);return{c(){n&&n.c(),l=St()},m(r,i){n&&n.m(r,i),N(r,l,i)},p(r,i){r[10]?e?me(e,r[10])?(n.d(1),n=yt(r),e=r[10],n.c(),n.m(l.parentNode,l)):n.p(r,i):(n=yt(r),e=r[10],n.c(),n.m(l.parentNode,l)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&R(l),n&&n.d(r)}}}function On(t){let e,l,n,r,i,o=U(t[5]),s=[];for(let p=0;p<o.length;p+=1)s[p]=Kt(Gt(t,o,p));const a=t[9].default,c=Ee(a,t,t[8],null);let h=[Yt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],m={};for(let p=0;p<h.length;p+=1)m=ne(m,h[p]);return{c(){e=ft("svg");for(let p=0;p<s.length;p+=1)s[p].c();l=St(),c&&c.c(),dt(e,m)},m(p,g){N(p,e,g);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);u(e,l),c&&c.m(e,null),i=!0},p(p,[g]){if(g&32){o=U(p[5]);let d;for(d=0;d<o.length;d+=1){const k=Gt(p,o,d);s[d]?s[d].p(k,g):(s[d]=Kt(k),s[d].c(),s[d].m(e,l))}for(;d<s.length;d+=1)s[d].d(1);s.length=o.length}c&&c.p&&(!i||g&256)&&Te(c,a,p,p[8],i?Me(a,p[8],g,null):Be(p[8]),null),dt(e,m=Ie(h,[Yt,g&64&&p[6],(!i||g&4)&&{width:p[2]},(!i||g&4)&&{height:p[2]},(!i||g&2)&&{stroke:p[1]},(!i||g&28&&n!==(n=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":n},(!i||g&129&&r!==(r=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:r}]))},i(p){i||(B(c,p),i=!0)},o(p){D(c,p),i=!1},d(p){p&&R(e),fe(s,p),c&&c.d(p)}}}function Hn(t,e,l){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ot(e,n),{$$slots:i={},$$scope:o}=e,{name:s}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:h=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:p}=e;return t.$$set=g=>{l(7,e=ne(ne({},e),_e(g))),l(6,r=Ot(e,n)),"name"in g&&l(0,s=g.name),"color"in g&&l(1,a=g.color),"size"in g&&l(2,c=g.size),"strokeWidth"in g&&l(3,h=g.strokeWidth),"absoluteStrokeWidth"in g&&l(4,m=g.absoluteStrokeWidth),"iconNode"in g&&l(5,p=g.iconNode),"$$scope"in g&&l(8,o=g.$$scope)},e=_e(e),[s,a,c,h,m,p,r,e,o,i]}class Oe extends $e{constructor(e){super(),we(this,e,Hn,On,me,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Un(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function Vn(t){let e,l;const n=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Un]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function qn(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class Bt extends $e{constructor(e){super(),we(this,e,qn,Vn,me,{})}}function Yn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function Gn(t){let e,l;const n=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Yn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Kn(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class ot extends $e{constructor(e){super(),we(this,e,Kn,Gn,me,{})}}function Zn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function Jn(t){let e,l;const n=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Zn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Qn(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class Xn extends $e{constructor(e){super(),we(this,e,Qn,Jn,me,{})}}function er(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function tr(t){let e,l;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[er]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function lr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class pn extends $e{constructor(e){super(),we(this,e,lr,tr,me,{})}}function nr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function rr(t){let e,l;const n=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[nr]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function ir(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class mt extends $e{constructor(e){super(),we(this,e,ir,rr,me,{})}}function or(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function sr(t){let e,l;const n=[{name:"trash-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[or]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function ar(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class cr extends $e{constructor(e){super(),we(this,e,ar,sr,me,{})}}function ur(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(B(n,r),e=!0)},o(r){D(n,r),e=!1},d(r){n&&n.d(r)}}}function fr(t){let e,l;const n=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[ur]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(B(e.$$.fragment,i),l=!0)},o(i){D(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function dr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class hr extends $e{constructor(e){super(),we(this,e,dr,fr,me,{})}}function Zt(t,e,l){const n=t.slice();return n[3]=e[l],n}function Jt(t){let e,l,n,r,i,o,s,a,c;var h=t[3].icon;function m(g,d){return{props:{class:"w-5 h-5"}}}h&&(l=Ht(h,m()));function p(){return t[2](t[3])}return{c(){e=_("button"),l&&te(l.$$.fragment),n=$(),r=_("span"),r.textContent=`${t[3].label}`,i=$(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",t[3].label)},m(g,d){N(g,e,d),l&&X(l,e,null),u(e,n),u(e,r),u(e,i),s=!0,a||(c=G(e,"click",p),a=!0)},p(g,d){if(t=g,h!==(h=t[3].icon)){if(l){ke();const k=l;D(k.$$.fragment,1,0,()=>{ee(k,1)}),ve()}h?(l=Ht(h,m()),te(l.$$.fragment),B(l.$$.fragment,1),X(l,e,n)):l=null}(!s||d&1&&o!==(o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",o)},i(g){s||(l&&B(l.$$.fragment,g),s=!0)},o(g){l&&D(l.$$.fragment,g),s=!1},d(g){g&&R(e),l&&ee(l),a=!1,c()}}}function pr(t){let e,l,n,r,i,o,s,a,c,h,m,p,g=U(t[1]),d=[];for(let v=0;v<g.length;v+=1)d[v]=Jt(Zt(t,g,v));const k=v=>D(d[v],1,1,()=>{d[v]=null});return{c(){e=_("div"),l=_("div"),l.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=$(),r=_("nav");for(let v=0;v<d.length;v+=1)d[v].c();i=$(),o=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',a=$(),c=_("button"),c.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(l,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(c,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(c,"title","Logout"),f(o,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m(v,b){N(v,e,b),u(e,l),u(e,n),u(e,r);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(r,null);u(e,i),u(e,o),u(o,s),u(o,a),u(o,c),h=!0,m||(p=G(c,"click",gr),m=!0)},p(v,[b]){if(b&3){g=U(v[1]);let y;for(y=0;y<g.length;y+=1){const E=Zt(v,g,y);d[y]?(d[y].p(E,b),B(d[y],1)):(d[y]=Jt(E),d[y].c(),B(d[y],1),d[y].m(r,null))}for(ke(),y=g.length;y<d.length;y+=1)k(y);ve()}},i(v){if(!h){for(let b=0;b<g.length;b+=1)B(d[b]);h=!0}},o(v){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)D(d[b]);h=!1},d(v){v&&R(e),fe(d,v),m=!1,p()}}}function gr(){window.location.href="/logout"}function mr(t,e,l){let n;return Re(t,xt,o=>l(0,n=o)),[n,[{id:"captions",label:"Captions",icon:hr},{id:"style",label:"Style",icon:Xn},{id:"broll",label:"B-Roll",icon:Bt},{id:"ai-tools",label:"AI Tools",icon:mt}],o=>xt.set(o.id)]}class _r extends $e{constructor(e){super(),we(this,e,mr,pr,me,{})}}const br=t=>({}),Qt=t=>({}),kr=t=>({}),Xt=t=>({}),vr=t=>({}),el=t=>({}),yr=t=>({}),tl=t=>({});function wr(t){let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y,E;const z=t[1].sidebar,M=Ee(z,t,t[0],tl),j=t[1].panel,W=Ee(j,t,t[0],el),C=t[1].preview,P=Ee(C,t,t[0],Xt),O=t[1].timeline,L=Ee(O,t,t[0],Qt);return{c(){e=_("div"),l=_("aside"),M&&M.c(),n=$(),r=_("aside"),W&&W.c(),i=$(),o=_("div"),s=_("div"),a=_("header"),c=_("div"),c.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',h=$(),m=_("div"),p=_("button"),p.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,g=$(),d=_("div"),P&&P.c(),k=$(),v=_("aside"),L&&L.c(),f(l,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(c,"class","flex items-center gap-4"),f(p,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(m,"class","flex items-center gap-2"),f(a,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(d,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f(v,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(o,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(F,S){N(F,e,S),u(e,l),M&&M.m(l,null),u(e,n),u(e,r),W&&W.m(r,null),u(e,i),u(e,o),u(o,s),u(s,a),u(a,c),u(a,h),u(a,m),u(m,p),u(s,g),u(s,d),P&&P.m(d,null),u(o,k),u(o,v),L&&L.m(v,null),b=!0,y||(E=G(p,"click",t[2]),y=!0)},p(F,[S]){M&&M.p&&(!b||S&1)&&Te(M,z,F,F[0],b?Me(z,F[0],S,yr):Be(F[0]),tl),W&&W.p&&(!b||S&1)&&Te(W,j,F,F[0],b?Me(j,F[0],S,vr):Be(F[0]),el),P&&P.p&&(!b||S&1)&&Te(P,C,F,F[0],b?Me(C,F[0],S,kr):Be(F[0]),Xt),L&&L.p&&(!b||S&1)&&Te(L,O,F,F[0],b?Me(O,F[0],S,br):Be(F[0]),Qt)},i(F){b||(B(M,F),B(W,F),B(P,F),B(L,F),b=!0)},o(F){D(M,F),D(W,F),D(P,F),D(L,F),b=!1},d(F){F&&R(e),M&&M.d(F),W&&W.d(F),P&&P.d(F),L&&L.d(F),y=!1,E()}}}function $r(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=()=>rt.update(o=>({...o,isExporting:!0}));return t.$$set=o=>{"$$scope"in o&&l(0,r=o.$$scope)},[r,n,i]}class xr extends $e{constructor(e){super(),we(this,e,$r,wr,me,{})}}function ll(t,e,l){const n=t.slice();return n[17]=e[l],n}function Fr(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="text-center"><svg class="w-16 h-16 text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-white text-lg">No video loaded</p></div>',f(e,"class","w-full h-full flex items-center justify-center bg-black")},m(l,n){N(l,e,n)},p:Z,d(l){l&&R(e)}}}function Cr(t){let e,l,n,r,i;return{c(){e=_("video"),l=_("track"),f(l,"kind","captions"),Ge(e.src,n=t[0].videoUrl)||f(e,"src",n),f(e,"class","w-full h-full object-contain"),f(e,"crossorigin","anonymous"),e.playsInline=!0,e.muted=!0,e.autoplay=!0},m(o,s){N(o,e,s),u(e,l),t[10](e),r||(i=G(e,"click",t[4]),r=!0)},p(o,s){s&1&&!Ge(e.src,n=o[0].videoUrl)&&f(e,"src",n)},d(o){o&&R(e),t[10](null),r=!1,i()}}}function nl(t){let e,l;function n(o,s){var a,c;return(c=(a=o[0])==null?void 0:a.style)!=null&&c.wordByWord&&o[2].words?Er:Sr}let r=n(t),i=r(t);return{c(){var o,s,a,c;e=_("div"),i.c(),f(e,"class","absolute left-4 right-4 text-center pointer-events-none"),f(e,"style",l=t[5]()+" "+(((s=(o=t[0])==null?void 0:o.style)==null?void 0:s.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((c=(a=t[0])==null?void 0:a.style)==null?void 0:c.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))},m(o,s){N(o,e,s),i.m(e,null)},p(o,s){var a,c,h,m;r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&1&&l!==(l=o[5]()+" "+(((c=(a=o[0])==null?void 0:a.style)==null?void 0:c.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((m=(h=o[0])==null?void 0:h.style)==null?void 0:m.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))&&f(e,"style",l)},d(o){o&&R(e),i.d()}}}function Sr(t){let e,l=t[2].text+"",n;return{c(){var r,i,o,s,a,c,h,m;e=_("p"),n=V(l),f(e,"class","leading-tight"),se(e,"font-family",(((i=(r=t[0])==null?void 0:r.style)==null?void 0:i.fontFamily)||"Inter")+", sans-serif"),se(e,"font-size",(((s=(o=t[0])==null?void 0:o.style)==null?void 0:s.fontSize)||42)+"px"),se(e,"font-weight",((c=(a=t[0])==null?void 0:a.style)==null?void 0:c.fontWeight)||"bold"),se(e,"color",((m=(h=t[0])==null?void 0:h.style)==null?void 0:m.color)||"#FFFFFF")},m(r,i){N(r,e,i),u(e,n)},p(r,i){var o,s,a,c,h,m,p,g;i&4&&l!==(l=r[2].text+"")&&de(n,l),i&1&&se(e,"font-family",(((s=(o=r[0])==null?void 0:o.style)==null?void 0:s.fontFamily)||"Inter")+", sans-serif"),i&1&&se(e,"font-size",(((c=(a=r[0])==null?void 0:a.style)==null?void 0:c.fontSize)||42)+"px"),i&1&&se(e,"font-weight",((m=(h=r[0])==null?void 0:h.style)==null?void 0:m.fontWeight)||"bold"),i&1&&se(e,"color",((g=(p=r[0])==null?void 0:p.style)==null?void 0:g.color)||"#FFFFFF")},d(r){r&&R(e)}}}function Er(t){let e,l=U(t[2].words),n=[];for(let r=0;r<l.length;r+=1)n[r]=rl(ll(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","flex flex-wrap justify-center gap-1")},m(r,i){N(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i&197){l=U(r[2].words);let o;for(o=0;o<l.length;o+=1){const s=ll(r,l,o);n[o]?n[o].p(s,i):(n[o]=rl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&R(e),fe(n,r)}}}function rl(t){let e,l=t[17].text+"",n,r,i,o;return{c(){var s,a,c,h,m,p,g,d,k,v,b,y,E,z,M,j,W,C,P,O,L,F;e=_("span"),n=V(l),r=$(),f(e,"class",i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+t[7](t[17])+" svelte-1q1neid"),f(e,"style",o="font-family: "+(((a=(s=t[0])==null?void 0:s.style)==null?void 0:a.fontFamily)||"Inter")+", sans-serif; font-size: "+(((h=(c=t[0])==null?void 0:c.style)==null?void 0:h.fontSize)||42)+"px; font-weight: "+(((p=(m=t[0])==null?void 0:m.style)==null?void 0:p.fontWeight)||"bold")+"; color: "+(t[6](t[17])&&((d=(g=t[0])==null?void 0:g.style)!=null&&d.highlightWords)?((v=(k=t[0])==null?void 0:k.style)==null?void 0:v.highlightColor)||"#FFD700":((y=(b=t[0])==null?void 0:b.style)==null?void 0:y.color)||"#FFFFFF")+"; background-color: "+(t[6](t[17])&&((z=(E=t[0])==null?void 0:E.style)!=null&&z.highlightWords)?((j=(M=t[0])==null?void 0:M.style)==null?void 0:j.highlightColor)||"#FFD700":"transparent")+"; "+(t[6](t[17])&&((C=(W=t[0])==null?void 0:W.style)!=null&&C.highlightWords)&&((O=(P=t[0])==null?void 0:P.style)==null?void 0:O.color)===((F=(L=t[0])==null?void 0:L.style)==null?void 0:F.highlightColor)?"color: #000000;":""))},m(s,a){N(s,e,a),u(e,n),u(e,r)},p(s,a){var c,h,m,p,g,d,k,v,b,y,E,z,M,j,W,C,P,O,L,F,S,w;a&4&&l!==(l=s[17].text+"")&&de(n,l),a&4&&i!==(i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+s[7](s[17])+" svelte-1q1neid")&&f(e,"class",i),a&5&&o!==(o="font-family: "+(((h=(c=s[0])==null?void 0:c.style)==null?void 0:h.fontFamily)||"Inter")+", sans-serif; font-size: "+(((p=(m=s[0])==null?void 0:m.style)==null?void 0:p.fontSize)||42)+"px; font-weight: "+(((d=(g=s[0])==null?void 0:g.style)==null?void 0:d.fontWeight)||"bold")+"; color: "+(s[6](s[17])&&((v=(k=s[0])==null?void 0:k.style)!=null&&v.highlightWords)?((y=(b=s[0])==null?void 0:b.style)==null?void 0:y.highlightColor)||"#FFD700":((z=(E=s[0])==null?void 0:E.style)==null?void 0:z.color)||"#FFFFFF")+"; background-color: "+(s[6](s[17])&&((j=(M=s[0])==null?void 0:M.style)!=null&&j.highlightWords)?((C=(W=s[0])==null?void 0:W.style)==null?void 0:C.highlightColor)||"#FFD700":"transparent")+"; "+(s[6](s[17])&&((O=(P=s[0])==null?void 0:P.style)!=null&&O.highlightWords)&&((F=(L=s[0])==null?void 0:L.style)==null?void 0:F.color)===((w=(S=s[0])==null?void 0:S.style)==null?void 0:w.highlightColor)?"color: #000000;":""))&&f(e,"style",o)},d(s){s&&R(e)}}}function il(t){let e,l,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40 z-10")},m(r,i){N(r,e,i),l||(n=G(e,"click",t[4]),l=!0)},p:Z,d(r){r&&R(e),l=!1,n()}}}function Mr(t){let e,l,n,r,i,o=Math.floor(t[1].currentTime/60)+"",s,a,c=(Math.floor(t[1].currentTime)%60).toString().padStart(2,"0")+"",h;function m(v,b){var y;return(y=v[0])!=null&&y.videoUrl?Cr:Fr}let p=m(t),g=p(t),d=t[2]&&nl(t),k=!t[1].isPlaying&&il(t);return{c(){e=_("div"),g.c(),l=$(),d&&d.c(),n=$(),k&&k.c(),r=$(),i=_("div"),s=V(o),a=V(":"),h=V(c),f(i,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded z-10"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(v,b){N(v,e,b),g.m(e,null),u(e,l),d&&d.m(e,null),u(e,n),k&&k.m(e,null),u(e,r),u(e,i),u(i,s),u(i,a),u(i,h)},p(v,[b]){p===(p=m(v))&&g?g.p(v,b):(g.d(1),g=p(v),g&&(g.c(),g.m(e,l))),v[2]?d?d.p(v,b):(d=nl(v),d.c(),d.m(e,n)):d&&(d.d(1),d=null),v[1].isPlaying?k&&(k.d(1),k=null):k?k.p(v,b):(k=il(v),k.c(),k.m(e,r)),b&2&&o!==(o=Math.floor(v[1].currentTime/60)+"")&&de(s,o),b&2&&c!==(c=(Math.floor(v[1].currentTime)%60).toString().padStart(2,"0")+"")&&de(h,c)},i:Z,o:Z,d(v){v&&R(e),g.d(),d&&d.d(),k&&k.d()}}}function Tr(t,e,l){let n,r,i,o,s;Re(t,Pe,E=>l(8,o=E)),Re(t,ce,E=>l(9,s=E));let a;function c(){Pe.setPlaying(!0)}function h(){Pe.setPlaying(!1)}function m(){a&&Pe.setCurrentTime(a.currentTime)}function p(){a&&Pe.update(E=>({...E,duration:a.duration}))}function g(E){var z;a&&((z=E.detail)==null?void 0:z.time)!=null&&l(3,a.currentTime=E.detail.time,a)}Mt(()=>(window.addEventListener("timeline-seek",g),a&&(a.addEventListener("timeupdate",m),a.addEventListener("loadedmetadata",p),a.addEventListener("play",c),a.addEventListener("pause",h)),()=>{window.removeEventListener("timeline-seek",g),a&&(a.removeEventListener("timeupdate",m),a.removeEventListener("loadedmetadata",p),a.removeEventListener("play",c),a.removeEventListener("pause",h))}));function d(){a&&(a.paused?a.play():a.pause())}function k(){var z;switch(((z=n==null?void 0:n.style)==null?void 0:z.position)||"bottom"){case"top":return"top: 10%;";case"middle":return"top: 50%; transform: translateY(-50%);";case"bottom":default:return"bottom: 10%;"}}function v(E){return(r==null?void 0:r.currentTime)>=E.start&&(r==null?void 0:r.currentTime)<=E.end}function b(E){var M;if(!v(E))return"";switch(((M=n==null?void 0:n.style)==null?void 0:M.animation)||"none"){case"pop":return"animate-pop";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade";case"bounce":return"animate-bounce";default:return""}}function y(E){gt[E?"unshift":"push"](()=>{a=E,l(3,a)})}return t.$$.update=()=>{var E,z;t.$$.dirty&512&&l(0,n=s),t.$$.dirty&256&&l(1,r=o),t.$$.dirty&3&&l(2,i=(E=n==null?void 0:n.captions)==null?void 0:E.find(M=>(r==null?void 0:r.currentTime)>=M.start&&(r==null?void 0:r.currentTime)<=M.end)),t.$$.dirty&6&&(z=i==null?void 0:i.words)!=null&&z.filter(M=>(r==null?void 0:r.currentTime)>=M.start&&(r==null?void 0:r.currentTime)<=M.end)},[n,r,i,a,d,k,v,b,o,s,y]}class Br extends $e{constructor(e){super(),we(this,e,Tr,Mr,me,{})}}const ol=it(null);function Je(t){const e=Math.floor(t/60),l=Math.floor(t%60),n=Math.floor(t%1*100);return`${e}:${l.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function sl(t,e,l){const n=t.slice();return n[65]=e[l],n}function al(t,e,l){const n=t.slice();return n[62]=e[l],n}function cl(t,e,l){const n=t.slice();return n[62]=e[l],n}function ul(t,e,l){const n=t.slice();return n[46]=e[l],n}function fl(t,e,l){const n=t.slice();return n[49]=e[l],n}function dl(t,e,l){const n=t.slice();return n[52]=e[l],n}function hl(t,e,l){const n=t.slice();return n[55]=e[l],n}function pl(t,e,l){const n=t.slice();return n[58]=e[l][0],n[59]=e[l][1],n}function gl(t,e,l){const n=t.slice();return n[34]=e[l],n}function ml(t,e,l){const n=t.slice();return n[37]=e[l],n[39]=l,n}function _l(t,e,l){const n=t.slice();return n[34]=e[l],n}function bl(t,e,l){const n=t.slice();return n[37]=e[l],n[42]=e,n[39]=l,n}function kl(t,e,l){const n=t.slice();return n[43]=e[l],n}function Rr(t){let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y,E,z,M,j,W,C,P,O;const L=[Lr,Dr],F=[];function S(Y,re){return Y[0]?0:1}i=S(t),o=F[i]=L[i](t);const w=[Ar,Pr],x=[];function A(Y,re){return Y[1]?0:1}c=A(t),h=x[c]=w[c](t);const J=[jr,Ir],oe=[];function Se(Y,re){return Y[2]?0:1}d=Se(t),k=oe[d]=J[d](t);const K=[Hr,Or],T=[];function Q(Y,re){return generatingEffects?0:1}E=Q(),z=T[E]=K[E](t);let q=t[6].length>0&&vl(t),ae=t[9]&&wl(t);return{c(){var Y,re,Fe,ze,Ce,ue;e=_("div"),l=_("h3"),l.textContent="AI Magic Tools",n=$(),r=_("button"),o.c(),s=$(),a=_("button"),h.c(),p=$(),g=_("button"),k.c(),b=$(),y=_("button"),z.c(),j=$(),q&&q.c(),W=$(),ae&&ae.c(),f(l,"class","font-semibold text-lg text-white"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),a.disabled=m=t[1]||!((re=(Y=t[7])==null?void 0:Y.captions)!=null&&re.length),f(a,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),g.disabled=v=t[2]||!((ze=(Fe=t[7])==null?void 0:Fe.captions)!=null&&ze.length),f(g,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),y.disabled=M=generatingEffects||!((ue=(Ce=t[7])==null?void 0:Ce.captions)!=null&&ue.length),f(y,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(Y,re){N(Y,e,re),u(e,l),u(e,n),u(e,r),F[i].m(r,null),u(e,s),u(e,a),x[c].m(a,null),u(e,p),u(e,g),oe[d].m(g,null),u(e,b),u(e,y),T[E].m(y,null),u(e,j),q&&q.m(e,null),u(e,W),ae&&ae.m(e,null),C=!0,P||(O=[G(r,"click",t[13]),G(a,"click",t[14]),G(g,"click",t[15]),G(y,"click",generateEffectsSuggestions)],P=!0)},p(Y,re){var ue,Ne,pe,De,ge,Le;let Fe=i;i=S(Y),i!==Fe&&(ke(),D(F[Fe],1,1,()=>{F[Fe]=null}),ve(),o=F[i],o||(o=F[i]=L[i](Y),o.c()),B(o,1),o.m(r,null)),(!C||re[0]&1)&&(r.disabled=Y[0]);let ze=c;c=A(Y),c!==ze&&(ke(),D(x[ze],1,1,()=>{x[ze]=null}),ve(),h=x[c],h||(h=x[c]=w[c](Y),h.c()),B(h,1),h.m(a,null)),(!C||re[0]&1154&&m!==(m=Y[1]||!((Ne=(ue=Y[7])==null?void 0:ue.captions)!=null&&Ne.length)))&&(a.disabled=m);let Ce=d;d=Se(Y),d!==Ce&&(ke(),D(oe[Ce],1,1,()=>{oe[Ce]=null}),ve(),k=oe[d],k||(k=oe[d]=J[d](Y),k.c()),B(k,1),k.m(g,null)),(!C||re[0]&1156&&v!==(v=Y[2]||!((De=(pe=Y[7])==null?void 0:pe.captions)!=null&&De.length)))&&(g.disabled=v),(!C||re[0]&1152&&M!==(M=generatingEffects||!((Le=(ge=Y[7])==null?void 0:ge.captions)!=null&&Le.length)))&&(y.disabled=M),Y[6].length>0?q?(q.p(Y,re),re[0]&64&&B(q,1)):(q=vl(Y),q.c(),B(q,1),q.m(e,W)):q&&(ke(),D(q,1,1,()=>{q=null}),ve()),Y[9]?ae?ae.p(Y,re):(ae=wl(Y),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null)},i(Y){C||(B(o),B(h),B(k),B(z),B(q),C=!0)},o(Y){D(o),D(h),D(k),D(z),D(q),C=!1},d(Y){Y&&R(e),F[i].d(),x[c].d(),oe[d].d(),T[E].d(),q&&q.d(),ae&&ae.d(),P=!1,ye(O)}}}function Wr(t){let e,l,n,r,i,o,s,a,c,h,m,p,g;const d=[Vr,Ur],k=[];function v(y,E){return y[5]?0:1}a=v(t),c=k[a]=d[a](t);let b=t[4].length>0&&xl(t);return{c(){e=_("div"),l=_("h3"),l.textContent="B-Roll Library",n=$(),r=_("div"),i=_("input"),o=$(),s=_("button"),c.c(),h=$(),b&&b.c(),f(l,"class","font-semibold text-lg text-white"),f(i,"type","text"),f(i,"placeholder","Search stock footage..."),f(i,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),s.disabled=t[5],f(s,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(y,E){N(y,e,E),u(e,l),u(e,n),u(e,r),u(r,i),Ke(i,t[3]),u(r,o),u(r,s),k[a].m(s,null),u(e,h),b&&b.m(e,null),m=!0,p||(g=[G(i,"input",t[30]),G(i,"keydown",t[31]),G(s,"click",t[16])],p=!0)},p(y,E){E[0]&8&&i.value!==y[3]&&Ke(i,y[3]);let z=a;a=v(y),a!==z&&(ke(),D(k[z],1,1,()=>{k[z]=null}),ve(),c=k[a],c||(c=k[a]=d[a](y),c.c()),B(c,1),c.m(s,null)),(!m||E[0]&32)&&(s.disabled=y[5]),y[4].length>0?b?(b.p(y,E),E[0]&16&&B(b,1)):(b=xl(y),b.c(),B(b,1),b.m(e,null)):b&&(ke(),D(b,1,1,()=>{b=null}),ve())},i(y){m||(B(c),B(b),m=!0)},o(y){D(c),D(b),m=!1},d(y){y&&R(e),k[a].d(),b&&b.d(),p=!1,ye(g)}}}function zr(t){var Rt,Wt;let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y,E,z,M=(((Wt=(Rt=t[7])==null?void 0:Rt.style)==null?void 0:Wt.fontSize)||42)+"",j,W,C,P,O,L,F,S,w,x,A,J,oe,Se,K,T,Q,q,ae,Y,re,Fe,ze,Ce=U(Object.entries($t)),ue=[];for(let H=0;H<Ce.length;H+=1)ue[H]=Cl(pl(t,Ce,H));let Ne=U(t[10]),pe=[];for(let H=0;H<Ne.length;H+=1)pe[H]=Sl(hl(t,Ne,H));let De=U(t[11]),ge=[];for(let H=0;H<De.length;H+=1)ge[H]=El(dl(t,De,H));let Le=U(t[12]),be=[];for(let H=0;H<Le.length;H+=1)be[H]=Ml(fl(t,Le,H));let _t=U(["none","light","medium","heavy"]),We=[];for(let H=0;H<4;H+=1)We[H]=Tl(ul(t,_t,H));return{c(){var H,he;e=_("div"),l=_("div"),n=_("h3"),n.textContent="Style Presets",r=$(),i=_("div");for(let ie=0;ie<ue.length;ie+=1)ue[ie].c();o=$(),s=_("div"),a=_("h3"),a.textContent="Typography",c=$(),h=_("div"),m=_("label"),m.textContent="Font Family",p=$(),g=_("select");for(let ie=0;ie<pe.length;ie+=1)pe[ie].c();k=$(),v=_("div"),b=_("label"),y=_("span"),y.textContent="Font Size",E=$(),z=_("span"),j=V(M),W=V("px"),C=$(),P=_("input"),L=$(),F=_("div"),S=_("label"),S.textContent="Position",w=$(),x=_("div");for(let ie=0;ie<ge.length;ie+=1)ge[ie].c();A=$(),J=_("div"),oe=_("label"),oe.textContent="Animation",Se=$(),K=_("select");for(let ie=0;ie<be.length;ie+=1)be[ie].c();Q=$(),q=_("div"),ae=_("label"),ae.textContent="Text Shadow",Y=$(),re=_("div");for(let ie=0;ie<4;ie+=1)We[ie].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(a,"class","font-semibold text-lg text-white"),f(m,"class","text-sm text-dark-text-light"),f(g,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(h,"class","space-y-2"),f(z,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(P,"type","range"),f(P,"min","20"),f(P,"max","80"),P.value=O=((he=(H=t[7])==null?void 0:H.style)==null?void 0:he.fontSize)||42,f(P,"class","w-full"),f(v,"class","space-y-2"),f(S,"class","text-sm text-dark-text-light"),f(x,"class","flex gap-2"),f(F,"class","space-y-2"),f(oe,"class","text-sm text-dark-text-light"),f(K,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(J,"class","space-y-2"),f(ae,"class","text-sm text-dark-text-light"),f(re,"class","flex gap-2"),f(q,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(H,he){var ie,Qe,Xe,et;N(H,e,he),u(e,l),u(l,n),u(l,r),u(l,i);for(let le=0;le<ue.length;le+=1)ue[le]&&ue[le].m(i,null);u(e,o),u(e,s),u(s,a),u(s,c),u(s,h),u(h,m),u(h,p),u(h,g);for(let le=0;le<pe.length;le+=1)pe[le]&&pe[le].m(g,null);at(g,((Qe=(ie=t[7])==null?void 0:ie.style)==null?void 0:Qe.fontFamily)||"Inter"),u(s,k),u(s,v),u(v,b),u(b,y),u(b,E),u(b,z),u(z,j),u(z,W),u(v,C),u(v,P),u(s,L),u(s,F),u(F,S),u(F,w),u(F,x);for(let le=0;le<ge.length;le+=1)ge[le]&&ge[le].m(x,null);u(s,A),u(s,J),u(J,oe),u(J,Se),u(J,K);for(let le=0;le<be.length;le+=1)be[le]&&be[le].m(K,null);at(K,((et=(Xe=t[7])==null?void 0:Xe.style)==null?void 0:et.animation)||"pop"),u(s,Q),u(s,q),u(q,ae),u(q,Y),u(q,re);for(let le=0;le<4;le+=1)We[le]&&We[le].m(re,null);Fe||(ze=[G(g,"change",t[25]),G(P,"input",t[26]),G(K,"change",t[28])],Fe=!0)},p(H,he){var ie,Qe,Xe,et,le,zt,Nt,Dt,Lt,Pt,At,It;if(he&0){Ce=U(Object.entries($t));let I;for(I=0;I<Ce.length;I+=1){const xe=pl(H,Ce,I);ue[I]?ue[I].p(xe,he):(ue[I]=Cl(xe),ue[I].c(),ue[I].m(i,null))}for(;I<ue.length;I+=1)ue[I].d(1);ue.length=Ce.length}if(he[0]&1024){Ne=U(H[10]);let I;for(I=0;I<Ne.length;I+=1){const xe=hl(H,Ne,I);pe[I]?pe[I].p(xe,he):(pe[I]=Sl(xe),pe[I].c(),pe[I].m(g,null))}for(;I<pe.length;I+=1)pe[I].d(1);pe.length=Ne.length}if(he[0]&1152&&d!==(d=((Qe=(ie=H[7])==null?void 0:ie.style)==null?void 0:Qe.fontFamily)||"Inter")&&at(g,((et=(Xe=H[7])==null?void 0:Xe.style)==null?void 0:et.fontFamily)||"Inter"),he[0]&128&&M!==(M=(((zt=(le=H[7])==null?void 0:le.style)==null?void 0:zt.fontSize)||42)+"")&&de(j,M),he[0]&1152&&O!==(O=((Dt=(Nt=H[7])==null?void 0:Nt.style)==null?void 0:Dt.fontSize)||42)&&(P.value=O),he[0]&2176){De=U(H[11]);let I;for(I=0;I<De.length;I+=1){const xe=dl(H,De,I);ge[I]?ge[I].p(xe,he):(ge[I]=El(xe),ge[I].c(),ge[I].m(x,null))}for(;I<ge.length;I+=1)ge[I].d(1);ge.length=De.length}if(he[0]&4096){Le=U(H[12]);let I;for(I=0;I<Le.length;I+=1){const xe=fl(H,Le,I);be[I]?be[I].p(xe,he):(be[I]=Ml(xe),be[I].c(),be[I].m(K,null))}for(;I<be.length;I+=1)be[I].d(1);be.length=Le.length}if(he[0]&1152&&T!==(T=((Pt=(Lt=H[7])==null?void 0:Lt.style)==null?void 0:Pt.animation)||"pop")&&at(K,((It=(At=H[7])==null?void 0:At.style)==null?void 0:It.animation)||"pop"),he[0]&128){_t=U(["none","light","medium","heavy"]);let I;for(I=0;I<4;I+=1){const xe=ul(H,_t,I);We[I]?We[I].p(xe,he):(We[I]=Tl(xe),We[I].c(),We[I].m(re,null))}for(;I<4;I+=1)We[I].d(1)}},i:Z,o:Z,d(H){H&&R(e),fe(ue,H),fe(pe,H),fe(ge,H),fe(be,H),fe(We,H),Fe=!1,ye(ze)}}}function Nr(t){var oe,Se;let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y,E,z,M,j,W,C,P,O,L=((Se=(oe=t[7])==null?void 0:oe.style)==null?void 0:Se.highlightWords)&&Bl(t);function F(K,T){var Q,q;return(q=(Q=K[7])==null?void 0:Q.captions)!=null&&q.length?Yr:qr}let S=F(t),w=S(t);function x(K,T){var Q,q;return(q=(Q=K[7])==null?void 0:Q.captions)!=null&&q.length?Kr:Gr}let A=x(t),J=A(t);return{c(){var K,T,Q,q;e=_("div"),l=_("h3"),l.textContent="Caption Settings",n=$(),r=_("div"),i=_("label"),o=_("span"),o.textContent="Word-by-word highlighting",s=$(),a=_("input"),h=$(),m=_("label"),p=_("span"),p.textContent="Highlight active words",g=$(),d=_("input"),v=$(),L&&L.c(),b=$(),y=_("div"),E=_("h3"),E.textContent="Emoji Editor",z=$(),w.c(),M=$(),j=_("div"),W=_("h3"),W.textContent="Keyword Editor",C=$(),J.c(),f(l,"class","font-semibold text-lg text-white"),f(o,"class","text-dark-text-light"),f(a,"type","checkbox"),a.checked=c=(T=(K=t[7])==null?void 0:K.style)==null?void 0:T.wordByWord,f(a,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(p,"class","text-dark-text-light"),f(d,"type","checkbox"),d.checked=k=(q=(Q=t[7])==null?void 0:Q.style)==null?void 0:q.highlightWords,f(d,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(m,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(E,"class","font-semibold text-lg text-white"),f(y,"class","space-y-4"),f(W,"class","font-semibold text-lg text-white"),f(j,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(K,T){N(K,e,T),u(e,l),u(e,n),u(e,r),u(r,i),u(i,o),u(i,s),u(i,a),u(r,h),u(r,m),u(m,p),u(m,g),u(m,d),u(r,v),L&&L.m(r,null),u(e,b),u(e,y),u(y,E),u(y,z),w.m(y,null),u(e,M),u(e,j),u(j,W),u(j,C),J.m(j,null),P||(O=[G(a,"change",t[18]),G(d,"change",t[19])],P=!0)},p(K,T){var Q,q,ae,Y,re,Fe;T[0]&1152&&c!==(c=(q=(Q=K[7])==null?void 0:Q.style)==null?void 0:q.wordByWord)&&(a.checked=c),T[0]&1152&&k!==(k=(Y=(ae=K[7])==null?void 0:ae.style)==null?void 0:Y.highlightWords)&&(d.checked=k),(Fe=(re=K[7])==null?void 0:re.style)!=null&&Fe.highlightWords?L?L.p(K,T):(L=Bl(K),L.c(),L.m(r,null)):L&&(L.d(1),L=null),S===(S=F(K))&&w?w.p(K,T):(w.d(1),w=S(K),w&&(w.c(),w.m(y,null))),A===(A=x(K))&&J?J.p(K,T):(J.d(1),J=A(K),J&&(J.c(),J.m(j,null)))},i:Z,o:Z,d(K){K&&R(e),L&&L.d(),w.d(),J.d(),P=!1,ye(O)}}}function Dr(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=V(`
          Generate Viral Content`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Lr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=V(`
          Generating Viral Content...`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Pr(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=V(`
          Auto-Generate Emojis`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Ar(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=V(`
          Generating Emojis...`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Ir(t){let e,l,n;return e=new Bt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=V(`
          Generate B-Roll Suggestions`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function jr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=V(`
          Generating B-Roll...`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Or(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=V(`
          Auto-Generate Zoom & Sound Effects`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function Hr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=V(`
          Generating Effects...`)},m(r,i){X(e,r,i),N(r,l,i),n=!0},i(r){n||(B(e.$$.fragment,r),n=!0)},o(r){D(e.$$.fragment,r),n=!1},d(r){r&&R(l),ee(e,r)}}}function vl(t){let e,l,n,r,i,o=U(t[6]),s=[];for(let c=0;c<o.length;c+=1)s[c]=yl(al(t,o,c));const a=c=>D(s[c],1,1,()=>{s[c]=null});return{c(){e=_("div"),l=_("h4"),l.textContent="Suggested B-Roll Clips:",n=$(),r=_("div");for(let c=0;c<s.length;c+=1)s[c].c();f(l,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(c,h){N(c,e,h),u(e,l),u(e,n),u(e,r);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(r,null);i=!0},p(c,h){if(h[0]&64){o=U(c[6]);let m;for(m=0;m<o.length;m+=1){const p=al(c,o,m);s[m]?(s[m].p(p,h),B(s[m],1)):(s[m]=yl(p),s[m].c(),B(s[m],1),s[m].m(r,null))}for(ke(),m=o.length;m<s.length;m+=1)a(m);ve()}},i(c){if(!i){for(let h=0;h<o.length;h+=1)B(s[h]);i=!0}},o(c){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)D(s[h]);i=!1},d(c){c&&R(e),fe(s,c)}}}function yl(t){let e,l,n,r,i,o,s,a,c=t[62].keyword+"",h,m,p,g,d,k;o=new pn({props:{class:"w-8 h-8 text-white"}});function v(){return t[33](t[62])}return{c(){e=_("div"),l=_("img"),r=$(),i=_("div"),te(o.$$.fragment),s=$(),a=_("span"),h=V(c),m=$(),Ge(l.src,n=t[62].thumbnail)||f(l,"src",n),f(l,"alt","B-Roll thumbnail"),f(l,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(a,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",p="Add to timeline: "+t[62].keyword)},m(b,y){N(b,e,y),u(e,l),u(e,r),u(e,i),X(o,i,null),u(e,s),u(e,a),u(a,h),u(e,m),g=!0,d||(k=G(e,"click",v),d=!0)},p(b,y){t=b,(!g||y[0]&64&&!Ge(l.src,n=t[62].thumbnail))&&f(l,"src",n),(!g||y[0]&64)&&c!==(c=t[62].keyword+"")&&de(h,c),(!g||y[0]&64&&p!==(p="Add to timeline: "+t[62].keyword))&&f(e,"title",p)},i(b){g||(B(o.$$.fragment,b),g=!0)},o(b){D(o.$$.fragment,b),g=!1},d(b){b&&R(e),ee(o),d=!1,k()}}}function wl(t){let e,l,n,r,i,o,s,a,c,h,m=t[9].descriptions[0]+"",p,g,d,k,v,b,y=t[9].hashtags.join(" ")+"",E,z=U(t[9].hooks),M=[];for(let j=0;j<z.length;j+=1)M[j]=$l(sl(t,z,j));return{c(){e=_("div"),l=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=$(),i=_("ul");for(let j=0;j<M.length;j+=1)M[j].c();o=$(),s=_("div"),a=_("h4"),a.textContent="Description",c=$(),h=_("p"),p=V(m),g=$(),d=_("div"),k=_("h4"),k.textContent="Hashtags",v=$(),b=_("p"),E=V(y),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(i,"class","space-y-2"),f(l,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(a,"class","font-medium text-sm text-dark-text-light mb-2"),f(h,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(d,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(j,W){N(j,e,W),u(e,l),u(l,n),u(l,r),u(l,i);for(let C=0;C<M.length;C+=1)M[C]&&M[C].m(i,null);u(e,o),u(e,s),u(s,a),u(s,c),u(s,h),u(h,p),u(e,g),u(e,d),u(d,k),u(d,v),u(d,b),u(b,E)},p(j,W){if(W[0]&512){z=U(j[9].hooks);let C;for(C=0;C<z.length;C+=1){const P=sl(j,z,C);M[C]?M[C].p(P,W):(M[C]=$l(P),M[C].c(),M[C].m(i,null))}for(;C<M.length;C+=1)M[C].d(1);M.length=z.length}W[0]&512&&m!==(m=j[9].descriptions[0]+"")&&de(p,m),W[0]&512&&y!==(y=j[9].hashtags.join(" ")+"")&&de(E,y)},d(j){j&&R(e),fe(M,j)}}}function $l(t){let e,l=t[65]+"",n;return{c(){e=_("li"),n=V(l),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,i){N(r,e,i),u(e,n)},p(r,i){i[0]&512&&l!==(l=r[65]+"")&&de(n,l)},d(r){r&&R(e)}}}function Ur(t){let e,l;return{c(){e=ft("svg"),l=ft("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){N(n,e,r),u(e,l)},i:Z,o:Z,d(n){n&&R(e)}}}function Vr(t){let e,l;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function xl(t){let e,l,n=U(t[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Fl(cl(t,n,o));const i=o=>D(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(o,s){N(o,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);l=!0},p(o,s){if(s[0]&131088){n=U(o[4]);let a;for(a=0;a<n.length;a+=1){const c=cl(o,n,a);r[a]?(r[a].p(c,s),B(r[a],1)):(r[a]=Fl(c),r[a].c(),B(r[a],1),r[a].m(e,null))}for(ke(),a=n.length;a<r.length;a+=1)i(a);ve()}},i(o){if(!l){for(let s=0;s<n.length;s+=1)B(r[s]);l=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)D(r[s]);l=!1},d(o){o&&R(e),fe(r,o)}}}function Fl(t){let e,l,n,r,i,o,s,a,c,h;o=new pn({props:{class:"w-8 h-8 text-white"}});function m(){return t[32](t[62])}return{c(){e=_("button"),l=_("img"),r=$(),i=_("div"),te(o.$$.fragment),s=$(),Ge(l.src,n=t[62].thumbnail)||f(l,"src",n),f(l,"alt",""),f(l,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(p,g){N(p,e,g),u(e,l),u(e,r),u(e,i),X(o,i,null),u(e,s),a=!0,c||(h=G(e,"click",m),c=!0)},p(p,g){t=p,(!a||g[0]&16&&!Ge(l.src,n=t[62].thumbnail))&&f(l,"src",n)},i(p){a||(B(o.$$.fragment,p),a=!0)},o(p){D(o.$$.fragment,p),a=!1},d(p){p&&R(e),ee(o),c=!1,h()}}}function Cl(t){let e,l,n,r,i,o,s;function a(){return t[24](t[58])}return{c(){e=_("button"),l=_("div"),l.textContent=`${t[58].replace("-"," ")}`,n=$(),r=_("div"),r.textContent=`${t[59].fontWeight}  ${t[59].animation}`,i=$(),f(l,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(c,h){N(c,e,h),u(e,l),u(e,n),u(e,r),u(e,i),o||(s=G(e,"click",a),o=!0)},p(c,h){t=c},d(c){c&&R(e),o=!1,s()}}}function Sl(t){let e,l=t[55]+"",n;return{c(){e=_("option"),n=V(l),e.__value=t[55],Ke(e,e.__value)},m(r,i){N(r,e,i),u(e,n)},p:Z,d(r){r&&R(e)}}}function El(t){let e,l=t[52].label+"",n,r,i,o,s;function a(){return t[27](t[52])}return{c(){var c,h;e=_("button"),n=V(l),r=$(),f(e,"class",i="flex-1 p-2 rounded-lg border text-sm transition "+((((h=(c=t[7])==null?void 0:c.style)==null?void 0:h.position)||"bottom")===t[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,h){N(c,e,h),u(e,n),u(e,r),o||(s=G(e,"click",a),o=!0)},p(c,h){var m,p;t=c,h[0]&1152&&i!==(i="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(m=t[7])==null?void 0:m.style)==null?void 0:p.position)||"bottom")===t[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(c){c&&R(e),o=!1,s()}}}function Ml(t){let e,l=t[49].label+"",n;return{c(){e=_("option"),n=V(l),e.__value=t[49].id,Ke(e,e.__value)},m(r,i){N(r,e,i),u(e,n)},p:Z,d(r){r&&R(e)}}}function Tl(t){let e,l,n,r,i,o;function s(){return t[29](t[46])}return{c(){var a,c;e=_("button"),l=V(t[46]),n=$(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((c=(a=t[7])==null?void 0:a.style)==null?void 0:c.textShadow)||"medium")===t[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,c){N(a,e,c),u(e,l),u(e,n),i||(o=G(e,"click",s),i=!0)},p(a,c){var h,m;t=a,c[0]&1152&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((m=(h=t[7])==null?void 0:h.style)==null?void 0:m.textShadow)||"medium")===t[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(a){a&&R(e),i=!1,o()}}}function Bl(t){let e,l,n,r,i=U(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),o=[];for(let s=0;s<5;s+=1)o[s]=Rl(kl(t,i,s));return{c(){e=_("div"),l=_("label"),l.textContent="Highlight Color",n=$(),r=_("div");for(let s=0;s<5;s+=1)o[s].c();f(l,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,a){N(s,e,a),u(e,l),u(e,n),u(e,r);for(let c=0;c<5;c+=1)o[c]&&o[c].m(r,null)},p(s,a){if(a[0]&128){i=U(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let c;for(c=0;c<5;c+=1){const h=kl(s,i,c);o[c]?o[c].p(h,a):(o[c]=Rl(h),o[c].c(),o[c].m(r,null))}for(;c<5;c+=1)o[c].d(1)}},d(s){s&&R(e),fe(o,s)}}}function Rl(t){let e,l,n,r;function i(){return t[20](t[43])}return{c(){var o,s;e=_("button"),f(e,"class",l="w-8 h-8 rounded-lg border-2 transition "+((((s=(o=t[7])==null?void 0:o.style)==null?void 0:s.highlightColor)||"#FFD700")===t[43]?"border-primary scale-110":"border-transparent hover:border-primary-light")),se(e,"background-color",t[43])},m(o,s){N(o,e,s),n||(r=G(e,"click",i),n=!0)},p(o,s){var a,c;t=o,s[0]&1152&&l!==(l="w-8 h-8 rounded-lg border-2 transition "+((((c=(a=t[7])==null?void 0:a.style)==null?void 0:c.highlightColor)||"#FFD700")===t[43]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",l)},d(o){o&&R(e),n=!1,r()}}}function qr(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(l,n){N(l,e,n)},p:Z,d(l){l&&R(e)}}}function Yr(t){let e,l=U(t[7].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=zl(_l(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){N(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){l=U(r[7].captions);let o;for(o=0;o<l.length;o+=1){const s=_l(r,l,o);n[o]?n[o].p(s,i):(n[o]=zl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&R(e),fe(n,r)}}}function Wl(t){let e,l,n=t[37].text+"",r,i,o,s,a,c;function h(){t[21].call(o,t[42],t[39])}function m(...p){return t[22](t[34],t[39],...p)}return{c(){e=_("div"),l=_("span"),r=V(n),i=$(),o=_("input"),s=$(),f(l,"class","text-white text-sm mr-1"),f(o,"type","text"),f(o,"maxlength","2"),f(o,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(o,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,g){N(p,e,g),u(e,l),u(l,r),u(e,i),u(e,o),Ke(o,t[37].emoji),u(e,s),a||(c=[G(o,"input",h),G(o,"input",m)],a=!0)},p(p,g){t=p,g[0]&128&&n!==(n=t[37].text+"")&&de(r,n),g[0]&1152&&o.value!==t[37].emoji&&Ke(o,t[37].emoji)},d(p){p&&R(e),a=!1,ye(c)}}}function zl(t){let e,l,n,r=t[34].start.toFixed(2)+"",i,o,s=t[34].end.toFixed(2)+"",a,c,h,m,p,g=U(t[34].words),d=[];for(let k=0;k<g.length;k+=1)d[k]=Wl(bl(t,g,k));return{c(){e=_("div"),l=_("p"),n=V("Segment: "),i=V(r),o=V("s - "),a=V(s),c=V("s"),h=$(),m=_("div");for(let k=0;k<d.length;k+=1)d[k].c();p=$(),f(l,"class","text-xs text-dark-text mb-2"),f(m,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){N(k,e,v),u(e,l),u(l,n),u(l,i),u(l,o),u(l,a),u(l,c),u(e,h),u(e,m);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(m,null);u(e,p)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&de(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&de(a,s),v[0]&128){g=U(k[34].words);let b;for(b=0;b<g.length;b+=1){const y=bl(k,g,b);d[b]?d[b].p(y,v):(d[b]=Wl(y),d[b].c(),d[b].m(m,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},d(k){k&&R(e),fe(d,k)}}}function Gr(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(l,n){N(l,e,n)},p:Z,d(l){l&&R(e)}}}function Kr(t){let e,l=U(t[7].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=Dl(gl(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){N(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){l=U(r[7].captions);let o;for(o=0;o<l.length;o+=1){const s=gl(r,l,o);n[o]?n[o].p(s,i):(n[o]=Dl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&R(e),fe(n,r)}}}function Nl(t){let e,l,n=t[37].text+"",r,i,o,s,a,c,h;function m(...p){return t[23](t[34],t[39],...p)}return{c(){e=_("div"),l=_("span"),r=V(n),i=$(),o=_("input"),a=$(),f(l,"class","text-white text-sm mr-1"),f(o,"type","checkbox"),o.checked=s=t[37].isKeyword||!1,f(o,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,g){N(p,e,g),u(e,l),u(l,r),u(e,i),u(e,o),u(e,a),c||(h=G(o,"change",m),c=!0)},p(p,g){t=p,g[0]&128&&n!==(n=t[37].text+"")&&de(r,n),g[0]&1152&&s!==(s=t[37].isKeyword||!1)&&(o.checked=s)},d(p){p&&R(e),c=!1,h()}}}function Dl(t){let e,l,n,r=t[34].start.toFixed(2)+"",i,o,s=t[34].end.toFixed(2)+"",a,c,h,m,p,g=U(t[34].words),d=[];for(let k=0;k<g.length;k+=1)d[k]=Nl(ml(t,g,k));return{c(){e=_("div"),l=_("p"),n=V("Segment: "),i=V(r),o=V("s - "),a=V(s),c=V("s"),h=$(),m=_("div");for(let k=0;k<d.length;k+=1)d[k].c();p=$(),f(l,"class","text-xs text-dark-text mb-2"),f(m,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){N(k,e,v),u(e,l),u(l,n),u(l,i),u(l,o),u(l,a),u(l,c),u(e,h),u(e,m);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(m,null);u(e,p)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&de(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&de(a,s),v[0]&128){g=U(k[34].words);let b;for(b=0;b<g.length;b+=1){const y=ml(k,g,b);d[b]?d[b].p(y,v):(d[b]=Nl(y),d[b].c(),d[b].m(m,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},d(k){k&&R(e),fe(d,k)}}}function Zr(t){let e,l,n,r;const i=[Nr,zr,Wr,Rr],o=[];function s(a,c){return a[8]==="captions"?0:a[8]==="style"?1:a[8]==="broll"?2:a[8]==="ai-tools"?3:-1}return~(l=s(t))&&(n=o[l]=i[l](t)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(a,c){N(a,e,c),~l&&o[l].m(e,null),r=!0},p(a,c){let h=l;l=s(a),l===h?~l&&o[l].p(a,c):(n&&(ke(),D(o[h],1,1,()=>{o[h]=null}),ve()),~l?(n=o[l],n?n.p(a,c):(n=o[l]=i[l](a),n.c()),B(n,1),n.m(e,null)):n=null)},i(a){r||(B(n),r=!0)},o(a){D(n),r=!1},d(a){a&&R(e),~l&&o[l].d()}}}function Jr(t,e,l){let n,r,i;Re(t,ce,T=>l(7,n=T)),Re(t,xt,T=>l(8,r=T)),Re(t,ol,T=>l(9,i=T));let o=!1,s=!1,a=!1,c="",h=[],m=!1,p=[];const g=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],d=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],k=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function v(){if(n){l(0,o=!0);try{const T=n.captions.map(q=>q.text).join(" "),Q=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:T})});if(Q.ok){const q=await Q.json();ol.set(q)}}catch(T){console.error("AI generation failed:",T)}finally{l(0,o=!1)}}}async function b(){if(!(!n||!n.captions.length)){l(1,s=!0);try{const T=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(T.ok){const Q=await T.json();ce.update(q=>({...q,captions:Q.captions,updatedAt:new Date}))}}catch(T){console.error("Emoji generation failed:",T)}finally{l(1,s=!1)}}}async function y(){if(!(!n||!n.captions.length)){l(2,a=!0),l(6,p=[]);try{const T=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(T.ok){const Q=await T.json();l(6,p=Q.broll_clips)}}catch(T){console.error("B-Roll generation failed:",T)}finally{l(2,a=!1)}}}async function E(){if(c){l(5,m=!0);try{const T=await fetch(`/api/broll/search?q=${encodeURIComponent(c)}`);if(T.ok){const Q=await T.json();l(4,h=Q.results||[])}}catch(T){console.error("B-Roll search failed:",T)}finally{l(5,m=!1)}}}function z(T){n&&ce.addBRoll({id:crypto.randomUUID(),url:T.video_url,thumbnail:T.thumbnail,start:n.videoDuration*.3,duration:5,source:T.source})}const M=T=>ce.updateStyle({wordByWord:T.target.checked}),j=T=>ce.updateStyle({highlightWords:T.target.checked}),W=T=>ce.updateStyle({highlightColor:T});function C(T,Q){T[Q].emoji=this.value,l(10,g)}const P=(T,Q,q)=>ce.updateWordEmoji(T.id,Q,q.target.value),O=(T,Q,q)=>ce.updateWordIsKeyword(T.id,Q,q.target.checked),L=T=>ce.applyPreset(T),F=T=>ce.updateStyle({fontFamily:T.target.value}),S=T=>ce.updateStyle({fontSize:parseInt(T.target.value)}),w=T=>ce.updateStyle({position:T.id}),x=T=>ce.updateStyle({animation:T.target.value}),A=T=>ce.updateStyle({textShadow:T});function J(){c=this.value,l(3,c)}return[o,s,a,c,h,m,p,n,r,i,g,d,k,v,b,y,E,z,M,j,W,C,P,O,L,F,S,w,x,A,J,T=>T.key==="Enter"&&E(),T=>z(T),T=>ce.addBRoll({...T,id:crypto.randomUUID()})]}class Qr extends $e{constructor(e){super(),we(this,e,Jr,Zr,me,{},null,[-1,-1,-1])}}function Ll(t,e,l){const n=t.slice();return n[27]=e[l],n}function Pl(t,e,l){const n=t.slice();return n[27]=e[l],n}function Al(t,e,l){const n=t.slice();return n[32]=e[l],n}function Il(t,e,l){const n=t.slice();return n[35]=e[l],n}function jl(t,e,l){const n=t.slice();return n[38]=e[l],n[40]=l,n}function Ol(t){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),se(e,"top",t[40]*10/t[1]*100+"%")},m(l,n){N(l,e,n)},p(l,n){n[0]&2&&se(e,"top",l[40]*10/l[1]*100+"%")},d(l){l&&R(e)}}}function Hl(t){let e,l,n=t[35].text.slice(0,30)+"",r,i=t[35].text.length>30?"...":"",o,s,a,c,h,m,p;function g(){return t[16](t[35])}return{c(){e=_("button"),l=_("span"),r=V(n),o=V(i),s=$(),f(l,"class","truncate w-full text-center leading-tight text-xs"),f(e,"class",a="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(t[7].selectedCaptionId===t[35].id?"ring-2 ring-primary":"")),f(e,"style",c=t[12](t[35])),f(e,"title",h=t[35].text)},m(d,k){N(d,e,k),u(e,l),u(l,r),u(l,o),u(e,s),m||(p=G(e,"click",Et(g)),m=!0)},p(d,k){t=d,k[0]&64&&n!==(n=t[35].text.slice(0,30)+"")&&de(r,n),k[0]&64&&i!==(i=t[35].text.length>30?"...":"")&&de(o,i),k[0]&192&&a!==(a="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(t[7].selectedCaptionId===t[35].id?"ring-2 ring-primary":""))&&f(e,"class",a),k[0]&64&&c!==(c=t[12](t[35]))&&f(e,"style",c),k[0]&64&&h!==(h=t[35].text)&&f(e,"title",h)},d(d){d&&R(e),m=!1,p()}}}function Ul(t){let e,l=[],n=new Map,r,i=U(t[5]);const o=s=>s[32].id;for(let s=0;s<i.length;s+=1){let a=Al(t,i,s),c=o(a);n.set(c,l[s]=Vl(c,a))}return{c(){e=_("div");for(let s=0;s<l.length;s+=1)l[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,a){N(s,e,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);r=!0},p(s,a){a[0]&2338&&(i=U(s[5]),ke(),l=Tt(l,a,o,1,s,i,n,e,Ln,Vl,null,Al),ve())},i(s){if(!r){for(let a=0;a<i.length;a+=1)B(l[a]);r=!0}},o(s){for(let a=0;a<l.length;a+=1)D(l[a]);r=!1},d(s){s&&R(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Vl(t,e){let l,n,r,i,o,s,a,c,h,m;n=new Bt({props:{class:"w-3 h-3 text-white"}}),o=new cr({props:{class:"w-3 h-3"}});function p(){return e[17](e[32])}function g(...d){return e[18](e[32],...d)}return{key:t,first:null,c(){l=_("div"),te(n.$$.fragment),r=$(),i=_("button"),te(o.$$.fragment),s=$(),f(i,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(i,"title","Remove B-Roll Clip"),f(l,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),se(l,"top",e[32].start/e[1]*100+"%"),se(l,"height",e[32].duration/e[1]*100+"%"),f(l,"title",a="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=l},m(d,k){N(d,l,k),X(n,l,null),u(l,r),u(l,i),X(o,i,null),u(l,s),c=!0,h||(m=[G(i,"click",Et(p)),G(l,"mousedown",g)],h=!0)},p(d,k){e=d,(!c||k[0]&34)&&se(l,"top",e[32].start/e[1]*100+"%"),(!c||k[0]&34)&&se(l,"height",e[32].duration/e[1]*100+"%"),(!c||k[0]&32&&a!==(a="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(l,"title",a)},i(d){c||(B(n.$$.fragment,d),B(o.$$.fragment,d),c=!0)},o(d){D(n.$$.fragment,d),D(o.$$.fragment,d),c=!1},d(d){d&&R(l),ee(n),ee(o),h=!1,ye(m)}}}function ql(t){let e,l=[],n=new Map,r=U(t[4]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Pl(t,r,o),a=i(s);n.set(a,l[o]=Yl(a,s))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(o,s){N(o,e,s);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(o,s){s[0]&18&&(r=U(o[4]),l=Tt(l,s,i,1,o,r,n,e,hn,Yl,null,Pl))},d(o){o&&R(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Yl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),se(l,"top",e[27].start/e[1]*100+"%"),se(l,"height",(e[27].end-e[27].start)/e[1]*100+"%"),f(l,"title",n="Zoom: "+e[27].type+" at "+Je(e[27].start)),this.first=l},m(r,i){N(r,l,i)},p(r,i){e=r,i[0]&18&&se(l,"top",e[27].start/e[1]*100+"%"),i[0]&18&&se(l,"height",(e[27].end-e[27].start)/e[1]*100+"%"),i[0]&16&&n!==(n="Zoom: "+e[27].type+" at "+Je(e[27].start))&&f(l,"title",n)},d(r){r&&R(l)}}}function Gl(t){let e,l=[],n=new Map,r=U(t[3]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Ll(t,r,o),a=i(s);n.set(a,l[o]=Kl(a,s))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(o,s){N(o,e,s);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(o,s){s[0]&10&&(r=U(o[3]),l=Tt(l,s,i,1,o,r,n,e,hn,Kl,null,Ll))},d(o){o&&R(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Kl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),se(l,"top",e[27].start/e[1]*100+"%"),f(l,"title",n="Sound: "+e[27].type+" at "+Je(e[27].start)),this.first=l},m(r,i){N(r,l,i)},p(r,i){e=r,i[0]&10&&se(l,"top",e[27].start/e[1]*100+"%"),i[0]&8&&n!==(n="Sound: "+e[27].type+" at "+Je(e[27].start))&&f(l,"title",n)},d(r){r&&R(l)}}}function Xr(t){let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y=Je(t[2])+"",E,z,M,j,W=U(Array(Math.max(1,Math.ceil(t[1]/10)))),C=[];for(let w=0;w<W.length;w+=1)C[w]=Ol(jl(t,W,w));let P=U(t[6]),O=[];for(let w=0;w<P.length;w+=1)O[w]=Hl(Il(t,P,w));let L=t[5].length>0&&Ul(t),F=t[4].length>0&&ql(t),S=t[3].length>0&&Gl(t);return{c(){e=_("div"),l=_("div"),l.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=$(),r=_("div"),i=_("button"),o=_("div");for(let w=0;w<C.length;w+=1)C[w].c();s=$(),a=_("div");for(let w=0;w<O.length;w+=1)O[w].c();c=$(),L&&L.c(),h=$(),F&&F.c(),m=$(),S&&S.c(),p=$(),g=_("div"),d=_("div"),k=$(),v=_("div"),b=_("span"),E=V(y),f(l,"class","h-10 border-b border-dark-lighter flex items-center justify-center px-2 bg-dark-light"),f(o,"class","absolute inset-0 pointer-events-none"),f(a,"class","absolute top-0 bottom-0 left-2 right-2"),f(d,"class","absolute -left-1.5 -top-1 w-3 h-3 bg-red-500 rounded-full"),f(g,"class","absolute left-0 right-0 h-0.5 bg-red-500 z-10 pointer-events-none transition-all duration-75 ease-linear"),f(g,"style",t[13]()),f(i,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(i,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f(v,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(w,x){N(w,e,x),u(e,l),u(e,n),u(e,r),u(r,i),u(i,o);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(o,null);u(i,s),u(i,a);for(let A=0;A<O.length;A+=1)O[A]&&O[A].m(a,null);u(i,c),L&&L.m(i,null),u(i,h),F&&F.m(i,null),u(i,m),S&&S.m(i,null),u(i,p),u(i,g),u(g,d),t[19](i),u(e,k),u(e,v),u(v,b),u(b,E),z=!0,M||(j=G(i,"click",t[9]),M=!0)},p(w,x){if(x[0]&2){W=U(Array(Math.max(1,Math.ceil(w[1]/10))));let A;for(A=0;A<W.length;A+=1){const J=jl(w,W,A);C[A]?C[A].p(J,x):(C[A]=Ol(J),C[A].c(),C[A].m(o,null))}for(;A<C.length;A+=1)C[A].d(1);C.length=W.length}if(x[0]&5312){P=U(w[6]);let A;for(A=0;A<P.length;A+=1){const J=Il(w,P,A);O[A]?O[A].p(J,x):(O[A]=Hl(J),O[A].c(),O[A].m(a,null))}for(;A<O.length;A+=1)O[A].d(1);O.length=P.length}w[5].length>0?L?(L.p(w,x),x[0]&32&&B(L,1)):(L=Ul(w),L.c(),B(L,1),L.m(i,h)):L&&(ke(),D(L,1,1,()=>{L=null}),ve()),w[4].length>0?F?F.p(w,x):(F=ql(w),F.c(),F.m(i,m)):F&&(F.d(1),F=null),w[3].length>0?S?S.p(w,x):(S=Gl(w),S.c(),S.m(i,p)):S&&(S.d(1),S=null),(!z||x[0]&4)&&y!==(y=Je(w[2])+"")&&de(E,y)},i(w){z||(B(L),z=!0)},o(w){D(L),z=!1},d(w){w&&R(e),fe(C,w),fe(O,w),L&&L.d(),F&&F.d(),S&&S.d(),t[19](null),M=!1,j()}}}function ei(t,e,l){let n,r,i,o,s,a,c,h,m;Re(t,ce,w=>l(14,c=w)),Re(t,Pe,w=>l(15,h=w)),Re(t,rt,w=>l(7,m=w));let p,g=!1,d=null,k=0,v=0,b;Mt(()=>(b=p.getBoundingClientRect(),window.addEventListener("mousemove",E),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("mouseup",z)}));function y(w,x,A){w.button===0&&(g=!0,d=x,k=w.clientY,v=A,b=p.getBoundingClientRect(),w.preventDefault())}function E(w){var Se;if(!g||!d||!p)return;const J=(w.clientY-k)/b.height*n;let oe=v+J;oe=Math.max(0,Math.min(oe,n-(((Se=c.bRollClips.find(K=>K.id===d))==null?void 0:Se.duration)||0))),ce.updateBRollClipStart(d,oe)}function z(){g=!1,d=null}function M(w){if(!p||n<=0||g)return;const x=p.getBoundingClientRect(),A=w.clientY-x.top,oe=Math.max(0,Math.min(1,A/x.height))*n;Pe.setCurrentTime(oe),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:oe}}))}function j(w){rt.update(x=>({...x,selectedCaptionId:w.id})),Pe.setCurrentTime(w.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:w.start}}))}function W(w){ce.removeBRoll(w)}function C(w){const x=w.start/n*100,A=(w.end-w.start)/n*100;return`top: ${x}%; height: ${Math.max(1,A)}%;`}function P(){if(!n||n<=0)return"top: 0%;";const w=a/n*100;return`top: ${Math.max(0,Math.min(100,w))}%;`}const O=w=>j(w),L=w=>W(w.id),F=(w,x)=>y(x,w.id,w.start);function S(w){gt[w?"unshift":"push"](()=>{p=w,l(0,p)})}return t.$$.update=()=>{t.$$.dirty[0]&16384&&l(1,n=(c==null?void 0:c.videoDuration)||1),t.$$.dirty[0]&16384&&l(6,r=(c==null?void 0:c.captions)||[]),t.$$.dirty[0]&16384&&l(5,i=(c==null?void 0:c.bRollClips)||[]),t.$$.dirty[0]&16384&&l(4,o=(c==null?void 0:c.zoomEffects)||[]),t.$$.dirty[0]&16384&&l(3,s=(c==null?void 0:c.soundEffects)||[]),t.$$.dirty[0]&32768&&l(2,a=h.currentTime)},[p,n,a,s,o,i,r,m,y,M,j,W,C,P,c,h,O,L,F,S]}class ti extends $e{constructor(e){super(),we(this,e,ei,Xr,me,{},null,[-1,-1])}}function li(t){const e=t-1;return e*e*e+1}function Zl(t,{delay:e=0,duration:l=400,easing:n=on}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:i=>`opacity: ${i*r}`}}function Jl(t,{delay:e=0,duration:l=400,easing:n=li,start:r=0,opacity:i=0}={}){const o=getComputedStyle(t),s=+o.opacity,a=o.transform==="none"?"":o.transform,c=1-r,h=s*(1-i);return{delay:e,duration:l,easing:n,css:(m,p)=>`
			transform: ${a} scale(${1-c*p});
			opacity: ${s-h*p}
		`}}function Ql(t,e,l){const n=t.slice();return n[14]=e[l],n}function Xl(t,e,l){const n=t.slice();return n[17]=e[l],n}function en(t,e,l){const n=t.slice();return n[20]=e[l],n}function tn(t){let e,l,n,r,i,o,s,a,c;function h(g,d){return g[1]?ri:ni}let m=h(t),p=m(t);return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent="Export Video",r=$(),p.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(l,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(g,d){N(g,e,d),u(e,l),u(l,n),u(l,r),p.m(l,null),s=!0,a||(c=[G(l,"click",Et(t[8])),G(e,"click",t[6]),G(e,"keydown",t[12])],a=!0)},p(g,d){m===(m=h(g))&&p?p.p(g,d):(p.d(1),p=m(g),p&&(p.c(),p.m(l,null)))},i(g){s||(g&&Ze(()=>{s&&(i||(i=ct(l,Jl,{duration:200,start:.95},!0)),i.run(1))}),g&&Ze(()=>{s&&(o||(o=ct(e,Zl,{duration:200},!0)),o.run(1))}),s=!0)},o(g){g&&(i||(i=ct(l,Jl,{duration:200,start:.95},!1)),i.run(0)),g&&(o||(o=ct(e,Zl,{duration:200},!1)),o.run(0)),s=!1},d(g){g&&R(e),p.d(),g&&i&&i.end(),g&&o&&o.end(),a=!1,ye(c)}}}function ni(t){let e,l,n,r,i,o,s,a,c,h,m,p,g,d,k,v,b,y,E,z,M,j,W=U(["1080x1920","1920x1080","1080x1080"]),C=[];for(let S=0;S<3;S+=1)C[S]=ln(en(t,W,S));let P=U([24,30,60]),O=[];for(let S=0;S<3;S+=1)O[S]=nn(Xl(t,P,S));let L=U(["standard","high","ultra"]),F=[];for(let S=0;S<3;S+=1)F[S]=rn(Ql(t,L,S));return{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Resolution",r=$(),i=_("div");for(let S=0;S<3;S+=1)C[S].c();o=$(),s=_("div"),a=_("label"),a.textContent="Frame Rate",c=$(),h=_("div");for(let S=0;S<3;S+=1)O[S].c();m=$(),p=_("div"),g=_("label"),g.textContent="Quality",d=$(),k=_("div");for(let S=0;S<3;S+=1)F[S].c();v=$(),b=_("div"),y=_("button"),y.textContent="Cancel",E=$(),z=_("button"),z.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(a,"class","text-sm text-dark-text-light mb-2 block"),f(h,"class","flex gap-2"),f(g,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f(y,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(z,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(S,w){N(S,e,w),u(e,l),u(l,n),u(l,r),u(l,i);for(let x=0;x<3;x+=1)C[x]&&C[x].m(i,null);u(e,o),u(e,s),u(s,a),u(s,c),u(s,h);for(let x=0;x<3;x+=1)O[x]&&O[x].m(h,null);u(e,m),u(e,p),u(p,g),u(p,d),u(p,k);for(let x=0;x<3;x+=1)F[x]&&F[x].m(k,null);u(e,v),u(e,b),u(b,y),u(b,E),u(b,z),M||(j=[G(y,"click",t[6]),G(z,"click",t[5])],M=!0)},p(S,w){if(w&1){W=U(["1080x1920","1920x1080","1080x1080"]);let x;for(x=0;x<3;x+=1){const A=en(S,W,x);C[x]?C[x].p(A,w):(C[x]=ln(A),C[x].c(),C[x].m(i,null))}for(;x<3;x+=1)C[x].d(1)}if(w&1){P=U([24,30,60]);let x;for(x=0;x<3;x+=1){const A=Xl(S,P,x);O[x]?O[x].p(A,w):(O[x]=nn(A),O[x].c(),O[x].m(h,null))}for(;x<3;x+=1)O[x].d(1)}if(w&1){L=U(["standard","high","ultra"]);let x;for(x=0;x<3;x+=1){const A=Ql(S,L,x);F[x]?F[x].p(A,w):(F[x]=rn(A),F[x].c(),F[x].m(k,null))}for(;x<3;x+=1)F[x].d(1)}},d(S){S&&R(e),fe(C,S),fe(O,S),fe(F,S),M=!1,ye(j)}}}function ri(t){let e,l,n,r,i,o,s,a,c,h,m,p,g;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=$(),i=_("p"),o=V(t[3]),s=$(),a=_("p"),c=V(t[2]),h=V("% complete"),m=$(),p=_("div"),g=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(i,"class","text-lg font-medium text-white"),f(a,"class","text-sm text-dark-text-light mt-1"),f(l,"class","text-center"),f(g,"class","h-full bg-primary transition-all duration-300"),se(g,"width",t[2]+"%"),f(p,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(d,k){N(d,e,k),u(e,l),u(l,n),u(l,r),u(l,i),u(i,o),u(l,s),u(l,a),u(a,c),u(a,h),u(e,m),u(e,p),u(p,g)},p(d,k){k&8&&de(o,d[3]),k&4&&de(c,d[2]),k&4&&se(g,"width",d[2]+"%")},d(d){d&&R(e)}}}function ln(t){let e,l=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,i,o,s;function a(){return t[9](t[20])}return{c(){e=_("button"),n=V(l),r=$(),f(e,"class",i="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,h){N(c,e,h),u(e,n),u(e,r),o||(s=G(e,"click",a),o=!0)},p(c,h){t=c,h&1&&i!==(i="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(c){c&&R(e),o=!1,s()}}}function nn(t){let e,l,n,r,i,o;function s(){return t[10](t[17])}return{c(){e=_("button"),l=V(t[17]),n=V(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,c){N(a,e,c),u(e,l),u(e,n),i||(o=G(e,"click",s),i=!0)},p(a,c){t=a,c&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(a){a&&R(e),i=!1,o()}}}function rn(t){let e,l=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",n,r,i,o,s;function a(){return t[11](t[14])}return{c(){e=_("button"),n=V(l),r=$(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,h){N(c,e,h),u(e,n),u(e,r),o||(s=G(e,"click",a),o=!0)},p(c,h){t=c,h&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(c){c&&R(e),o=!1,s()}}}function ii(t){let e,l=t[4]&&tn(t);return{c(){l&&l.c(),e=St()},m(n,r){l&&l.m(n,r),N(n,e,r)},p(n,[r]){n[4]?l?(l.p(n,r),r&16&&B(l,1)):(l=tn(n),l.c(),B(l,1),l.m(e.parentNode,e)):l&&(ke(),D(l,1,1,()=>{l=null}),ve())},i(n){B(l)},o(n){D(l)},d(n){n&&R(e),l&&l.d(n)}}}function oi(t,e,l){let n,r,i;Re(t,ce,b=>l(13,r=b)),Re(t,rt,b=>l(7,i=b));let o={resolution:"1080x1920",fps:30,quality:"high"},s=!1,a=0,c="";async function h(){if(r){l(1,s=!0),l(3,c="Preparing..."),l(2,a=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:o,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const y=await b.json(),E=setInterval(async()=>{const M=await(await fetch(`/api/export/status/${y.export_id}`)).json();l(2,a=M.progress||0),l(3,c=M.message||"Processing..."),M.status==="completed"?(clearInterval(E),l(1,s=!1),window.open(M.download_url,"_blank"),m()):M.status==="failed"&&(clearInterval(E),l(1,s=!1),l(3,c="Export failed"))},2e3)}catch(b){l(1,s=!1),l(3,c="Export failed"),console.error("Export error:",b)}}}function m(){s||rt.update(b=>({...b,isExporting:!1}))}function p(b){Tn.call(this,t,b)}const g=b=>l(0,o.resolution=b,o),d=b=>l(0,o.fps=b,o),k=b=>l(0,o.quality=b,o),v=b=>b.key==="Escape"&&m();return t.$$.update=()=>{t.$$.dirty&128&&l(4,n=i.isExporting)},[o,s,a,c,n,h,m,i,p,g,d,k,v]}class si extends $e{constructor(e){super(),we(this,e,oi,ii,me,{})}}function ai(t){let e,l;return e=new xr({props:{$$slots:{timeline:[gi],panel:[pi],preview:[hi],sidebar:[di]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p(n,r){const i={};r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function ci(t){let e,l,n,r,i,o,s,a,c,h,m,p,g;return{c(){e=_("div"),l=_("h2"),l.textContent="Start Creating Magic",n=$(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,i=$(),o=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,a=$(),c=_("a"),c.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,h=$(),m=_("p"),m.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(l,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(c,"href","/dashboard"),f(c,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(o,"class","flex gap-4 mb-12 animate-bounce-in"),f(m,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(d,k){N(d,e,k),u(e,l),u(e,n),u(e,r),u(e,i),u(e,o),u(o,s),u(o,a),u(o,c),u(e,h),u(e,m),p||(g=G(s,"click",t[3]),p=!0)},p:Z,i:Z,o:Z,d(d){d&&R(e),p=!1,g()}}}function ui(t){let e,l;return{c(){e=_("div"),l=V(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){N(n,e,r),u(e,l)},p(n,r){r&2&&de(l,n[1])},i:Z,o:Z,d(n){n&&R(e)}}}function fi(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(l,n){N(l,e,n)},p:Z,i:Z,o:Z,d(l){l&&R(e)}}}function di(t){let e,l;return e=new _r({props:{slot:"sidebar"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function hi(t){let e,l;return e=new Br({props:{slot:"preview"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function pi(t){let e,l;return e=new Qr({props:{slot:"panel"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function gi(t){let e,l;return e=new ti({props:{slot:"timeline"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(B(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function mi(t){let e,l,n,r,i,o;const s=[fi,ui,ci,ai],a=[];function c(h,m){return h[0]?0:h[1]?1:h[2]?3:2}return l=c(t),n=a[l]=s[l](t),i=new si({}),{c(){e=_("main"),n.c(),r=$(),te(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(h,m){N(h,e,m),a[l].m(e,null),N(h,r,m),X(i,h,m),o=!0},p(h,[m]){let p=l;l=c(h),l===p?a[l].p(h,m):(ke(),D(a[p],1,1,()=>{a[p]=null}),ve(),n=a[l],n?n.p(h,m):(n=a[l]=s[l](h),n.c()),B(n,1),n.m(e,null))},i(h){o||(B(n),B(i.$$.fragment,h),o=!0)},o(h){D(n),D(i.$$.fragment,h),o=!1},d(h){h&&(R(e),R(r)),a[l].d(),ee(i,h)}}}function _i(t,e,l){let n;Re(t,ce,c=>l(2,n=c));let r=null,i=!0,o=null;Mt(async()=>{const c=window.location.pathname.split("/"),h=c.indexOf("edit");h>-1&&c.length>h+1?(r=c[h+1],await s(r)):l(0,i=!1)});async function s(c){try{l(0,i=!0),console.log("Loading project:",c);const h=await fetch(`/api/editor_data/${c}`);if(console.log("Response status:",h.status),!h.ok)throw new Error("Failed to load project");const m=await h.json();console.log("Project data received:",m),console.log("Video URL:",m.video_url),console.log("Captions:",m.captions);const p=m.captions||[];console.log("Processing captions:",p.length,"items");let g=0;if(p.length>0){const k=p[p.length-1];if(k!=null&&k.words&&k.words.length>0){const v=k.words[k.words.length-1];g=(v==null?void 0:v.end)||0}else k!=null&&k.end&&(g=k.end)}console.log("Calculated duration:",g);const d={id:m.job_id,name:m.original_filename||"Untitled",videoUrl:m.video_url,videoDuration:g,captions:p,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:m.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date};console.log("Setting project store with:",d),ce.set(d),g&&Pe.update(k=>({...k,duration:g})),console.log("Project loaded successfully")}catch(h){console.error("Error loading project:",h),l(1,o=h instanceof Error?h.message:"Failed to load project")}finally{l(0,i=!1),console.log("Loading finished. currentProject:",n)}}return[i,o,n,()=>window.location.href="/upload"]}class bi extends $e{constructor(e){super(),we(this,e,_i,mi,me,{})}}new bi({target:document.getElementById("app")});
