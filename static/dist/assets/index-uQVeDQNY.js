var hn=Object.defineProperty;var pn=(l,e,t)=>e in l?hn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var bt=(l,e,t)=>pn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Q(){}const ln=l=>l;function se(l,e){for(const t in e)l[t]=e[t];return l}function nn(l){return l()}function Ht(){return Object.create(null)}function Fe(l){l.forEach(nn)}function Ft(l){return typeof l=="function"}function be(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let ct;function Ge(l,e){return l===e?!0:(ct||(ct=document.createElement("a")),ct.href=e,l===ct.href)}function gn(l){return Object.keys(l).length===0}function mn(l,...e){if(l==null){for(const n of e)n(void 0);return Q}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ae(l,e,t){l.$$.on_destroy.push(mn(e,t))}function Te(l,e,t,n){if(l){const r=rn(l,e,t,n);return l[0](r)}}function rn(l,e,t,n){return l[1]&&n?se(t.ctx.slice(),l[1](n(e))):t.ctx}function Re(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|r[s];return i}return e.dirty|r}return e.dirty}function Le(l,e,t,n,r,i){if(r){const o=rn(e,t,n,i);l.p(o,r)}}function We(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ke(l){const e={};for(const t in l)t[0]!=="$"&&(e[t]=l[t]);return e}function Ot(l,e){const t={};e=new Set(e);for(const n in l)!e.has(n)&&n[0]!=="$"&&(t[n]=l[n]);return t}const on=typeof window<"u";let _n=on?()=>window.performance.now():()=>Date.now(),St=on?l=>requestAnimationFrame(l):Q;const Ye=new Set;function sn(l){Ye.forEach(e=>{e.c(l)||(Ye.delete(e),e.f())}),Ye.size!==0&&St(sn)}function bn(l){let e;return Ye.size===0&&St(sn),{promise:new Promise(t=>{Ye.add(e={c:l,f:t})}),abort(){Ye.delete(e)}}}function u(l,e){l.appendChild(e)}function an(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function kn(l){const e=_("style");return e.textContent="/* empty */",vn(an(l),e),e.sheet}function vn(l,e){return u(l.head||l,e),e.sheet}function D(l,e,t){l.insertBefore(e,t||null)}function P(l){l.parentNode&&l.parentNode.removeChild(l)}function pe(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function _(l){return document.createElement(l)}function He(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function j(l){return document.createTextNode(l)}function C(){return j(" ")}function $t(){return j("")}function J(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Et(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function ht(l,e){for(const t in e)f(l,t,e[t])}function wn(l){return Array.from(l.childNodes)}function de(l,e){e=""+e,l.data!==e&&(l.data=e)}function Ze(l,e){l.value=e??""}function ye(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function ut(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}l.selectedIndex=-1}function yn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}function Vt(l,e){return new l(e)}const pt=new Map;let gt=0;function xn(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Cn(l,e){const t={stylesheet:kn(e),rules:{}};return pt.set(l,t),t}function Ut(l,e,t,n,r,i,o,s=0){const c=16.666/n;let a=`{
`;for(let v=0;v<=1;v+=c){const b=e+(t-e)*i(v);a+=v*100+`%{${o(b,1-b)}}
`}const p=a+`100% {${o(t,1-t)}}
}`,d=`__svelte_${xn(p)}_${s}`,g=an(l),{stylesheet:m,rules:h}=pt.get(g)||Cn(g,l);h[d]||(h[d]=!0,m.insertRule(`@keyframes ${d} ${p}`,m.cssRules.length));const k=l.style.animation||"";return l.style.animation=`${k?`${k}, `:""}${d} ${n}ms linear ${r}ms 1 both`,gt+=1,d}function Fn(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(l.style.animation=n.join(", "),gt-=r,gt||Sn())}function Sn(){St(()=>{gt||(pt.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&P(e)}),pt.clear())})}let rt;function nt(l){rt=l}function cn(){if(!rt)throw new Error("Function called outside component initialization");return rt}function Mt(l){cn().$$.on_mount.push(l)}function $n(l){cn().$$.after_update.push(l)}function En(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const qe=[],it=[];let Ke=[];const jt=[],Mn=Promise.resolve();let yt=!1;function Bn(){yt||(yt=!0,Mn.then(un))}function Je(l){Ke.push(l)}const kt=new Set;let Ue=0;function un(){if(Ue!==0)return;const l=rt;do{try{for(;Ue<qe.length;){const e=qe[Ue];Ue++,nt(e),Tn(e.$$)}}catch(e){throw qe.length=0,Ue=0,e}for(nt(null),qe.length=0,Ue=0;it.length;)it.pop()();for(let e=0;e<Ke.length;e+=1){const t=Ke[e];kt.has(t)||(kt.add(t),t())}Ke.length=0}while(qe.length);for(;jt.length;)jt.pop()();yt=!1,kt.clear(),nt(l)}function Tn(l){if(l.fragment!==null){l.update(),Fe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Je)}}function Rn(l){const e=[],t=[];Ke.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ke=e}let lt;function Ln(){return lt||(lt=Promise.resolve(),lt.then(()=>{lt=null})),lt}function vt(l,e,t){l.dispatchEvent(yn(`${e?"intro":"outro"}${t}`))}const dt=new Set;let Ie;function xe(){Ie={r:0,c:[],p:Ie}}function Ce(){Ie.r||Fe(Ie.c),Ie=Ie.p}function T(l,e){l&&l.i&&(dt.delete(l),l.i(e))}function N(l,e,t,n){if(l&&l.o){if(dt.has(l))return;dt.add(l),Ie.c.push(()=>{dt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const Wn={duration:0};function ft(l,e,t,n){let i=e(l,t,{direction:"both"}),o=n?0:1,s=null,c=null,a=null,p;function d(){a&&Fn(l,a)}function g(h,k){const v=h.b-o;return k*=Math.abs(v),{a:o,b:h.b,d:v,duration:k,start:h.start,end:h.start+k,group:h.group}}function m(h){const{delay:k=0,duration:v=300,easing:b=ln,tick:w=Q,css:L}=i||Wn,H={start:_n()+k,b:h};h||(H.group=Ie,Ie.r+=1),"inert"in l&&(h?p!==void 0&&(l.inert=p):(p=l.inert,l.inert=!0)),s||c?c=H:(L&&(d(),a=Ut(l,o,h,v,k,b,L)),h&&w(0,1),s=g(H,v),Je(()=>vt(l,h,"start")),bn(A=>{if(c&&A>c.start&&(s=g(c,v),c=null,vt(l,s.b,"start"),L&&(d(),a=Ut(l,o,s.b,s.duration,0,b,i.css))),s){if(A>=s.end)w(o=s.b,1-o),vt(l,s.b,"end"),c||(s.b?d():--s.group.r||Fe(s.group.c)),s=null;else if(A>=s.start){const V=A-s.start;o=s.a+s.d*b(V/s.duration),w(o,1-o)}}return!!(s||c)}))}return{run(h){Ft(i)?Ln().then(()=>{i=i({direction:h?"in":"out"}),m(h)}):m(h)},end(){d(),s=c=null}}}function K(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function fn(l,e){l.d(1),e.delete(l.key)}function An(l,e){N(l,1,1,()=>{e.delete(l.key)})}function Bt(l,e,t,n,r,i,o,s,c,a,p,d){let g=l.length,m=i.length,h=g;const k={};for(;h--;)k[l[h].key]=h;const v=[],b=new Map,w=new Map,L=[];for(h=m;h--;){const E=d(r,i,h),$=t(E);let R=o.get($);R?L.push(()=>R.p(E,e)):(R=a($,E),R.c()),b.set($,v[h]=R),$ in k&&w.set($,Math.abs(h-k[$]))}const H=new Set,A=new Set;function V(E){T(E,1),E.m(s,p),o.set(E.key,E),p=E.first,m--}for(;g&&m;){const E=v[m-1],$=l[g-1],R=E.key,I=$.key;E===$?(p=E.first,g--,m--):b.has(I)?!o.has(R)||H.has(R)?V(E):A.has(I)?g--:w.get(R)>w.get(I)?(A.add(R),V(E)):(H.add(I),g--):(c($,o),g--)}for(;g--;){const E=l[g];b.has(E.key)||c(E,o)}for(;m;)V(v[m-1]);return Fe(L),v}function ze(l,e){const t={},n={},r={$$scope:1};let i=l.length;for(;i--;){const o=l[i],s=e[i];if(s){for(const c in o)c in s||(n[c]=1);for(const c in s)r[c]||(t[c]=s[c],r[c]=1);l[i]=s}else for(const c in o)r[c]=1}for(const o in n)o in t||(t[o]=void 0);return t}function Oe(l){return typeof l=="object"&&l!==null?l:{}}function re(l){l&&l.c()}function le(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),Je(()=>{const i=l.$$.on_mount.map(nn).filter(Ft);l.$$.on_destroy?l.$$.on_destroy.push(...i):Fe(i),l.$$.on_mount=[]}),r.forEach(Je)}function ne(l,e){const t=l.$$;t.fragment!==null&&(Rn(t.after_update),Fe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nn(l,e){l.$$.dirty[0]===-1&&(qe.push(l),Bn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Se(l,e,t,n,r,i,o=null,s=[-1]){const c=rt;nt(l);const a=l.$$={fragment:null,ctx:[],props:i,update:Q,not_equal:r,bound:Ht(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ht(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let p=!1;if(a.ctx=t?t(l,e.props||{},(d,g,...m)=>{const h=m.length?m[0]:g;return a.ctx&&r(a.ctx[d],a.ctx[d]=h)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](h),p&&Nn(l,d)),g}):[],a.update(),p=!0,Fe(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const d=wn(e.target);a.fragment&&a.fragment.l(d),d.forEach(P)}else a.fragment&&a.fragment.c();e.intro&&T(l.$$.fragment),le(l,e.target,e.anchor),un()}nt(c)}class $e{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){ne(this,1),this.$destroy=Q}$on(e,t){if(!Ft(t))return Q;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!gn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pn);const je=[];function st(l,e=Q){let t;const n=new Set;function r(s){if(be(l,s)&&(l=s,t)){const c=!je.length;for(const a of n)a[1](),je.push(a,l);if(c){for(let a=0;a<je.length;a+=2)je[a][0](je[a+1]);je.length=0}}}function i(s){r(s(l))}function o(s,c=Q){const a=[s,c];return n.add(a),n.size===1&&(t=e(r,i)||Q),s(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}const xt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},qt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function Dn(){const{subscribe:l,set:e,update:t}=st({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:qt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:l,set:e,update:t,updateCaption:(n,r)=>{t(i=>{if(!i)return i;const o=i.captions.map(s=>s.id===n?{...s,...r}:s);return{...i,captions:o,updatedAt:new Date}})},updateStyle:n=>{t(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{t(r=>{if(!r)return r;const i=xt[n];return i?{...r,style:{...qt,...i},updatedAt:new Date}:r})},addBRoll:n=>{t(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{t(r=>r&&{...r,bRollClips:r.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((p,d)=>d===r?{...p,emoji:i||null}:p);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((p,d)=>d===r?{...p,isKeyword:i}:p);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(0,r);return{...s,start:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(.1,r);return{...s,duration:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},addZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,zoomEffects:o,updatedAt:new Date}})},addSoundEffect:n=>{t(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{t(r=>r&&{...r,soundEffects:r.soundEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,soundEffects:o,updatedAt:new Date}})}}}const fe=Dn();function In(){const{subscribe:l,set:e,update:t}=st({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:l,set:e,update:t,setCurrentTime:n=>t(r=>({...r,currentTime:n})),setPlaying:n=>t(r=>({...r,isPlaying:n})),togglePlay:()=>t(n=>({...n,isPlaying:!n.isPlaying}))}}const De=In(),Ct=st("captions"),ot=st({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Kt(l,e,t){const n=l.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function wt(l){let e,t=[l[11]],n={};for(let r=0;r<t.length;r+=1)n=se(n,t[r]);return{c(){e=He(l[10]),ht(e,n)},m(r,i){D(r,e,i)},p(r,i){ht(e,n=ze(t,[i&32&&r[11]]))},d(r){r&&P(e)}}}function Gt(l){let e=l[10],t,n=l[10]&&wt(l);return{c(){n&&n.c(),t=$t()},m(r,i){n&&n.m(r,i),D(r,t,i)},p(r,i){r[10]?e?be(e,r[10])?(n.d(1),n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&P(t),n&&n.d(r)}}}function zn(l){let e,t,n,r,i,o=K(l[5]),s=[];for(let g=0;g<o.length;g+=1)s[g]=Gt(Kt(l,o,g));const c=l[9].default,a=Te(c,l,l[8],null);let p=[Yt,l[6],{width:l[2]},{height:l[2]},{stroke:l[1]},{"stroke-width":n=l[4]?Number(l[3])*24/Number(l[2]):l[3]},{class:r=`lucide-icon lucide lucide-${l[0]} ${l[7].class??""}`}],d={};for(let g=0;g<p.length;g+=1)d=se(d,p[g]);return{c(){e=He("svg");for(let g=0;g<s.length;g+=1)s[g].c();t=$t(),a&&a.c(),ht(e,d)},m(g,m){D(g,e,m);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);u(e,t),a&&a.m(e,null),i=!0},p(g,[m]){if(m&32){o=K(g[5]);let h;for(h=0;h<o.length;h+=1){const k=Kt(g,o,h);s[h]?s[h].p(k,m):(s[h]=Gt(k),s[h].c(),s[h].m(e,t))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}a&&a.p&&(!i||m&256)&&Le(a,c,g,g[8],i?Re(c,g[8],m,null):We(g[8]),null),ht(e,d=ze(p,[Yt,m&64&&g[6],(!i||m&4)&&{width:g[2]},(!i||m&4)&&{height:g[2]},(!i||m&2)&&{stroke:g[1]},(!i||m&28&&n!==(n=g[4]?Number(g[3])*24/Number(g[2]):g[3]))&&{"stroke-width":n},(!i||m&129&&r!==(r=`lucide-icon lucide lucide-${g[0]} ${g[7].class??""}`))&&{class:r}]))},i(g){i||(T(a,g),i=!0)},o(g){N(a,g),i=!1},d(g){g&&P(e),pe(s,g),a&&a.d(g)}}}function Hn(l,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ot(e,n),{$$slots:i={},$$scope:o}=e,{name:s}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:g}=e;return l.$$set=m=>{t(7,e=se(se({},e),ke(m))),t(6,r=Ot(e,n)),"name"in m&&t(0,s=m.name),"color"in m&&t(1,c=m.color),"size"in m&&t(2,a=m.size),"strokeWidth"in m&&t(3,p=m.strokeWidth),"absoluteStrokeWidth"in m&&t(4,d=m.absoluteStrokeWidth),"iconNode"in m&&t(5,g=m.iconNode),"$$scope"in m&&t(8,o=m.$$scope)},e=ke(e),[s,c,a,p,d,g,r,e,o,i]}class Ve extends $e{constructor(e){super(),Se(this,e,Hn,zn,be,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function On(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Vn(l){let e,t;const n=[{name:"film"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[On]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function Un(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Tt extends $e{constructor(e){super(),Se(this,e,Un,Vn,be,{})}}function jn(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function qn(l){let e,t;const n=[{name:"loader-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[jn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function Yn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class at extends $e{constructor(e){super(),Se(this,e,Yn,qn,be,{})}}function Kn(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Gn(l){let e,t;const n=[{name:"palette"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function Zn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Jn extends $e{constructor(e){super(),Se(this,e,Zn,Gn,be,{})}}function Xn(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Qn(l){let e,t;const n=[{name:"plus"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Xn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function er(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class dn extends $e{constructor(e){super(),Se(this,e,er,Qn,be,{})}}function tr(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function lr(l){let e,t;const n=[{name:"sparkles"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[tr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function nr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class mt extends $e{constructor(e){super(),Se(this,e,nr,lr,be,{})}}function rr(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function ir(l){let e,t;const n=[{name:"trash-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[rr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function or(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class sr extends $e{constructor(e){super(),Se(this,e,or,ir,be,{})}}function ar(l){let e;const t=l[2].default,n=Te(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Le(n,t,r,r[3],e?Re(t,r[3],i,null):We(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function cr(l){let e,t;const n=[{name:"type"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[ar]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=se(r,n[i]);return e=new Ve({props:r}),{c(){re(e.$$.fragment)},m(i,o){le(e,i,o),t=!0},p(i,[o]){const s=o&3?ze(n,[n[0],o&2&&Oe(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function ur(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return l.$$set=o=>{t(1,e=se(se({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class fr extends $e{constructor(e){super(),Se(this,e,ur,cr,be,{})}}function Zt(l,e,t){const n=l.slice();return n[3]=e[t],n}function Jt(l){let e,t,n,r,i,o,s,c,a;var p=l[3].icon;function d(m,h){return{props:{class:"w-5 h-5"}}}p&&(t=Vt(p,d()));function g(){return l[2](l[3])}return{c(){e=_("button"),t&&re(t.$$.fragment),n=C(),r=_("span"),r.textContent=`${l[3].label}`,i=C(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",l[3].label)},m(m,h){D(m,e,h),t&&le(t,e,null),u(e,n),u(e,r),u(e,i),s=!0,c||(a=J(e,"click",g),c=!0)},p(m,h){if(l=m,p!==(p=l[3].icon)){if(t){xe();const k=t;N(k.$$.fragment,1,0,()=>{ne(k,1)}),Ce()}p?(t=Vt(p,d()),re(t.$$.fragment),T(t.$$.fragment,1),le(t,e,n)):t=null}(!s||h&1&&o!==(o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",o)},i(m){s||(t&&T(t.$$.fragment,m),s=!0)},o(m){t&&N(t.$$.fragment,m),s=!1},d(m){m&&P(e),t&&ne(t),c=!1,a()}}}function dr(l){let e,t,n,r,i,o,s,c,a,p,d,g,m=K(l[1]),h=[];for(let v=0;v<m.length;v+=1)h[v]=Jt(Zt(l,m,v));const k=v=>N(h[v],1,1,()=>{h[v]=null});return{c(){e=_("div"),t=_("div"),t.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=C(),r=_("nav");for(let v=0;v<h.length;v+=1)h[v].c();i=C(),o=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',c=C(),a=_("button"),a.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(t,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(a,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(a,"title","Logout"),f(o,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m(v,b){D(v,e,b),u(e,t),u(e,n),u(e,r);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(r,null);u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),p=!0,d||(g=J(a,"click",hr),d=!0)},p(v,[b]){if(b&3){m=K(v[1]);let w;for(w=0;w<m.length;w+=1){const L=Zt(v,m,w);h[w]?(h[w].p(L,b),T(h[w],1)):(h[w]=Jt(L),h[w].c(),T(h[w],1),h[w].m(r,null))}for(xe(),w=m.length;w<h.length;w+=1)k(w);Ce()}},i(v){if(!p){for(let b=0;b<m.length;b+=1)T(h[b]);p=!0}},o(v){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)N(h[b]);p=!1},d(v){v&&P(e),pe(h,v),d=!1,g()}}}function hr(){window.location.href="/logout"}function pr(l,e,t){let n;return Ae(l,Ct,o=>t(0,n=o)),[n,[{id:"captions",label:"Captions",icon:fr},{id:"style",label:"Style",icon:Jn},{id:"broll",label:"B-Roll",icon:Tt},{id:"ai-tools",label:"AI Tools",icon:mt}],o=>Ct.set(o.id)]}class gr extends $e{constructor(e){super(),Se(this,e,pr,dr,be,{})}}const mr=l=>({}),Xt=l=>({}),_r=l=>({}),Qt=l=>({}),br=l=>({}),el=l=>({}),kr=l=>({}),tl=l=>({});function vr(l){let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w,L;const H=l[1].sidebar,A=Te(H,l,l[0],tl),V=l[1].panel,E=Te(V,l,l[0],el),$=l[1].preview,R=Te($,l,l[0],Qt),I=l[1].timeline,W=Te(I,l,l[0],Xt);return{c(){e=_("div"),t=_("aside"),A&&A.c(),n=C(),r=_("aside"),E&&E.c(),i=C(),o=_("div"),s=_("div"),c=_("header"),a=_("div"),a.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',p=C(),d=_("div"),g=_("button"),g.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,m=C(),h=_("div"),R&&R.c(),k=C(),v=_("aside"),W&&W.c(),f(t,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(a,"class","flex items-center gap-4"),f(g,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(d,"class","flex items-center gap-2"),f(c,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f(v,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(o,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(S,M){D(S,e,M),u(e,t),A&&A.m(t,null),u(e,n),u(e,r),E&&E.m(r,null),u(e,i),u(e,o),u(o,s),u(s,c),u(c,a),u(c,p),u(c,d),u(d,g),u(s,m),u(s,h),R&&R.m(h,null),u(o,k),u(o,v),W&&W.m(v,null),b=!0,w||(L=J(g,"click",l[2]),w=!0)},p(S,[M]){A&&A.p&&(!b||M&1)&&Le(A,H,S,S[0],b?Re(H,S[0],M,kr):We(S[0]),tl),E&&E.p&&(!b||M&1)&&Le(E,V,S,S[0],b?Re(V,S[0],M,br):We(S[0]),el),R&&R.p&&(!b||M&1)&&Le(R,$,S,S[0],b?Re($,S[0],M,_r):We(S[0]),Qt),W&&W.p&&(!b||M&1)&&Le(W,I,S,S[0],b?Re(I,S[0],M,mr):We(S[0]),Xt)},i(S){b||(T(A,S),T(E,S),T(R,S),T(W,S),b=!0)},o(S){N(A,S),N(E,S),N(R,S),N(W,S),b=!1},d(S){S&&P(e),A&&A.d(S),E&&E.d(S),R&&R.d(S),W&&W.d(S),w=!1,L()}}}function wr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=()=>ot.update(o=>({...o,isExporting:!0}));return l.$$set=o=>{"$$scope"in o&&t(0,r=o.$$scope)},[r,n,i]}class yr extends $e{constructor(e){super(),Se(this,e,wr,vr,be,{})}}function xr(l){var w;let e,t,n,r,i,o,s,c,a,p,d=(((w=l[1])==null?void 0:w.videoUrl)||"undefined")+"",g,m,h,k,v=l[1]?"exists":"null",b;return{c(){e=_("div"),t=_("div"),n=He("svg"),r=He("path"),i=He("path"),o=C(),s=_("p"),s.textContent="No video loaded",c=C(),a=_("p"),p=j("videoUrl: "),g=j(d),m=C(),h=_("p"),k=j("project: "),b=j(v),f(r,"stroke-linecap","round"),f(r,"stroke-linejoin","round"),f(r,"stroke-width","2"),f(r,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),f(i,"stroke-linecap","round"),f(i,"stroke-linejoin","round"),f(i,"stroke-width","2"),f(i,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(n,"class","w-16 h-16 text-gray-500 mx-auto mb-4"),f(n,"fill","none"),f(n,"stroke","currentColor"),f(n,"viewBox","0 0 24 24"),f(s,"class","text-white text-lg"),f(a,"class","text-gray-400 text-sm mt-2"),f(h,"class","text-gray-400 text-sm"),f(t,"class","text-center"),f(e,"class","w-full h-full flex items-center justify-center bg-black")},m(L,H){D(L,e,H),u(e,t),u(t,n),u(n,r),u(n,i),u(t,o),u(t,s),u(t,c),u(t,a),u(a,p),u(a,g),u(t,m),u(t,h),u(h,k),u(h,b)},p(L,H){var A;H&2&&d!==(d=(((A=L[1])==null?void 0:A.videoUrl)||"undefined")+"")&&de(g,d),H&2&&v!==(v=L[1]?"exists":"null")&&de(b,v)},d(L){L&&P(e)}}}function Cr(l){let e,t,n,r,i;return{c(){e=_("video"),t=_("track"),f(t,"kind","captions"),Ge(e.src,n=l[1].videoUrl)||f(e,"src",n),f(e,"class","w-full h-full object-contain"),f(e,"crossorigin","anonymous"),e.playsInline=!0,e.muted=!0},m(o,s){D(o,e,s),u(e,t),l[9](e),r||(i=J(e,"click",l[4]),r=!0)},p(o,s){s&2&&!Ge(e.src,n=o[1].videoUrl)&&f(e,"src",n)},d(o){o&&P(e),l[9](null),r=!1,i()}}}function ll(l){let e,t,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-dark ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(r,i){D(r,e,i),t||(n=J(e,"click",l[4]),t=!0)},p:Q,d(r){r&&P(e),t=!1,n()}}}function Fr(l){let e,t,n,r,i,o,s=Math.floor(l[3].currentTime/60)+"",c,a,p=(Math.floor(l[3].currentTime)%60).toString().padStart(2,"0")+"",d;function g(v,b){var w;return(w=v[1])!=null&&w.videoUrl?Cr:xr}let m=g(l),h=m(l),k=!l[3].isPlaying&&ll(l);return{c(){e=_("div"),h.c(),t=C(),n=_("canvas"),r=C(),k&&k.c(),i=C(),o=_("div"),c=j(s),a=j(":"),d=j(p),f(n,"class","absolute top-0 left-0 w-full h-full pointer-events-none"),f(o,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(v,b){D(v,e,b),h.m(e,null),u(e,t),u(e,n),l[10](n),u(e,r),k&&k.m(e,null),u(e,i),u(e,o),u(o,c),u(o,a),u(o,d)},p(v,[b]){m===(m=g(v))&&h?h.p(v,b):(h.d(1),h=m(v),h&&(h.c(),h.m(e,t))),v[3].isPlaying?k&&(k.d(1),k=null):k?k.p(v,b):(k=ll(v),k.c(),k.m(e,i)),b&8&&s!==(s=Math.floor(v[3].currentTime/60)+"")&&de(c,s),b&8&&p!==(p=(Math.floor(v[3].currentTime)%60).toString().padStart(2,"0")+"")&&de(d,p)},i:Q,o:Q,d(v){v&&P(e),h.d(),l[10](null),k&&k.d()}}}function Sr(l){switch(l){case"light":return"1px 1px 2px rgba(0,0,0,0.5)";case"medium":return"2px 2px 4px rgba(0,0,0,0.7)";case"heavy":return"3px 3px 6px rgba(0,0,0,0.9)";default:return""}}function $r(l,e,t){let n,r;Ae(l,De,E=>t(7,n=E)),Ae(l,fe,E=>t(8,r=E));let i,o,s,c,a=1080,p=1920,d=r,g=n;function m(){De.setPlaying(!0)}function h(){De.setPlaying(!1)}Mt(()=>(console.log("VideoPreview mounted"),console.log("VideoPreview: videoElement =",i),console.log("VideoPreview: canvasElement =",o),console.log("VideoPreview: initial project.videoUrl =",d==null?void 0:d.videoUrl),s=o.getContext("2d"),t(0,o.width=a,o),t(0,o.height=p,o),window.addEventListener("timeline-seek",k),i&&(i.addEventListener("timeupdate",v),i.addEventListener("loadedmetadata",b),i.addEventListener("play",m),i.addEventListener("pause",h),i.addEventListener("seeked",L),i.addEventListener("error",E=>{console.error("Video error:",E),console.error("Video error details:",i==null?void 0:i.error)}),i.addEventListener("loadstart",()=>console.log("Video load started")),i.addEventListener("loadeddata",()=>console.log("Video data loaded")),i.addEventListener("canplay",()=>console.log("Video can play"))),L(),()=>{window.removeEventListener("timeline-seek",k),i&&(i.removeEventListener("timeupdate",v),i.removeEventListener("loadedmetadata",b),i.removeEventListener("play",m),i.removeEventListener("pause",h),i.removeEventListener("seeked",L)),cancelAnimationFrame(c)})),$n(()=>{o&&(o.width!==a||o.height!==p)&&(t(0,o.width=a,o),t(0,o.height=p,o),L())});function k(E){i&&E.detail&&typeof E.detail.time=="number"&&(t(2,i.currentTime=E.detail.time,i),L())}function v(){i&&(De.setCurrentTime(i.currentTime),L())}function b(){console.log("Video metadata loaded"),console.log("Video duration:",i==null?void 0:i.duration),console.log("Video dimensions:",i==null?void 0:i.videoWidth,"x",i==null?void 0:i.videoHeight),i&&(De.update(E=>({...E,duration:i.duration})),d!=null&&d.resolution?t(5,[a,p]=d.resolution.split("x").map(Number),a,(t(6,p),t(1,d),t(0,o),t(5,a),t(8,r))):(t(5,a=i.videoWidth),t(6,p=i.videoHeight)),t(0,o.width=a,o),t(0,o.height=p,o),L())}function w(){i&&(i.paused?i.play():i.pause())}function L(){if(!s||!o){c=requestAnimationFrame(L);return}s.clearRect(0,0,o.width,o.height);const E=(g==null?void 0:g.currentTime)||0,$=(d==null?void 0:d.captions)||[],R=(d==null?void 0:d.style)||{};if(!$||$.length===0){c=requestAnimationFrame(L);return}const I=$.find(W=>E>=W.start&&E<=W.end);if(I){let W;const S=parseInt(R.fontSize||42,10),M=S*(R.lineHeight||1.2),y=50;switch(R.position){case"top":W=y+S;break;case"middle":W=o.height/2;break;case"bottom":default:W=o.height-y;break}document.fonts.load(`${R.fontWeight||"bold"} ${S}px "${R.fontFamily||"Inter"}"`).then(()=>{s.font=`${R.fontWeight||"bold"} ${S}px "${R.fontFamily||"Inter"}", sans-serif`,s.fillStyle=R.color||"#FFFFFF",s.textAlign=R.alignment||"center";const x=Sr(R.textShadow||"medium");if(x){const B=x.match(/(\d+)px (\d+)px (\d+)px (.*)/);B&&(s.shadowOffsetX=parseInt(B[1],10),s.shadowOffsetY=parseInt(B[2],10),s.shadowBlur=parseInt(B[3],10),s.shadowColor=B[4])}else s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowColor="transparent";if(R.wordByWord&&I.words&&I.words.length>0){const B=[];let G=0;const X=s.measureText(" ").width,ue=o.width-2*y;let q=W;for(const F of I.words){const Z=s.measureText(F.text).width;G+Z+X>ue&&B.length>0&&(H(B,q,G-X),B.length=0,G=0,q+=M),B.push(F),G+=Z+X}B.length>0&&H(B,q,G-X)}else{const B=I.text,G=o.width-100,X=B.split(" ");let ue="";const q=[];for(let ee=0;ee<X.length;ee++){const Y=ue+X[ee]+" ";s.measureText(Y).width>G&&ee>0?(q.push(ue),ue=X[ee]+" "):ue=Y}q.push(ue);const F=parseInt(R.fontSize||42,10)*1.2,Z=q.length*F;let O=W-Z/2+F/2;R.position==="bottom"?O=W-Z+F:R.position==="top"&&(O=W),q.forEach((ee,Y)=>{s.fillText(ee.trim(),o.width/2,O+Y*F)})}})}c=requestAnimationFrame(L)}function H(E,$,R){var W,S,M,y,x,B,G,X,ue,q;let I=o.width/2-R/2;for(const F of E){const Z=(g==null?void 0:g.currentTime)>=F.start&&(g==null?void 0:g.currentTime)<=F.end,O=s.measureText(F.text).width,ee=s.measureText(" ").width;if(s.save(),Z){const ie=(g.currentTime-F.start)/(F.end-F.start);switch((W=d==null?void 0:d.style)==null?void 0:W.animation){case"pop":const ve=1+Math.sin(ie*Math.PI)*.2;s.translate(I+O/2,$),s.scale(ve,ve),s.translate(-(I+O/2),-$);break;case"slide-up":const he=Math.max(0,1-ie)*20;s.translate(0,-he);break;case"fade":s.globalAlpha=ie;break;case"bounce":let Ee=1;ie<.5?Ee=1+ie*.4:Ee=1+(1-ie)*.4,s.translate(I+O/2,$),s.scale(Ee,Ee),s.translate(-(I+O/2),-$);break}}let Y=s.font,te=((S=d==null?void 0:d.style)==null?void 0:S.color)||"#FFFFFF",_e="transparent",Be=!1;if(Z&&((M=d==null?void 0:d.style)!=null&&M.highlightWords))te=((y=d==null?void 0:d.style)==null?void 0:y.highlightColor)||"#FFD700",_e=((x=d==null?void 0:d.style)==null?void 0:x.highlightColor)||"#FFD700",Be=!0,((B=d==null?void 0:d.style)==null?void 0:B.color)===((G=d==null?void 0:d.style)==null?void 0:G.highlightColor)&&(te="#000000");else if(F.isKeyword){te=((X=d==null?void 0:d.style)==null?void 0:X.keywordColor)||"#EC4899";const ie=parseInt(((ue=d==null?void 0:d.style)==null?void 0:ue.fontSize)||42,10);s.font=`bold ${ie}px "${((q=d==null?void 0:d.style)==null?void 0:q.fontFamily)||"Inter"}", sans-serif`}if(Be){const ie=s.measureText(F.text),ae=10,ve=8;s.fillStyle=_e,s.fillRect(I-ae/2,$-ie.actualBoundingBoxAscent-ve/2,ie.width+ae,ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent+ve)}s.fillStyle=te,s.fillText(F.text,I,$),F.isKeyword&&(s.font=Y),s.restore(),I+=O+ee}}function A(E){it[E?"unshift":"push"](()=>{i=E,t(2,i)})}function V(E){it[E?"unshift":"push"](()=>{o=E,t(0,o),t(1,d),t(5,a),t(6,p),t(8,r)})}return l.$$.update=()=>{l.$$.dirty&256&&t(1,d=r),l.$$.dirty&128&&t(3,g=n),l.$$.dirty&99&&(console.log("VideoPreview: project changed",d),console.log("VideoPreview: videoUrl =",d==null?void 0:d.videoUrl),d!=null&&d.resolution&&(t(5,[a,p]=d.resolution.split("x").map(Number),a,(t(6,p),t(1,d),t(0,o),t(5,a),t(8,r))),o&&(t(0,o.width=a,o),t(0,o.height=p,o),L())))},[o,d,i,g,w,a,p,n,r,A,V]}class Er extends $e{constructor(e){super(),Se(this,e,$r,Fr,be,{})}}const nl=st(null);function Xe(l){const e=Math.floor(l/60),t=Math.floor(l%60),n=Math.floor(l%1*100);return`${e}:${t.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function rl(l,e,t){const n=l.slice();return n[65]=e[t],n}function il(l,e,t){const n=l.slice();return n[62]=e[t],n}function ol(l,e,t){const n=l.slice();return n[62]=e[t],n}function sl(l,e,t){const n=l.slice();return n[46]=e[t],n}function al(l,e,t){const n=l.slice();return n[49]=e[t],n}function cl(l,e,t){const n=l.slice();return n[52]=e[t],n}function ul(l,e,t){const n=l.slice();return n[55]=e[t],n}function fl(l,e,t){const n=l.slice();return n[58]=e[t][0],n[59]=e[t][1],n}function dl(l,e,t){const n=l.slice();return n[34]=e[t],n}function hl(l,e,t){const n=l.slice();return n[37]=e[t],n[39]=t,n}function pl(l,e,t){const n=l.slice();return n[34]=e[t],n}function gl(l,e,t){const n=l.slice();return n[37]=e[t],n[42]=e,n[39]=t,n}function ml(l,e,t){const n=l.slice();return n[43]=e[t],n}function Mr(l){let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w,L,H,A,V,E,$,R,I;const W=[Wr,Lr],S=[];function M(Y,te){return Y[0]?0:1}i=M(l),o=S[i]=W[i](l);const y=[Nr,Ar],x=[];function B(Y,te){return Y[1]?0:1}a=B(l),p=x[a]=y[a](l);const G=[Dr,Pr],X=[];function ue(Y,te){return Y[2]?0:1}h=ue(l),k=X[h]=G[h](l);const q=[zr,Ir],F=[];function Z(Y,te){return generatingEffects?0:1}L=Z(),H=F[L]=q[L](l);let O=l[6].length>0&&_l(l),ee=l[9]&&kl(l);return{c(){var Y,te,_e,Be,ie,ae;e=_("div"),t=_("h3"),t.textContent="AI Magic Tools",n=C(),r=_("button"),o.c(),s=C(),c=_("button"),p.c(),g=C(),m=_("button"),k.c(),b=C(),w=_("button"),H.c(),V=C(),O&&O.c(),E=C(),ee&&ee.c(),f(t,"class","font-semibold text-lg text-white"),r.disabled=l[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),c.disabled=d=l[1]||!((te=(Y=l[7])==null?void 0:Y.captions)!=null&&te.length),f(c,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),m.disabled=v=l[2]||!((Be=(_e=l[7])==null?void 0:_e.captions)!=null&&Be.length),f(m,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),w.disabled=A=generatingEffects||!((ae=(ie=l[7])==null?void 0:ie.captions)!=null&&ae.length),f(w,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(Y,te){D(Y,e,te),u(e,t),u(e,n),u(e,r),S[i].m(r,null),u(e,s),u(e,c),x[a].m(c,null),u(e,g),u(e,m),X[h].m(m,null),u(e,b),u(e,w),F[L].m(w,null),u(e,V),O&&O.m(e,null),u(e,E),ee&&ee.m(e,null),$=!0,R||(I=[J(r,"click",l[13]),J(c,"click",l[14]),J(m,"click",l[15]),J(w,"click",generateEffectsSuggestions)],R=!0)},p(Y,te){var ae,ve,he,Ee,me,Pe;let _e=i;i=M(Y),i!==_e&&(xe(),N(S[_e],1,1,()=>{S[_e]=null}),Ce(),o=S[i],o||(o=S[i]=W[i](Y),o.c()),T(o,1),o.m(r,null)),(!$||te[0]&1)&&(r.disabled=Y[0]);let Be=a;a=B(Y),a!==Be&&(xe(),N(x[Be],1,1,()=>{x[Be]=null}),Ce(),p=x[a],p||(p=x[a]=y[a](Y),p.c()),T(p,1),p.m(c,null)),(!$||te[0]&1154&&d!==(d=Y[1]||!((ve=(ae=Y[7])==null?void 0:ae.captions)!=null&&ve.length)))&&(c.disabled=d);let ie=h;h=ue(Y),h!==ie&&(xe(),N(X[ie],1,1,()=>{X[ie]=null}),Ce(),k=X[h],k||(k=X[h]=G[h](Y),k.c()),T(k,1),k.m(m,null)),(!$||te[0]&1156&&v!==(v=Y[2]||!((Ee=(he=Y[7])==null?void 0:he.captions)!=null&&Ee.length)))&&(m.disabled=v),(!$||te[0]&1152&&A!==(A=generatingEffects||!((Pe=(me=Y[7])==null?void 0:me.captions)!=null&&Pe.length)))&&(w.disabled=A),Y[6].length>0?O?(O.p(Y,te),te[0]&64&&T(O,1)):(O=_l(Y),O.c(),T(O,1),O.m(e,E)):O&&(xe(),N(O,1,1,()=>{O=null}),Ce()),Y[9]?ee?ee.p(Y,te):(ee=kl(Y),ee.c(),ee.m(e,null)):ee&&(ee.d(1),ee=null)},i(Y){$||(T(o),T(p),T(k),T(H),T(O),$=!0)},o(Y){N(o),N(p),N(k),N(H),N(O),$=!1},d(Y){Y&&P(e),S[i].d(),x[a].d(),X[h].d(),F[L].d(),O&&O.d(),ee&&ee.d(),R=!1,Fe(I)}}}function Br(l){let e,t,n,r,i,o,s,c,a,p,d,g,m;const h=[Or,Hr],k=[];function v(w,L){return w[5]?0:1}c=v(l),a=k[c]=h[c](l);let b=l[4].length>0&&wl(l);return{c(){e=_("div"),t=_("h3"),t.textContent="B-Roll Library",n=C(),r=_("div"),i=_("input"),o=C(),s=_("button"),a.c(),p=C(),b&&b.c(),f(t,"class","font-semibold text-lg text-white"),f(i,"type","text"),f(i,"placeholder","Search stock footage..."),f(i,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),s.disabled=l[5],f(s,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(w,L){D(w,e,L),u(e,t),u(e,n),u(e,r),u(r,i),Ze(i,l[3]),u(r,o),u(r,s),k[c].m(s,null),u(e,p),b&&b.m(e,null),d=!0,g||(m=[J(i,"input",l[30]),J(i,"keydown",l[31]),J(s,"click",l[16])],g=!0)},p(w,L){L[0]&8&&i.value!==w[3]&&Ze(i,w[3]);let H=c;c=v(w),c!==H&&(xe(),N(k[H],1,1,()=>{k[H]=null}),Ce(),a=k[c],a||(a=k[c]=h[c](w),a.c()),T(a,1),a.m(s,null)),(!d||L[0]&32)&&(s.disabled=w[5]),w[4].length>0?b?(b.p(w,L),L[0]&16&&T(b,1)):(b=wl(w),b.c(),T(b,1),b.m(e,null)):b&&(xe(),N(b,1,1,()=>{b=null}),Ce())},i(w){d||(T(a),T(b),d=!0)},o(w){N(a),N(b),d=!1},d(w){w&&P(e),k[c].d(),b&&b.d(),g=!1,Fe(m)}}}function Tr(l){var Rt,Lt;let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w,L,H,A=(((Lt=(Rt=l[7])==null?void 0:Rt.style)==null?void 0:Lt.fontSize)||42)+"",V,E,$,R,I,W,S,M,y,x,B,G,X,ue,q,F,Z,O,ee,Y,te,_e,Be,ie=K(Object.entries(xt)),ae=[];for(let U=0;U<ie.length;U+=1)ae[U]=xl(fl(l,ie,U));let ve=K(l[10]),he=[];for(let U=0;U<ve.length;U+=1)he[U]=Cl(ul(l,ve,U));let Ee=K(l[11]),me=[];for(let U=0;U<Ee.length;U+=1)me[U]=Fl(cl(l,Ee,U));let Pe=K(l[12]),we=[];for(let U=0;U<Pe.length;U+=1)we[U]=Sl(al(l,Pe,U));let _t=K(["none","light","medium","heavy"]),Ne=[];for(let U=0;U<4;U+=1)Ne[U]=$l(sl(l,_t,U));return{c(){var U,ge;e=_("div"),t=_("div"),n=_("h3"),n.textContent="Style Presets",r=C(),i=_("div");for(let ce=0;ce<ae.length;ce+=1)ae[ce].c();o=C(),s=_("div"),c=_("h3"),c.textContent="Typography",a=C(),p=_("div"),d=_("label"),d.textContent="Font Family",g=C(),m=_("select");for(let ce=0;ce<he.length;ce+=1)he[ce].c();k=C(),v=_("div"),b=_("label"),w=_("span"),w.textContent="Font Size",L=C(),H=_("span"),V=j(A),E=j("px"),$=C(),R=_("input"),W=C(),S=_("div"),M=_("label"),M.textContent="Position",y=C(),x=_("div");for(let ce=0;ce<me.length;ce+=1)me[ce].c();B=C(),G=_("div"),X=_("label"),X.textContent="Animation",ue=C(),q=_("select");for(let ce=0;ce<we.length;ce+=1)we[ce].c();Z=C(),O=_("div"),ee=_("label"),ee.textContent="Text Shadow",Y=C(),te=_("div");for(let ce=0;ce<4;ce+=1)Ne[ce].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(c,"class","font-semibold text-lg text-white"),f(d,"class","text-sm text-dark-text-light"),f(m,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(p,"class","space-y-2"),f(H,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(R,"type","range"),f(R,"min","20"),f(R,"max","80"),R.value=I=((ge=(U=l[7])==null?void 0:U.style)==null?void 0:ge.fontSize)||42,f(R,"class","w-full"),f(v,"class","space-y-2"),f(M,"class","text-sm text-dark-text-light"),f(x,"class","flex gap-2"),f(S,"class","space-y-2"),f(X,"class","text-sm text-dark-text-light"),f(q,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(G,"class","space-y-2"),f(ee,"class","text-sm text-dark-text-light"),f(te,"class","flex gap-2"),f(O,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(U,ge){var ce,Qe,et,tt;D(U,e,ge),u(e,t),u(t,n),u(t,r),u(t,i);for(let oe=0;oe<ae.length;oe+=1)ae[oe]&&ae[oe].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,p),u(p,d),u(p,g),u(p,m);for(let oe=0;oe<he.length;oe+=1)he[oe]&&he[oe].m(m,null);ut(m,((Qe=(ce=l[7])==null?void 0:ce.style)==null?void 0:Qe.fontFamily)||"Inter"),u(s,k),u(s,v),u(v,b),u(b,w),u(b,L),u(b,H),u(H,V),u(H,E),u(v,$),u(v,R),u(s,W),u(s,S),u(S,M),u(S,y),u(S,x);for(let oe=0;oe<me.length;oe+=1)me[oe]&&me[oe].m(x,null);u(s,B),u(s,G),u(G,X),u(G,ue),u(G,q);for(let oe=0;oe<we.length;oe+=1)we[oe]&&we[oe].m(q,null);ut(q,((tt=(et=l[7])==null?void 0:et.style)==null?void 0:tt.animation)||"pop"),u(s,Z),u(s,O),u(O,ee),u(O,Y),u(O,te);for(let oe=0;oe<4;oe+=1)Ne[oe]&&Ne[oe].m(te,null);_e||(Be=[J(m,"change",l[25]),J(R,"input",l[26]),J(q,"change",l[28])],_e=!0)},p(U,ge){var ce,Qe,et,tt,oe,Wt,At,Nt,Pt,Dt,It,zt;if(ge&0){ie=K(Object.entries(xt));let z;for(z=0;z<ie.length;z+=1){const Me=fl(U,ie,z);ae[z]?ae[z].p(Me,ge):(ae[z]=xl(Me),ae[z].c(),ae[z].m(i,null))}for(;z<ae.length;z+=1)ae[z].d(1);ae.length=ie.length}if(ge[0]&1024){ve=K(U[10]);let z;for(z=0;z<ve.length;z+=1){const Me=ul(U,ve,z);he[z]?he[z].p(Me,ge):(he[z]=Cl(Me),he[z].c(),he[z].m(m,null))}for(;z<he.length;z+=1)he[z].d(1);he.length=ve.length}if(ge[0]&1152&&h!==(h=((Qe=(ce=U[7])==null?void 0:ce.style)==null?void 0:Qe.fontFamily)||"Inter")&&ut(m,((tt=(et=U[7])==null?void 0:et.style)==null?void 0:tt.fontFamily)||"Inter"),ge[0]&128&&A!==(A=(((Wt=(oe=U[7])==null?void 0:oe.style)==null?void 0:Wt.fontSize)||42)+"")&&de(V,A),ge[0]&1152&&I!==(I=((Nt=(At=U[7])==null?void 0:At.style)==null?void 0:Nt.fontSize)||42)&&(R.value=I),ge[0]&2176){Ee=K(U[11]);let z;for(z=0;z<Ee.length;z+=1){const Me=cl(U,Ee,z);me[z]?me[z].p(Me,ge):(me[z]=Fl(Me),me[z].c(),me[z].m(x,null))}for(;z<me.length;z+=1)me[z].d(1);me.length=Ee.length}if(ge[0]&4096){Pe=K(U[12]);let z;for(z=0;z<Pe.length;z+=1){const Me=al(U,Pe,z);we[z]?we[z].p(Me,ge):(we[z]=Sl(Me),we[z].c(),we[z].m(q,null))}for(;z<we.length;z+=1)we[z].d(1);we.length=Pe.length}if(ge[0]&1152&&F!==(F=((Dt=(Pt=U[7])==null?void 0:Pt.style)==null?void 0:Dt.animation)||"pop")&&ut(q,((zt=(It=U[7])==null?void 0:It.style)==null?void 0:zt.animation)||"pop"),ge[0]&128){_t=K(["none","light","medium","heavy"]);let z;for(z=0;z<4;z+=1){const Me=sl(U,_t,z);Ne[z]?Ne[z].p(Me,ge):(Ne[z]=$l(Me),Ne[z].c(),Ne[z].m(te,null))}for(;z<4;z+=1)Ne[z].d(1)}},i:Q,o:Q,d(U){U&&P(e),pe(ae,U),pe(he,U),pe(me,U),pe(we,U),pe(Ne,U),_e=!1,Fe(Be)}}}function Rr(l){var X,ue;let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w,L,H,A,V,E,$,R,I,W=((ue=(X=l[7])==null?void 0:X.style)==null?void 0:ue.highlightWords)&&El(l);function S(q,F){var Z,O;return(O=(Z=q[7])==null?void 0:Z.captions)!=null&&O.length?Ur:Vr}let M=S(l),y=M(l);function x(q,F){var Z,O;return(O=(Z=q[7])==null?void 0:Z.captions)!=null&&O.length?qr:jr}let B=x(l),G=B(l);return{c(){var q,F,Z,O;e=_("div"),t=_("h3"),t.textContent="Caption Settings",n=C(),r=_("div"),i=_("label"),o=_("span"),o.textContent="Word-by-word highlighting",s=C(),c=_("input"),p=C(),d=_("label"),g=_("span"),g.textContent="Highlight active words",m=C(),h=_("input"),v=C(),W&&W.c(),b=C(),w=_("div"),L=_("h3"),L.textContent="Emoji Editor",H=C(),y.c(),A=C(),V=_("div"),E=_("h3"),E.textContent="Keyword Editor",$=C(),G.c(),f(t,"class","font-semibold text-lg text-white"),f(o,"class","text-dark-text-light"),f(c,"type","checkbox"),c.checked=a=(F=(q=l[7])==null?void 0:q.style)==null?void 0:F.wordByWord,f(c,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(g,"class","text-dark-text-light"),f(h,"type","checkbox"),h.checked=k=(O=(Z=l[7])==null?void 0:Z.style)==null?void 0:O.highlightWords,f(h,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(d,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(L,"class","font-semibold text-lg text-white"),f(w,"class","space-y-4"),f(E,"class","font-semibold text-lg text-white"),f(V,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(q,F){D(q,e,F),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o),u(i,s),u(i,c),u(r,p),u(r,d),u(d,g),u(d,m),u(d,h),u(r,v),W&&W.m(r,null),u(e,b),u(e,w),u(w,L),u(w,H),y.m(w,null),u(e,A),u(e,V),u(V,E),u(V,$),G.m(V,null),R||(I=[J(c,"change",l[18]),J(h,"change",l[19])],R=!0)},p(q,F){var Z,O,ee,Y,te,_e;F[0]&1152&&a!==(a=(O=(Z=q[7])==null?void 0:Z.style)==null?void 0:O.wordByWord)&&(c.checked=a),F[0]&1152&&k!==(k=(Y=(ee=q[7])==null?void 0:ee.style)==null?void 0:Y.highlightWords)&&(h.checked=k),(_e=(te=q[7])==null?void 0:te.style)!=null&&_e.highlightWords?W?W.p(q,F):(W=El(q),W.c(),W.m(r,null)):W&&(W.d(1),W=null),M===(M=S(q))&&y?y.p(q,F):(y.d(1),y=M(q),y&&(y.c(),y.m(w,null))),B===(B=x(q))&&G?G.p(q,F):(G.d(1),G=B(q),G&&(G.c(),G.m(V,null)))},i:Q,o:Q,d(q){q&&P(e),W&&W.d(),y.d(),G.d(),R=!1,Fe(I)}}}function Lr(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=j(`
          Generate Viral Content`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Wr(l){let e,t,n;return e=new at({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=j(`
          Generating Viral Content...`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Ar(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=j(`
          Auto-Generate Emojis`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Nr(l){let e,t,n;return e=new at({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=j(`
          Generating Emojis...`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Pr(l){let e,t,n;return e=new Tt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=j(`
          Generate B-Roll Suggestions`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Dr(l){let e,t,n;return e=new at({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=j(`
          Generating B-Roll...`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function Ir(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){re(e.$$.fragment),t=j(`
          Auto-Generate Zoom & Sound Effects`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function zr(l){let e,t,n;return e=new at({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment),t=j(`
          Generating Effects...`)},m(r,i){le(e,r,i),D(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&P(t),ne(e,r)}}}function _l(l){let e,t,n,r,i,o=K(l[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=bl(il(l,o,a));const c=a=>N(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),t=_("h4"),t.textContent="Suggested B-Roll Clips:",n=C(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(t,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(a,p){D(a,e,p),u(e,t),u(e,n),u(e,r);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(r,null);i=!0},p(a,p){if(p[0]&64){o=K(a[6]);let d;for(d=0;d<o.length;d+=1){const g=il(a,o,d);s[d]?(s[d].p(g,p),T(s[d],1)):(s[d]=bl(g),s[d].c(),T(s[d],1),s[d].m(r,null))}for(xe(),d=o.length;d<s.length;d+=1)c(d);Ce()}},i(a){if(!i){for(let p=0;p<o.length;p+=1)T(s[p]);i=!0}},o(a){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)N(s[p]);i=!1},d(a){a&&P(e),pe(s,a)}}}function bl(l){let e,t,n,r,i,o,s,c,a=l[62].keyword+"",p,d,g,m,h,k;o=new dn({props:{class:"w-8 h-8 text-white"}});function v(){return l[33](l[62])}return{c(){e=_("div"),t=_("img"),r=C(),i=_("div"),re(o.$$.fragment),s=C(),c=_("span"),p=j(a),d=C(),Ge(t.src,n=l[62].thumbnail)||f(t,"src",n),f(t,"alt","B-Roll thumbnail"),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",g="Add to timeline: "+l[62].keyword)},m(b,w){D(b,e,w),u(e,t),u(e,r),u(e,i),le(o,i,null),u(e,s),u(e,c),u(c,p),u(e,d),m=!0,h||(k=J(e,"click",v),h=!0)},p(b,w){l=b,(!m||w[0]&64&&!Ge(t.src,n=l[62].thumbnail))&&f(t,"src",n),(!m||w[0]&64)&&a!==(a=l[62].keyword+"")&&de(p,a),(!m||w[0]&64&&g!==(g="Add to timeline: "+l[62].keyword))&&f(e,"title",g)},i(b){m||(T(o.$$.fragment,b),m=!0)},o(b){N(o.$$.fragment,b),m=!1},d(b){b&&P(e),ne(o),h=!1,k()}}}function kl(l){let e,t,n,r,i,o,s,c,a,p,d=l[9].descriptions[0]+"",g,m,h,k,v,b,w=l[9].hashtags.join(" ")+"",L,H=K(l[9].hooks),A=[];for(let V=0;V<H.length;V+=1)A[V]=vl(rl(l,H,V));return{c(){e=_("div"),t=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=C(),i=_("ul");for(let V=0;V<A.length;V+=1)A[V].c();o=C(),s=_("div"),c=_("h4"),c.textContent="Description",a=C(),p=_("p"),g=j(d),m=C(),h=_("div"),k=_("h4"),k.textContent="Hashtags",v=C(),b=_("p"),L=j(w),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(i,"class","space-y-2"),f(t,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(c,"class","font-medium text-sm text-dark-text-light mb-2"),f(p,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(h,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(V,E){D(V,e,E),u(e,t),u(t,n),u(t,r),u(t,i);for(let $=0;$<A.length;$+=1)A[$]&&A[$].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,p),u(p,g),u(e,m),u(e,h),u(h,k),u(h,v),u(h,b),u(b,L)},p(V,E){if(E[0]&512){H=K(V[9].hooks);let $;for($=0;$<H.length;$+=1){const R=rl(V,H,$);A[$]?A[$].p(R,E):(A[$]=vl(R),A[$].c(),A[$].m(i,null))}for(;$<A.length;$+=1)A[$].d(1);A.length=H.length}E[0]&512&&d!==(d=V[9].descriptions[0]+"")&&de(g,d),E[0]&512&&w!==(w=V[9].hashtags.join(" ")+"")&&de(L,w)},d(V){V&&P(e),pe(A,V)}}}function vl(l){let e,t=l[65]+"",n;return{c(){e=_("li"),n=j(t),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,i){D(r,e,i),u(e,n)},p(r,i){i[0]&512&&t!==(t=r[65]+"")&&de(n,t)},d(r){r&&P(e)}}}function Hr(l){let e,t;return{c(){e=He("svg"),t=He("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){D(n,e,r),u(e,t)},i:Q,o:Q,d(n){n&&P(e)}}}function Or(l){let e,t;return e=new at({props:{class:"w-5 h-5 animate-spin"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function wl(l){let e,t,n=K(l[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=yl(ol(l,n,o));const i=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(o,s){D(o,e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(o,s){if(s[0]&131088){n=K(o[4]);let c;for(c=0;c<n.length;c+=1){const a=ol(o,n,c);r[c]?(r[c].p(a,s),T(r[c],1)):(r[c]=yl(a),r[c].c(),T(r[c],1),r[c].m(e,null))}for(xe(),c=n.length;c<r.length;c+=1)i(c);Ce()}},i(o){if(!t){for(let s=0;s<n.length;s+=1)T(r[s]);t=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)N(r[s]);t=!1},d(o){o&&P(e),pe(r,o)}}}function yl(l){let e,t,n,r,i,o,s,c,a,p;o=new dn({props:{class:"w-8 h-8 text-white"}});function d(){return l[32](l[62])}return{c(){e=_("button"),t=_("img"),r=C(),i=_("div"),re(o.$$.fragment),s=C(),Ge(t.src,n=l[62].thumbnail)||f(t,"src",n),f(t,"alt",""),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(g,m){D(g,e,m),u(e,t),u(e,r),u(e,i),le(o,i,null),u(e,s),c=!0,a||(p=J(e,"click",d),a=!0)},p(g,m){l=g,(!c||m[0]&16&&!Ge(t.src,n=l[62].thumbnail))&&f(t,"src",n)},i(g){c||(T(o.$$.fragment,g),c=!0)},o(g){N(o.$$.fragment,g),c=!1},d(g){g&&P(e),ne(o),a=!1,p()}}}function xl(l){let e,t,n,r,i,o,s;function c(){return l[24](l[58])}return{c(){e=_("button"),t=_("div"),t.textContent=`${l[58].replace("-"," ")}`,n=C(),r=_("div"),r.textContent=`${l[59].fontWeight}  ${l[59].animation}`,i=C(),f(t,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(a,p){D(a,e,p),u(e,t),u(e,n),u(e,r),u(e,i),o||(s=J(e,"click",c),o=!0)},p(a,p){l=a},d(a){a&&P(e),o=!1,s()}}}function Cl(l){let e,t=l[55]+"",n;return{c(){e=_("option"),n=j(t),e.__value=l[55],Ze(e,e.__value)},m(r,i){D(r,e,i),u(e,n)},p:Q,d(r){r&&P(e)}}}function Fl(l){let e,t=l[52].label+"",n,r,i,o,s;function c(){return l[27](l[52])}return{c(){var a,p;e=_("button"),n=j(t),r=C(),f(e,"class",i="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(a=l[7])==null?void 0:a.style)==null?void 0:p.position)||"bottom")===l[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,p){D(a,e,p),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,p){var d,g;l=a,p[0]&1152&&i!==(i="flex-1 p-2 rounded-lg border text-sm transition "+((((g=(d=l[7])==null?void 0:d.style)==null?void 0:g.position)||"bottom")===l[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&P(e),o=!1,s()}}}function Sl(l){let e,t=l[49].label+"",n;return{c(){e=_("option"),n=j(t),e.__value=l[49].id,Ze(e,e.__value)},m(r,i){D(r,e,i),u(e,n)},p:Q,d(r){r&&P(e)}}}function $l(l){let e,t,n,r,i,o;function s(){return l[29](l[46])}return{c(){var c,a;e=_("button"),t=j(l[46]),n=C(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.textShadow)||"medium")===l[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){D(c,e,a),u(e,t),u(e,n),i||(o=J(e,"click",s),i=!0)},p(c,a){var p,d;l=c,a[0]&1152&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(p=l[7])==null?void 0:p.style)==null?void 0:d.textShadow)||"medium")===l[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&P(e),i=!1,o()}}}function El(l){let e,t,n,r,i=K(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),o=[];for(let s=0;s<5;s+=1)o[s]=Ml(ml(l,i,s));return{c(){e=_("div"),t=_("label"),t.textContent="Highlight Color",n=C(),r=_("div");for(let s=0;s<5;s+=1)o[s].c();f(t,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,c){D(s,e,c),u(e,t),u(e,n),u(e,r);for(let a=0;a<5;a+=1)o[a]&&o[a].m(r,null)},p(s,c){if(c[0]&128){i=K(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let a;for(a=0;a<5;a+=1){const p=ml(s,i,a);o[a]?o[a].p(p,c):(o[a]=Ml(p),o[a].c(),o[a].m(r,null))}for(;a<5;a+=1)o[a].d(1)}},d(s){s&&P(e),pe(o,s)}}}function Ml(l){let e,t,n,r;function i(){return l[20](l[43])}return{c(){var o,s;e=_("button"),f(e,"class",t="w-8 h-8 rounded-lg border-2 transition "+((((s=(o=l[7])==null?void 0:o.style)==null?void 0:s.highlightColor)||"#FFD700")===l[43]?"border-primary scale-110":"border-transparent hover:border-primary-light")),ye(e,"background-color",l[43])},m(o,s){D(o,e,s),n||(r=J(e,"click",i),n=!0)},p(o,s){var c,a;l=o,s[0]&1152&&t!==(t="w-8 h-8 rounded-lg border-2 transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.highlightColor)||"#FFD700")===l[43]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",t)},d(o){o&&P(e),n=!1,r()}}}function Vr(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(t,n){D(t,e,n)},p:Q,d(t){t&&P(e)}}}function Ur(l){let e,t=K(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Tl(pl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){D(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=K(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=pl(r,t,o);n[o]?n[o].p(s,i):(n[o]=Tl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&P(e),pe(n,r)}}}function Bl(l){let e,t,n=l[37].text+"",r,i,o,s,c,a;function p(){l[21].call(o,l[42],l[39])}function d(...g){return l[22](l[34],l[39],...g)}return{c(){e=_("div"),t=_("span"),r=j(n),i=C(),o=_("input"),s=C(),f(t,"class","text-white text-sm mr-1"),f(o,"type","text"),f(o,"maxlength","2"),f(o,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(o,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(g,m){D(g,e,m),u(e,t),u(t,r),u(e,i),u(e,o),Ze(o,l[37].emoji),u(e,s),c||(a=[J(o,"input",p),J(o,"input",d)],c=!0)},p(g,m){l=g,m[0]&128&&n!==(n=l[37].text+"")&&de(r,n),m[0]&1152&&o.value!==l[37].emoji&&Ze(o,l[37].emoji)},d(g){g&&P(e),c=!1,Fe(a)}}}function Tl(l){let e,t,n,r=l[34].start.toFixed(2)+"",i,o,s=l[34].end.toFixed(2)+"",c,a,p,d,g,m=K(l[34].words),h=[];for(let k=0;k<m.length;k+=1)h[k]=Bl(gl(l,m,k));return{c(){e=_("div"),t=_("p"),n=j("Segment: "),i=j(r),o=j("s - "),c=j(s),a=j("s"),p=C(),d=_("div");for(let k=0;k<h.length;k+=1)h[k].c();g=C(),f(t,"class","text-xs text-dark-text mb-2"),f(d,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){D(k,e,v),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,p),u(e,d);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(d,null);u(e,g)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&de(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&de(c,s),v[0]&128){m=K(k[34].words);let b;for(b=0;b<m.length;b+=1){const w=gl(k,m,b);h[b]?h[b].p(w,v):(h[b]=Bl(w),h[b].c(),h[b].m(d,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=m.length}},d(k){k&&P(e),pe(h,k)}}}function jr(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(t,n){D(t,e,n)},p:Q,d(t){t&&P(e)}}}function qr(l){let e,t=K(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ll(dl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){D(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=K(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=dl(r,t,o);n[o]?n[o].p(s,i):(n[o]=Ll(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&P(e),pe(n,r)}}}function Rl(l){let e,t,n=l[37].text+"",r,i,o,s,c,a,p;function d(...g){return l[23](l[34],l[39],...g)}return{c(){e=_("div"),t=_("span"),r=j(n),i=C(),o=_("input"),c=C(),f(t,"class","text-white text-sm mr-1"),f(o,"type","checkbox"),o.checked=s=l[37].isKeyword||!1,f(o,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(g,m){D(g,e,m),u(e,t),u(t,r),u(e,i),u(e,o),u(e,c),a||(p=J(o,"change",d),a=!0)},p(g,m){l=g,m[0]&128&&n!==(n=l[37].text+"")&&de(r,n),m[0]&1152&&s!==(s=l[37].isKeyword||!1)&&(o.checked=s)},d(g){g&&P(e),a=!1,p()}}}function Ll(l){let e,t,n,r=l[34].start.toFixed(2)+"",i,o,s=l[34].end.toFixed(2)+"",c,a,p,d,g,m=K(l[34].words),h=[];for(let k=0;k<m.length;k+=1)h[k]=Rl(hl(l,m,k));return{c(){e=_("div"),t=_("p"),n=j("Segment: "),i=j(r),o=j("s - "),c=j(s),a=j("s"),p=C(),d=_("div");for(let k=0;k<h.length;k+=1)h[k].c();g=C(),f(t,"class","text-xs text-dark-text mb-2"),f(d,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){D(k,e,v),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,p),u(e,d);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(d,null);u(e,g)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&de(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&de(c,s),v[0]&128){m=K(k[34].words);let b;for(b=0;b<m.length;b+=1){const w=hl(k,m,b);h[b]?h[b].p(w,v):(h[b]=Rl(w),h[b].c(),h[b].m(d,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=m.length}},d(k){k&&P(e),pe(h,k)}}}function Yr(l){let e,t,n,r;const i=[Rr,Tr,Br,Mr],o=[];function s(c,a){return c[8]==="captions"?0:c[8]==="style"?1:c[8]==="broll"?2:c[8]==="ai-tools"?3:-1}return~(t=s(l))&&(n=o[t]=i[t](l)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(c,a){D(c,e,a),~t&&o[t].m(e,null),r=!0},p(c,a){let p=t;t=s(c),t===p?~t&&o[t].p(c,a):(n&&(xe(),N(o[p],1,1,()=>{o[p]=null}),Ce()),~t?(n=o[t],n?n.p(c,a):(n=o[t]=i[t](c),n.c()),T(n,1),n.m(e,null)):n=null)},i(c){r||(T(n),r=!0)},o(c){N(n),r=!1},d(c){c&&P(e),~t&&o[t].d()}}}function Kr(l,e,t){let n,r,i;Ae(l,fe,F=>t(7,n=F)),Ae(l,Ct,F=>t(8,r=F)),Ae(l,nl,F=>t(9,i=F));let o=!1,s=!1,c=!1,a="",p=[],d=!1,g=[];const m=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],h=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],k=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function v(){if(n){t(0,o=!0);try{const F=n.captions.map(O=>O.text).join(" "),Z=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:F})});if(Z.ok){const O=await Z.json();nl.set(O)}}catch(F){console.error("AI generation failed:",F)}finally{t(0,o=!1)}}}async function b(){if(!(!n||!n.captions.length)){t(1,s=!0);try{const F=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(F.ok){const Z=await F.json();fe.update(O=>({...O,captions:Z.captions,updatedAt:new Date}))}}catch(F){console.error("Emoji generation failed:",F)}finally{t(1,s=!1)}}}async function w(){if(!(!n||!n.captions.length)){t(2,c=!0),t(6,g=[]);try{const F=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(F.ok){const Z=await F.json();t(6,g=Z.broll_clips)}}catch(F){console.error("B-Roll generation failed:",F)}finally{t(2,c=!1)}}}async function L(){if(a){t(5,d=!0);try{const F=await fetch(`/api/broll/search?q=${encodeURIComponent(a)}`);if(F.ok){const Z=await F.json();t(4,p=Z.results||[])}}catch(F){console.error("B-Roll search failed:",F)}finally{t(5,d=!1)}}}function H(F){n&&fe.addBRoll({id:crypto.randomUUID(),url:F.video_url,thumbnail:F.thumbnail,start:n.videoDuration*.3,duration:5,source:F.source})}const A=F=>fe.updateStyle({wordByWord:F.target.checked}),V=F=>fe.updateStyle({highlightWords:F.target.checked}),E=F=>fe.updateStyle({highlightColor:F});function $(F,Z){F[Z].emoji=this.value,t(10,m)}const R=(F,Z,O)=>fe.updateWordEmoji(F.id,Z,O.target.value),I=(F,Z,O)=>fe.updateWordIsKeyword(F.id,Z,O.target.checked),W=F=>fe.applyPreset(F),S=F=>fe.updateStyle({fontFamily:F.target.value}),M=F=>fe.updateStyle({fontSize:parseInt(F.target.value)}),y=F=>fe.updateStyle({position:F.id}),x=F=>fe.updateStyle({animation:F.target.value}),B=F=>fe.updateStyle({textShadow:F});function G(){a=this.value,t(3,a)}return[o,s,c,a,p,d,g,n,r,i,m,h,k,v,b,w,L,H,A,V,E,$,R,I,W,S,M,y,x,B,G,F=>F.key==="Enter"&&L(),F=>H(F),F=>fe.addBRoll({...F,id:crypto.randomUUID()})]}class Gr extends $e{constructor(e){super(),Se(this,e,Kr,Yr,be,{},null,[-1,-1,-1])}}function Wl(l,e,t){const n=l.slice();return n[27]=e[t],n}function Al(l,e,t){const n=l.slice();return n[27]=e[t],n}function Nl(l,e,t){const n=l.slice();return n[32]=e[t],n}function Pl(l,e,t){const n=l.slice();return n[35]=e[t],n}function Dl(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function Il(l){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),ye(e,"top",l[40]*10/l[1]*100+"%")},m(t,n){D(t,e,n)},p(t,n){n[0]&2&&ye(e,"top",t[40]*10/t[1]*100+"%")},d(t){t&&P(e)}}}function zl(l){let e,t,n=l[35].text.slice(0,30)+"",r,i=l[35].text.length>30?"...":"",o,s,c,a,p,d,g;function m(){return l[16](l[35])}return{c(){e=_("button"),t=_("span"),r=j(n),o=j(i),s=C(),f(t,"class","truncate w-full text-center leading-tight text-xs"),f(e,"class",c="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-primary":"")),f(e,"style",a=l[12](l[35])),f(e,"title",p=l[35].text)},m(h,k){D(h,e,k),u(e,t),u(t,r),u(t,o),u(e,s),d||(g=J(e,"click",Et(m)),d=!0)},p(h,k){l=h,k[0]&64&&n!==(n=l[35].text.slice(0,30)+"")&&de(r,n),k[0]&64&&i!==(i=l[35].text.length>30?"...":"")&&de(o,i),k[0]&192&&c!==(c="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-center px-2 overflow-hidden text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-primary":""))&&f(e,"class",c),k[0]&64&&a!==(a=l[12](l[35]))&&f(e,"style",a),k[0]&64&&p!==(p=l[35].text)&&f(e,"title",p)},d(h){h&&P(e),d=!1,g()}}}function Hl(l){let e,t=[],n=new Map,r,i=K(l[5]);const o=s=>s[32].id;for(let s=0;s<i.length;s+=1){let c=Nl(l,i,s),a=o(c);n.set(a,t[s]=Ol(a,c))}return{c(){e=_("div");for(let s=0;s<t.length;s+=1)t[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,c){D(s,e,c);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);r=!0},p(s,c){c[0]&2338&&(i=K(s[5]),xe(),t=Bt(t,c,o,1,s,i,n,e,An,Ol,null,Nl),Ce())},i(s){if(!r){for(let c=0;c<i.length;c+=1)T(t[c]);r=!0}},o(s){for(let c=0;c<t.length;c+=1)N(t[c]);r=!1},d(s){s&&P(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Ol(l,e){let t,n,r,i,o,s,c,a,p,d;n=new Tt({props:{class:"w-3 h-3 text-white"}}),o=new sr({props:{class:"w-3 h-3"}});function g(){return e[17](e[32])}function m(...h){return e[18](e[32],...h)}return{key:l,first:null,c(){t=_("div"),re(n.$$.fragment),r=C(),i=_("button"),re(o.$$.fragment),s=C(),f(i,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(i,"title","Remove B-Roll Clip"),f(t,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),ye(t,"top",e[32].start/e[1]*100+"%"),ye(t,"height",e[32].duration/e[1]*100+"%"),f(t,"title",c="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=t},m(h,k){D(h,t,k),le(n,t,null),u(t,r),u(t,i),le(o,i,null),u(t,s),a=!0,p||(d=[J(i,"click",Et(g)),J(t,"mousedown",m)],p=!0)},p(h,k){e=h,(!a||k[0]&34)&&ye(t,"top",e[32].start/e[1]*100+"%"),(!a||k[0]&34)&&ye(t,"height",e[32].duration/e[1]*100+"%"),(!a||k[0]&32&&c!==(c="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(t,"title",c)},i(h){a||(T(n.$$.fragment,h),T(o.$$.fragment,h),a=!0)},o(h){N(n.$$.fragment,h),N(o.$$.fragment,h),a=!1},d(h){h&&P(t),ne(n),ne(o),p=!1,Fe(d)}}}function Vl(l){let e,t=[],n=new Map,r=K(l[4]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Al(l,r,o),c=i(s);n.set(c,t[o]=Ul(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(o,s){D(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&18&&(r=K(o[4]),t=Bt(t,s,i,1,o,r,n,e,fn,Ul,null,Al))},d(o){o&&P(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Ul(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),ye(t,"top",e[27].start/e[1]*100+"%"),ye(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),f(t,"title",n="Zoom: "+e[27].type+" at "+Xe(e[27].start)),this.first=t},m(r,i){D(r,t,i)},p(r,i){e=r,i[0]&18&&ye(t,"top",e[27].start/e[1]*100+"%"),i[0]&18&&ye(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),i[0]&16&&n!==(n="Zoom: "+e[27].type+" at "+Xe(e[27].start))&&f(t,"title",n)},d(r){r&&P(t)}}}function jl(l){let e,t=[],n=new Map,r=K(l[3]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Wl(l,r,o),c=i(s);n.set(c,t[o]=ql(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(o,s){D(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&10&&(r=K(o[3]),t=Bt(t,s,i,1,o,r,n,e,fn,ql,null,Wl))},d(o){o&&P(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function ql(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),ye(t,"top",e[27].start/e[1]*100+"%"),f(t,"title",n="Sound: "+e[27].type+" at "+Xe(e[27].start)),this.first=t},m(r,i){D(r,t,i)},p(r,i){e=r,i[0]&10&&ye(t,"top",e[27].start/e[1]*100+"%"),i[0]&8&&n!==(n="Sound: "+e[27].type+" at "+Xe(e[27].start))&&f(t,"title",n)},d(r){r&&P(t)}}}function Zr(l){let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w=Xe(l[2])+"",L,H,A,V,E=K(Array(Math.max(1,Math.ceil(l[1]/10)))),$=[];for(let y=0;y<E.length;y+=1)$[y]=Il(Dl(l,E,y));let R=K(l[6]),I=[];for(let y=0;y<R.length;y+=1)I[y]=zl(Pl(l,R,y));let W=l[5].length>0&&Hl(l),S=l[4].length>0&&Vl(l),M=l[3].length>0&&jl(l);return{c(){e=_("div"),t=_("div"),t.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=C(),r=_("div"),i=_("button"),o=_("div");for(let y=0;y<$.length;y+=1)$[y].c();s=C(),c=_("div");for(let y=0;y<I.length;y+=1)I[y].c();a=C(),W&&W.c(),p=C(),S&&S.c(),d=C(),M&&M.c(),g=C(),m=_("div"),h=_("div"),k=C(),v=_("div"),b=_("span"),L=j(w),f(t,"class","h-10 border-b border-dark-lighter flex items-center justify-center px-2 bg-dark-light"),f(o,"class","absolute inset-0 pointer-events-none"),f(c,"class","absolute top-0 bottom-0 left-2 right-2"),f(h,"class","absolute -left-1.5 -top-1 w-3 h-3 bg-red-500 rounded-full"),f(m,"class","absolute left-0 right-0 h-0.5 bg-red-500 z-10 pointer-events-none transition-all duration-75 ease-linear"),f(m,"style",l[13]()),f(i,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(i,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f(v,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(y,x){D(y,e,x),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o);for(let B=0;B<$.length;B+=1)$[B]&&$[B].m(o,null);u(i,s),u(i,c);for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(c,null);u(i,a),W&&W.m(i,null),u(i,p),S&&S.m(i,null),u(i,d),M&&M.m(i,null),u(i,g),u(i,m),u(m,h),l[19](i),u(e,k),u(e,v),u(v,b),u(b,L),H=!0,A||(V=J(i,"click",l[9]),A=!0)},p(y,x){if(x[0]&2){E=K(Array(Math.max(1,Math.ceil(y[1]/10))));let B;for(B=0;B<E.length;B+=1){const G=Dl(y,E,B);$[B]?$[B].p(G,x):($[B]=Il(G),$[B].c(),$[B].m(o,null))}for(;B<$.length;B+=1)$[B].d(1);$.length=E.length}if(x[0]&5312){R=K(y[6]);let B;for(B=0;B<R.length;B+=1){const G=Pl(y,R,B);I[B]?I[B].p(G,x):(I[B]=zl(G),I[B].c(),I[B].m(c,null))}for(;B<I.length;B+=1)I[B].d(1);I.length=R.length}y[5].length>0?W?(W.p(y,x),x[0]&32&&T(W,1)):(W=Hl(y),W.c(),T(W,1),W.m(i,p)):W&&(xe(),N(W,1,1,()=>{W=null}),Ce()),y[4].length>0?S?S.p(y,x):(S=Vl(y),S.c(),S.m(i,d)):S&&(S.d(1),S=null),y[3].length>0?M?M.p(y,x):(M=jl(y),M.c(),M.m(i,g)):M&&(M.d(1),M=null),(!H||x[0]&4)&&w!==(w=Xe(y[2])+"")&&de(L,w)},i(y){H||(T(W),H=!0)},o(y){N(W),H=!1},d(y){y&&P(e),pe($,y),pe(I,y),W&&W.d(),S&&S.d(),M&&M.d(),l[19](null),A=!1,V()}}}function Jr(l,e,t){let n,r,i,o,s,c,a,p,d;Ae(l,fe,y=>t(14,a=y)),Ae(l,De,y=>t(15,p=y)),Ae(l,ot,y=>t(7,d=y));let g,m=!1,h=null,k=0,v=0,b;Mt(()=>(b=g.getBoundingClientRect(),window.addEventListener("mousemove",L),window.addEventListener("mouseup",H),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",H)}));function w(y,x,B){y.button===0&&(m=!0,h=x,k=y.clientY,v=B,b=g.getBoundingClientRect(),y.preventDefault())}function L(y){var ue;if(!m||!h||!g)return;const G=(y.clientY-k)/b.height*n;let X=v+G;X=Math.max(0,Math.min(X,n-(((ue=a.bRollClips.find(q=>q.id===h))==null?void 0:ue.duration)||0))),fe.updateBRollClipStart(h,X)}function H(){m=!1,h=null}function A(y){if(!g||n<=0||m)return;const x=g.getBoundingClientRect(),B=y.clientY-x.top,X=Math.max(0,Math.min(1,B/x.height))*n;De.setCurrentTime(X),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:X}}))}function V(y){ot.update(x=>({...x,selectedCaptionId:y.id})),De.setCurrentTime(y.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:y.start}}))}function E(y){fe.removeBRoll(y)}function $(y){const x=y.start/n*100,B=(y.end-y.start)/n*100;return`top: ${x}%; height: ${Math.max(1,B)}%;`}function R(){if(!n||n<=0)return"top: 0%;";const y=c/n*100;return`top: ${Math.max(0,Math.min(100,y))}%;`}const I=y=>V(y),W=y=>E(y.id),S=(y,x)=>w(x,y.id,y.start);function M(y){it[y?"unshift":"push"](()=>{g=y,t(0,g)})}return l.$$.update=()=>{l.$$.dirty[0]&16384&&t(1,n=(a==null?void 0:a.videoDuration)||1),l.$$.dirty[0]&16384&&t(6,r=(a==null?void 0:a.captions)||[]),l.$$.dirty[0]&16384&&t(5,i=(a==null?void 0:a.bRollClips)||[]),l.$$.dirty[0]&16384&&t(4,o=(a==null?void 0:a.zoomEffects)||[]),l.$$.dirty[0]&16384&&t(3,s=(a==null?void 0:a.soundEffects)||[]),l.$$.dirty[0]&32768&&t(2,c=p.currentTime)},[g,n,c,s,o,i,r,d,w,A,V,E,$,R,a,p,I,W,S,M]}class Xr extends $e{constructor(e){super(),Se(this,e,Jr,Zr,be,{},null,[-1,-1])}}function Qr(l){const e=l-1;return e*e*e+1}function Yl(l,{delay:e=0,duration:t=400,easing:n=ln}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function Kl(l,{delay:e=0,duration:t=400,easing:n=Qr,start:r=0,opacity:i=0}={}){const o=getComputedStyle(l),s=+o.opacity,c=o.transform==="none"?"":o.transform,a=1-r,p=s*(1-i);return{delay:e,duration:t,easing:n,css:(d,g)=>`
			transform: ${c} scale(${1-a*g});
			opacity: ${s-p*g}
		`}}function Gl(l,e,t){const n=l.slice();return n[14]=e[t],n}function Zl(l,e,t){const n=l.slice();return n[17]=e[t],n}function Jl(l,e,t){const n=l.slice();return n[20]=e[t],n}function Xl(l){let e,t,n,r,i,o,s,c,a;function p(m,h){return m[1]?ti:ei}let d=p(l),g=d(l);return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="Export Video",r=C(),g.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(t,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(m,h){D(m,e,h),u(e,t),u(t,n),u(t,r),g.m(t,null),s=!0,c||(a=[J(t,"click",Et(l[8])),J(e,"click",l[6]),J(e,"keydown",l[12])],c=!0)},p(m,h){d===(d=p(m))&&g?g.p(m,h):(g.d(1),g=d(m),g&&(g.c(),g.m(t,null)))},i(m){s||(m&&Je(()=>{s&&(i||(i=ft(t,Kl,{duration:200,start:.95},!0)),i.run(1))}),m&&Je(()=>{s&&(o||(o=ft(e,Yl,{duration:200},!0)),o.run(1))}),s=!0)},o(m){m&&(i||(i=ft(t,Kl,{duration:200,start:.95},!1)),i.run(0)),m&&(o||(o=ft(e,Yl,{duration:200},!1)),o.run(0)),s=!1},d(m){m&&P(e),g.d(),m&&i&&i.end(),m&&o&&o.end(),c=!1,Fe(a)}}}function ei(l){let e,t,n,r,i,o,s,c,a,p,d,g,m,h,k,v,b,w,L,H,A,V,E=K(["1080x1920","1920x1080","1080x1080"]),$=[];for(let M=0;M<3;M+=1)$[M]=Ql(Jl(l,E,M));let R=K([24,30,60]),I=[];for(let M=0;M<3;M+=1)I[M]=en(Zl(l,R,M));let W=K(["standard","high","ultra"]),S=[];for(let M=0;M<3;M+=1)S[M]=tn(Gl(l,W,M));return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Resolution",r=C(),i=_("div");for(let M=0;M<3;M+=1)$[M].c();o=C(),s=_("div"),c=_("label"),c.textContent="Frame Rate",a=C(),p=_("div");for(let M=0;M<3;M+=1)I[M].c();d=C(),g=_("div"),m=_("label"),m.textContent="Quality",h=C(),k=_("div");for(let M=0;M<3;M+=1)S[M].c();v=C(),b=_("div"),w=_("button"),w.textContent="Cancel",L=C(),H=_("button"),H.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(c,"class","text-sm text-dark-text-light mb-2 block"),f(p,"class","flex gap-2"),f(m,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f(w,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(H,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(M,y){D(M,e,y),u(e,t),u(t,n),u(t,r),u(t,i);for(let x=0;x<3;x+=1)$[x]&&$[x].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,p);for(let x=0;x<3;x+=1)I[x]&&I[x].m(p,null);u(e,d),u(e,g),u(g,m),u(g,h),u(g,k);for(let x=0;x<3;x+=1)S[x]&&S[x].m(k,null);u(e,v),u(e,b),u(b,w),u(b,L),u(b,H),A||(V=[J(w,"click",l[6]),J(H,"click",l[5])],A=!0)},p(M,y){if(y&1){E=K(["1080x1920","1920x1080","1080x1080"]);let x;for(x=0;x<3;x+=1){const B=Jl(M,E,x);$[x]?$[x].p(B,y):($[x]=Ql(B),$[x].c(),$[x].m(i,null))}for(;x<3;x+=1)$[x].d(1)}if(y&1){R=K([24,30,60]);let x;for(x=0;x<3;x+=1){const B=Zl(M,R,x);I[x]?I[x].p(B,y):(I[x]=en(B),I[x].c(),I[x].m(p,null))}for(;x<3;x+=1)I[x].d(1)}if(y&1){W=K(["standard","high","ultra"]);let x;for(x=0;x<3;x+=1){const B=Gl(M,W,x);S[x]?S[x].p(B,y):(S[x]=tn(B),S[x].c(),S[x].m(k,null))}for(;x<3;x+=1)S[x].d(1)}},d(M){M&&P(e),pe($,M),pe(I,M),pe(S,M),A=!1,Fe(V)}}}function ti(l){let e,t,n,r,i,o,s,c,a,p,d,g,m;return{c(){e=_("div"),t=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=C(),i=_("p"),o=j(l[3]),s=C(),c=_("p"),a=j(l[2]),p=j("% complete"),d=C(),g=_("div"),m=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(i,"class","text-lg font-medium text-white"),f(c,"class","text-sm text-dark-text-light mt-1"),f(t,"class","text-center"),f(m,"class","h-full bg-primary transition-all duration-300"),ye(m,"width",l[2]+"%"),f(g,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(h,k){D(h,e,k),u(e,t),u(t,n),u(t,r),u(t,i),u(i,o),u(t,s),u(t,c),u(c,a),u(c,p),u(e,d),u(e,g),u(g,m)},p(h,k){k&8&&de(o,h[3]),k&4&&de(a,h[2]),k&4&&ye(m,"width",h[2]+"%")},d(h){h&&P(e)}}}function Ql(l){let e,t=l[20].split("x")[0]==="1080"&&l[20].split("x")[1]==="1920"?"9:16":l[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,i,o,s;function c(){return l[9](l[20])}return{c(){e=_("button"),n=j(t),r=C(),f(e,"class",i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,p){D(a,e,p),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,p){l=a,p&1&&i!==(i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&P(e),o=!1,s()}}}function en(l){let e,t,n,r,i,o;function s(){return l[10](l[17])}return{c(){e=_("button"),t=j(l[17]),n=j(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){D(c,e,a),u(e,t),u(e,n),i||(o=J(e,"click",s),i=!0)},p(c,a){l=c,a&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&P(e),i=!1,o()}}}function tn(l){let e,t=l[14].charAt(0).toUpperCase()+l[14].slice(1)+"",n,r,i,o,s;function c(){return l[11](l[14])}return{c(){e=_("button"),n=j(t),r=C(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,p){D(a,e,p),u(e,n),u(e,r),o||(s=J(e,"click",c),o=!0)},p(a,p){l=a,p&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&P(e),o=!1,s()}}}function li(l){let e,t=l[4]&&Xl(l);return{c(){t&&t.c(),e=$t()},m(n,r){t&&t.m(n,r),D(n,e,r)},p(n,[r]){n[4]?t?(t.p(n,r),r&16&&T(t,1)):(t=Xl(n),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(xe(),N(t,1,1,()=>{t=null}),Ce())},i(n){T(t)},o(n){N(t)},d(n){n&&P(e),t&&t.d(n)}}}function ni(l,e,t){let n,r,i;Ae(l,fe,b=>t(13,r=b)),Ae(l,ot,b=>t(7,i=b));let o={resolution:"1080x1920",fps:30,quality:"high"},s=!1,c=0,a="";async function p(){if(r){t(1,s=!0),t(3,a="Preparing..."),t(2,c=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:o,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const w=await b.json(),L=setInterval(async()=>{const A=await(await fetch(`/api/export/status/${w.export_id}`)).json();t(2,c=A.progress||0),t(3,a=A.message||"Processing..."),A.status==="completed"?(clearInterval(L),t(1,s=!1),window.open(A.download_url,"_blank"),d()):A.status==="failed"&&(clearInterval(L),t(1,s=!1),t(3,a="Export failed"))},2e3)}catch(b){t(1,s=!1),t(3,a="Export failed"),console.error("Export error:",b)}}}function d(){s||ot.update(b=>({...b,isExporting:!1}))}function g(b){En.call(this,l,b)}const m=b=>t(0,o.resolution=b,o),h=b=>t(0,o.fps=b,o),k=b=>t(0,o.quality=b,o),v=b=>b.key==="Escape"&&d();return l.$$.update=()=>{l.$$.dirty&128&&t(4,n=i.isExporting)},[o,s,c,a,n,p,d,i,g,m,h,k,v]}class ri extends $e{constructor(e){super(),Se(this,e,ni,li,be,{})}}function ii(l){let e,t;return e=new yr({props:{$$slots:{timeline:[di],panel:[fi],preview:[ui],sidebar:[ci]},$$scope:{ctx:l}}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p(n,r){const i={};r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function oi(l){let e,t,n,r,i,o,s,c,a,p,d,g,m;return{c(){e=_("div"),t=_("h2"),t.textContent="Start Creating Magic",n=C(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,i=C(),o=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,c=C(),a=_("a"),a.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,p=C(),d=_("p"),d.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(t,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(a,"href","/dashboard"),f(a,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(o,"class","flex gap-4 mb-12 animate-bounce-in"),f(d,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(h,k){D(h,e,k),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),u(e,p),u(e,d),g||(m=J(s,"click",l[3]),g=!0)},p:Q,i:Q,o:Q,d(h){h&&P(e),g=!1,m()}}}function si(l){let e,t;return{c(){e=_("div"),t=j(l[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){D(n,e,r),u(e,t)},p(n,r){r&2&&de(t,n[1])},i:Q,o:Q,d(n){n&&P(e)}}}function ai(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(t,n){D(t,e,n)},p:Q,i:Q,o:Q,d(t){t&&P(e)}}}function ci(l){let e,t;return e=new gr({props:{slot:"sidebar"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function ui(l){let e,t;return e=new Er({props:{slot:"preview"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function fi(l){let e,t;return e=new Gr({props:{slot:"panel"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function di(l){let e,t;return e=new Xr({props:{slot:"timeline"}}),{c(){re(e.$$.fragment)},m(n,r){le(e,n,r),t=!0},p:Q,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ne(e,n)}}}function hi(l){let e,t,n,r,i,o;const s=[ai,si,oi,ii],c=[];function a(p,d){return p[0]?0:p[1]?1:p[2]?3:2}return t=a(l),n=c[t]=s[t](l),i=new ri({}),{c(){e=_("main"),n.c(),r=C(),re(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(p,d){D(p,e,d),c[t].m(e,null),D(p,r,d),le(i,p,d),o=!0},p(p,[d]){let g=t;t=a(p),t===g?c[t].p(p,d):(xe(),N(c[g],1,1,()=>{c[g]=null}),Ce(),n=c[t],n?n.p(p,d):(n=c[t]=s[t](p),n.c()),T(n,1),n.m(e,null))},i(p){o||(T(n),T(i.$$.fragment,p),o=!0)},o(p){N(n),N(i.$$.fragment,p),o=!1},d(p){p&&(P(e),P(r)),c[t].d(),ne(i,p)}}}function pi(l,e,t){let n;Ae(l,fe,a=>t(2,n=a));let r=null,i=!0,o=null;Mt(async()=>{const a=window.location.pathname.split("/"),p=a.indexOf("edit");p>-1&&a.length>p+1?(r=a[p+1],await s(r)):t(0,i=!1)});async function s(a){try{t(0,i=!0),console.log("Loading project:",a);const p=await fetch(`/api/editor_data/${a}`);if(console.log("Response status:",p.status),!p.ok)throw new Error("Failed to load project");const d=await p.json();console.log("Project data received:",d),console.log("Video URL:",d.video_url),console.log("Captions:",d.captions);const g=d.captions||[];console.log("Processing captions:",g.length,"items");let m=0;if(g.length>0){const k=g[g.length-1];if(k!=null&&k.words&&k.words.length>0){const v=k.words[k.words.length-1];m=(v==null?void 0:v.end)||0}else k!=null&&k.end&&(m=k.end)}console.log("Calculated duration:",m);const h={id:d.job_id,name:d.original_filename||"Untitled",videoUrl:d.video_url,videoDuration:m,captions:g,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:d.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date};console.log("Setting project store with:",h),fe.set(h),m&&De.update(k=>({...k,duration:m})),console.log("Project loaded successfully")}catch(p){console.error("Error loading project:",p),t(1,o=p instanceof Error?p.message:"Failed to load project")}finally{t(0,i=!1),console.log("Loading finished. currentProject:",n)}}return[i,o,n,()=>window.location.href="/upload"]}class gi extends $e{constructor(e){super(),Se(this,e,pi,hi,be,{})}}new gi({target:document.getElementById("app")});
