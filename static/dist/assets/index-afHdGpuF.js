var el=Object.defineProperty;var tl=(t,e,n)=>e in t?el(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var gt=(t,e,n)=>tl(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function O(){}const An=t=>t;function Z(t,e){for(const n in e)t[n]=e[n];return t}function Rn(t){return t()}function Pt(){return Object.create(null)}function be(t){t.forEach(Rn)}function ft(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let tt;function ot(t,e){return t===e?!0:(tt||(tt=document.createElement("a")),tt.href=e,t===tt.href)}function nl(t){return Object.keys(t).length===0}function Hn(t,...e){if(t==null){for(const l of e)l(void 0);return O}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function de(t,e,n){t.$$.on_destroy.push(Hn(e,n))}function we(t,e,n,l){if(t){const r=Dn(t,e,n,l);return t[0](r)}}function Dn(t,e,n,l){return t[1]&&l?Z(n.ctx.slice(),t[1](l(e))):n.ctx}function ke(t,e,n,l){if(t[2]&&l){const r=t[2](l(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let s=0;s<i;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function xe(t,e,n,l,r,o){if(r){const i=Dn(e,n,l,o);t.p(i,r)}}function Fe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function he(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function jt(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const On=typeof window<"u";let ll=On?()=>window.performance.now():()=>Date.now(),wt=On?t=>requestAnimationFrame(t):O;const Ae=new Set;function Un(t){Ae.forEach(e=>{e.c(t)||(Ae.delete(e),e.f())}),Ae.size!==0&&wt(Un)}function rl(t){let e;return Ae.size===0&&wt(Un),{promise:new Promise(n=>{Ae.add(e={c:t,f:n})}),abort(){Ae.delete(e)}}}function u(t,e){t.appendChild(e)}function qn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ol(t){const e=m("style");return e.textContent="/* empty */",il(qn(t),e),e.sheet}function il(t,e){return u(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function re(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function it(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function $(){return J(" ")}function kt(){return J("")}function q(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Vn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function st(t,e){for(const n in e)f(t,n,e[n])}function sl(t){return Array.from(t.childNodes)}function _e(t,e){e=""+e,t.data!==e&&(t.data=e)}function at(t,e){t.value=e??""}function Me(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function nt(t,e,n){for(let l=0;l<t.options.length;l+=1){const r=t.options[l];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function al(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function Lt(t,e){return new t(e)}const ct=new Map;let ut=0;function cl(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ul(t,e){const n={stylesheet:ol(e),rules:{}};return ct.set(t,n),n}function It(t,e,n,l,r,o,i,s=0){const a=16.666/l;let c=`{
`;for(let k=0;k<=1;k+=a){const b=e+(n-e)*o(k);c+=k*100+`%{${i(b,1-b)}}
`}const g=c+`100% {${i(n,1-n)}}
}`,_=`__svelte_${cl(g)}_${s}`,d=qn(t),{stylesheet:h,rules:p}=ct.get(d)||ul(d,t);p[_]||(p[_]=!0,h.insertRule(`@keyframes ${_} ${g}`,h.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${_} ${l}ms linear ${r}ms 1 both`,ut+=1,_}function fl(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=n.length-l.length;r&&(t.style.animation=l.join(", "),ut-=r,ut||dl())}function dl(){wt(()=>{ut||(ct.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&j(e)}),ct.clear())})}let Ke;function Ze(t){Ke=t}function hl(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Gn(t){hl().$$.on_mount.push(t)}function gl(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const ze=[],Xe=[];let Re=[];const zt=[],pl=Promise.resolve();let bt=!1;function ml(){bt||(bt=!0,pl.then(Jn))}function He(t){Re.push(t)}const pt=new Set;let Le=0;function Jn(){if(Le!==0)return;const t=Ke;do{try{for(;Le<ze.length;){const e=ze[Le];Le++,Ze(e),_l(e.$$)}}catch(e){throw ze.length=0,Le=0,e}for(Ze(null),ze.length=0,Le=0;Xe.length;)Xe.pop()();for(let e=0;e<Re.length;e+=1){const n=Re[e];pt.has(n)||(pt.add(n),n())}Re.length=0}while(ze.length);for(;zt.length;)zt.pop()();bt=!1,pt.clear(),Ze(t)}function _l(t){if(t.fragment!==null){t.update(),be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(He)}}function bl(t){const e=[],n=[];Re.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Re=e}let Ye;function yl(){return Ye||(Ye=Promise.resolve(),Ye.then(()=>{Ye=null})),Ye}function mt(t,e,n){t.dispatchEvent(al(`${e?"intro":"outro"}${n}`))}const rt=new Set;let Te;function Ce(){Te={r:0,c:[],p:Te}}function $e(){Te.r||be(Te.c),Te=Te.p}function E(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function L(t,e,n,l){if(t&&t.o){if(rt.has(t))return;rt.add(t),Te.c.push(()=>{rt.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const vl={duration:0};function lt(t,e,n,l){let o=e(t,n,{direction:"both"}),i=l?0:1,s=null,a=null,c=null,g;function _(){c&&fl(t,c)}function d(p,w){const k=p.b-i;return w*=Math.abs(k),{a:i,b:p.b,d:k,duration:w,start:p.start,end:p.start+w,group:p.group}}function h(p){const{delay:w=0,duration:k=300,easing:b=An,tick:y=O,css:x}=o||vl,N={start:ll()+w,b:p};p||(N.group=Te,Te.r+=1),"inert"in t&&(p?g!==void 0&&(t.inert=g):(g=t.inert,t.inert=!0)),s||a?a=N:(x&&(_(),c=It(t,i,p,k,w,b,x)),p&&y(0,1),s=d(N,k),He(()=>mt(t,p,"start")),rl(W=>{if(a&&W>a.start&&(s=d(a,k),a=null,mt(t,s.b,"start"),x&&(_(),c=It(t,i,s.b,s.duration,0,b,o.css))),s){if(W>=s.end)y(i=s.b,1-i),mt(t,s.b,"end"),a||(s.b?_():--s.group.r||be(s.group.c)),s=null;else if(W>=s.start){const M=W-s.start;i=s.a+s.d*b(M/s.duration),y(i,1-i)}}return!!(s||a)}))}return{run(p){ft(o)?yl().then(()=>{o=o({direction:p?"in":"out"}),h(p)}):h(p)},end(){_(),s=a=null}}}function D(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ee(t,e){const n={},l={},r={$$scope:1};let o=t.length;for(;o--;){const i=t[o],s=e[o];if(s){for(const a in i)a in s||(l[a]=1);for(const a in s)r[a]||(n[a]=s[a],r[a]=1);t[o]=s}else for(const a in i)r[a]=1}for(const i in l)i in n||(n[i]=void 0);return n}function De(t){return typeof t=="object"&&t!==null?t:{}}function le(t){t&&t.c()}function X(t,e,n){const{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),He(()=>{const o=t.$$.on_mount.map(Rn).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...o):be(o),t.$$.on_mount=[]}),r.forEach(He)}function ee(t,e){const n=t.$$;n.fragment!==null&&(bl(n.after_update),be(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wl(t,e){t.$$.dirty[0]===-1&&(ze.push(t),ml(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,n,l,r,o,i=null,s=[-1]){const a=Ke;Ze(t);const c=t.$$={fragment:null,ctx:[],props:o,update:O,not_equal:r,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Pt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};i&&i(c.root);let g=!1;if(c.ctx=n?n(t,e.props||{},(_,d,...h)=>{const p=h.length?h[0]:d;return c.ctx&&r(c.ctx[_],c.ctx[_]=p)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](p),g&&wl(t,_)),d}):[],c.update(),g=!0,be(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const _=sl(e.target);c.fragment&&c.fragment.l(_),_.forEach(j)}else c.fragment&&c.fragment.c();e.intro&&E(t.$$.fragment),X(t,e.target,e.anchor),Jn()}Ze(a)}class pe{constructor(){gt(this,"$$");gt(this,"$$set")}$destroy(){ee(this,1),this.$destroy=O}$on(e,n){if(!ft(n))return O;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!nl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kl);const Ie=[];function xl(t,e){return{subscribe:Oe(t,e).subscribe}}function Oe(t,e=O){let n;const l=new Set;function r(s){if(ie(t,s)&&(t=s,n)){const a=!Ie.length;for(const c of l)c[1](),Ie.push(c,t);if(a){for(let c=0;c<Ie.length;c+=2)Ie[c][0](Ie[c+1]);Ie.length=0}}}function o(s){r(s(t))}function i(s,a=O){const c=[s,a];return l.add(c),l.size===1&&(n=e(r,o)||O),s(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}function Qn(t,e,n){const l=!Array.isArray(t),r=l?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return xl(n,(i,s)=>{let a=!1;const c=[];let g=0,_=O;const d=()=>{if(g)return;_();const p=e(l?c[0]:c,i,s);o?i(p):_=ft(p)?p:O},h=r.map((p,w)=>Hn(p,k=>{c[w]=k,g&=~(1<<w),a&&d()},()=>{g|=1<<w}));return a=!0,d(),function(){be(h),_(),a=!1}})}const yt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},Fl={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1},vt=Oe("captions");function Cl(){const{subscribe:t,set:e,update:n}=Oe(null);return{subscribe:t,set:e,update:n,updateCaption:(l,r)=>{n(o=>{if(!o)return o;const i=o.captions.map(s=>s.id===l?{...s,...r}:s);return{...o,captions:i,updatedAt:new Date}})},updateStyle:l=>{n(r=>r&&{...r,style:{...r.style,...l},updatedAt:new Date})},applyPreset:l=>{n(r=>{if(!r)return r;const o=yt[l];return o?{...r,style:{...Fl,...o},updatedAt:new Date}:r})},addBRoll:l=>{n(r=>r&&{...r,bRollClips:[...r.bRollClips,l],updatedAt:new Date})},removeBRoll:l=>{n(r=>r&&{...r,bRollClips:r.bRollClips.filter(o=>o.id!==l),updatedAt:new Date})}}}const oe=Cl();function $l(){const{subscribe:t,set:e,update:n}=Oe({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:n,setCurrentTime:l=>n(r=>({...r,currentTime:l})),setPlaying:l=>n(r=>({...r,isPlaying:l})),togglePlay:()=>n(l=>({...l,isPlaying:!l.isPlaying}))}}const ve=$l(),et=Oe({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1}),At=Oe(null),Yn=Qn([oe,ve],([t,e])=>t&&t.captions.find(n=>e.currentTime>=n.start&&e.currentTime<=n.end)||null),Sl=Qn([Yn,ve],([t,e])=>!t||!t.words?null:t.words.find(n=>e.currentTime>=n.start&&e.currentTime<=n.end)||null);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ht(t,e,n){const l=t.slice();return l[10]=e[n][0],l[11]=e[n][1],l}function _t(t){let e,n=[t[11]],l={};for(let r=0;r<n.length;r+=1)l=Z(l,n[r]);return{c(){e=it(t[10]),st(e,l)},m(r,o){I(r,e,o)},p(r,o){st(e,l=Ee(n,[o&32&&r[11]]))},d(r){r&&j(e)}}}function Dt(t){let e=t[10],n,l=t[10]&&_t(t);return{c(){l&&l.c(),n=kt()},m(r,o){l&&l.m(r,o),I(r,n,o)},p(r,o){r[10]?e?ie(e,r[10])?(l.d(1),l=_t(r),e=r[10],l.c(),l.m(n.parentNode,n)):l.p(r,o):(l=_t(r),e=r[10],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=r[10])},d(r){r&&j(n),l&&l.d(r)}}}function Ml(t){let e,n,l,r,o,i=D(t[5]),s=[];for(let d=0;d<i.length;d+=1)s[d]=Dt(Ht(t,i,d));const a=t[9].default,c=we(a,t,t[8],null);let g=[Rt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":l=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],_={};for(let d=0;d<g.length;d+=1)_=Z(_,g[d]);return{c(){e=it("svg");for(let d=0;d<s.length;d+=1)s[d].c();n=kt(),c&&c.c(),st(e,_)},m(d,h){I(d,e,h);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(e,null);u(e,n),c&&c.m(e,null),o=!0},p(d,[h]){if(h&32){i=D(d[5]);let p;for(p=0;p<i.length;p+=1){const w=Ht(d,i,p);s[p]?s[p].p(w,h):(s[p]=Dt(w),s[p].c(),s[p].m(e,n))}for(;p<s.length;p+=1)s[p].d(1);s.length=i.length}c&&c.p&&(!o||h&256)&&xe(c,a,d,d[8],o?ke(a,d[8],h,null):Fe(d[8]),null),st(e,_=Ee(g,[Rt,h&64&&d[6],(!o||h&4)&&{width:d[2]},(!o||h&4)&&{height:d[2]},(!o||h&2)&&{stroke:d[1]},(!o||h&28&&l!==(l=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":l},(!o||h&129&&r!==(r=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:r}]))},i(d){o||(E(c,d),o=!0)},o(d){L(c,d),o=!1},d(d){d&&j(e),re(s,d),c&&c.d(d)}}}function Tl(t,e,n){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=jt(e,l),{$$slots:o={},$$scope:i}=e,{name:s}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:g=2}=e,{absoluteStrokeWidth:_=!1}=e,{iconNode:d}=e;return t.$$set=h=>{n(7,e=Z(Z({},e),he(h))),n(6,r=jt(e,l)),"name"in h&&n(0,s=h.name),"color"in h&&n(1,a=h.color),"size"in h&&n(2,c=h.size),"strokeWidth"in h&&n(3,g=h.strokeWidth),"absoluteStrokeWidth"in h&&n(4,_=h.absoluteStrokeWidth),"iconNode"in h&&n(5,d=h.iconNode),"$$scope"in h&&n(8,i=h.$$scope)},e=he(e),[s,a,c,g,_,d,r,e,i,o]}class Ue extends pe{constructor(e){super(),ge(this,e,Tl,Ml,ie,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function El(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Wl(t){let e,n;const l=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[El]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function Bl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Zn extends pe{constructor(e){super(),ge(this,e,Bl,Wl,ie,{})}}function Nl(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Pl(t){let e,n;const l=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Nl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function jl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Kn extends pe{constructor(e){super(),ge(this,e,jl,Pl,ie,{})}}function Ll(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Il(t){let e,n;const l=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Ll]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function zl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Al extends pe{constructor(e){super(),ge(this,e,zl,Il,ie,{})}}function Rl(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Hl(t){let e,n;const l=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Rl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function Dl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Ol extends pe{constructor(e){super(),ge(this,e,Dl,Hl,ie,{})}}function Ul(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function ql(t){let e,n;const l=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Ul]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function Vl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Xn extends pe{constructor(e){super(),ge(this,e,Vl,ql,ie,{})}}function Gl(t){let e;const n=t[2].default,l=we(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&xe(l,n,r,r[3],e?ke(n,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(l,r),e=!0)},o(r){L(l,r),e=!1},d(r){l&&l.d(r)}}}function Jl(t){let e,n;const l=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Gl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=Z(r,l[o]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(o,i){X(e,o,i),n=!0},p(o,[i]){const s=i&3?Ee(l,[l[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(E(e.$$.fragment,o),n=!0)},o(o){L(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function Ql(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=i=>{n(1,e=Z(Z({},e),he(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=he(e),[o,e,l,r]}class Yl extends pe{constructor(e){super(),ge(this,e,Ql,Jl,ie,{})}}function Ot(t,e,n){const l=t.slice();return l[3]=e[n],l}function Ut(t){let e,n,l,r,o,i,s,a,c;var g=t[3].icon;function _(h,p){return{props:{class:"w-5 h-5"}}}g&&(n=Lt(g,_()));function d(){return t[2](t[3])}return{c(){e=m("button"),n&&le(n.$$.fragment),l=$(),r=m("span"),r.textContent=`${t[3].label}`,o=$(),f(r,"class","absolute left-14 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")),f(e,"title",t[3].label)},m(h,p){I(h,e,p),n&&X(n,e,null),u(e,l),u(e,r),u(e,o),s=!0,a||(c=q(e,"click",d),a=!0)},p(h,p){if(t=h,g!==(g=t[3].icon)){if(n){Ce();const w=n;L(w.$$.fragment,1,0,()=>{ee(w,1)}),$e()}g?(n=Lt(g,_()),le(n.$$.fragment),E(n.$$.fragment,1),X(n,e,l)):n=null}(!s||p&1&&i!==(i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")))&&f(e,"class",i)},i(h){s||(n&&E(n.$$.fragment,h),s=!0)},o(h){n&&L(n.$$.fragment,h),s=!1},d(h){h&&j(e),n&&ee(n),a=!1,c()}}}function Zl(t){let e,n,l,r,o,i,s,a,c,g,_,d,h=D(t[1]),p=[];for(let k=0;k<h.length;k+=1)p[k]=Ut(Ot(t,h,k));const w=k=>L(p[k],1,1,()=>{p[k]=null});return{c(){e=m("div"),n=m("div"),n.innerHTML='<a href="/" class="text-gray-900"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',l=$(),r=m("nav");for(let k=0;k<p.length;k+=1)p[k].c();o=$(),i=m("div"),s=m("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',a=$(),c=m("button"),c.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(n,"class","h-14 flex items-center justify-center border-b border-gray-200"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-gray-900 hover:bg-gray-200 transition"),f(s,"title","Profile"),f(c,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-red-600 hover:bg-red-50 transition"),f(c,"title","Logout"),f(i,"class","flex flex-col items-center py-4 gap-2 border-t border-gray-200"),f(e,"class","flex flex-col h-full")},m(k,b){I(k,e,b),u(e,n),u(e,l),u(e,r);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(r,null);u(e,o),u(e,i),u(i,s),u(i,a),u(i,c),g=!0,_||(d=q(c,"click",Kl),_=!0)},p(k,[b]){if(b&3){h=D(k[1]);let y;for(y=0;y<h.length;y+=1){const x=Ot(k,h,y);p[y]?(p[y].p(x,b),E(p[y],1)):(p[y]=Ut(x),p[y].c(),E(p[y],1),p[y].m(r,null))}for(Ce(),y=h.length;y<p.length;y+=1)w(y);$e()}},i(k){if(!g){for(let b=0;b<h.length;b+=1)E(p[b]);g=!0}},o(k){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)L(p[b]);g=!1},d(k){k&&j(e),re(p,k),_=!1,d()}}}function Kl(){window.location.href="/logout"}function Xl(t,e,n){let l;return de(t,vt,i=>n(0,l=i)),[l,[{id:"captions",label:"Captions",icon:Yl},{id:"style",label:"Style",icon:Al},{id:"broll",label:"B-Roll",icon:Zn},{id:"ai-tools",label:"AI Tools",icon:Xn}],i=>vt.set(i.id)]}class er extends pe{constructor(e){super(),ge(this,e,Xl,Zl,ie,{})}}const tr=t=>({}),qt=t=>({}),nr=t=>({}),Vt=t=>({}),lr=t=>({}),Gt=t=>({}),rr=t=>({}),Jt=t=>({});function or(t){let e,n,l,r,o,i,s,a,c,g,_,d,h,p,w,k,b,y,x,N;const W=t[1].sidebar,M=we(W,t,t[0],Jt),H=t[1].preview,T=we(H,t,t[0],Gt),B=t[1].timeline,R=we(B,t,t[0],Vt),V=t[1].panel,F=we(V,t,t[0],qt);return{c(){e=m("div"),n=m("aside"),M&&M.c(),l=$(),r=m("div"),o=m("header"),i=m("div"),i.innerHTML='<h1 class="font-semibold text-lg text-gray-900">Video Editor</h1> <span class="text-xs text-gray-400">Auto-save enabled</span>',s=$(),a=m("div"),c=m("button"),c.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
          Export Video`,g=$(),_=m("div"),d=m("div"),h=m("div"),T&&T.c(),p=$(),w=m("div"),R&&R.c(),k=$(),b=m("aside"),F&&F.c(),f(n,"class","w-16 flex-shrink-0 border-r border-gray-200 bg-gray-50"),f(i,"class","flex items-center gap-4"),f(c,"class","px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition flex items-center gap-2"),f(a,"class","flex items-center gap-2"),f(o,"class","h-14 border-b border-gray-200 flex items-center justify-between px-4 bg-white"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(w,"class","h-48 border-t border-gray-200 bg-white"),f(d,"class","flex-1 flex flex-col min-w-0 bg-gray-100"),f(b,"class","w-80 flex-shrink-0 border-l border-gray-200 bg-gray-50 overflow-y-auto"),f(_,"class","flex-1 flex overflow-hidden"),f(r,"class","flex-1 flex flex-col min-w-0"),f(e,"class","flex h-screen w-full bg-white")},m(v,U){I(v,e,U),u(e,n),M&&M.m(n,null),u(e,l),u(e,r),u(r,o),u(o,i),u(o,s),u(o,a),u(a,c),u(r,g),u(r,_),u(_,d),u(d,h),T&&T.m(h,null),u(d,p),u(d,w),R&&R.m(w,null),u(_,k),u(_,b),F&&F.m(b,null),y=!0,x||(N=q(c,"click",t[2]),x=!0)},p(v,[U]){M&&M.p&&(!y||U&1)&&xe(M,W,v,v[0],y?ke(W,v[0],U,rr):Fe(v[0]),Jt),T&&T.p&&(!y||U&1)&&xe(T,H,v,v[0],y?ke(H,v[0],U,lr):Fe(v[0]),Gt),R&&R.p&&(!y||U&1)&&xe(R,B,v,v[0],y?ke(B,v[0],U,nr):Fe(v[0]),Vt),F&&F.p&&(!y||U&1)&&xe(F,V,v,v[0],y?ke(V,v[0],U,tr):Fe(v[0]),qt)},i(v){y||(E(M,v),E(T,v),E(R,v),E(F,v),y=!0)},o(v){L(M,v),L(T,v),L(R,v),L(F,v),y=!1},d(v){v&&j(e),M&&M.d(v),T&&T.d(v),R&&R.d(v),F&&F.d(v),x=!1,N()}}}function ir(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=()=>et.update(i=>({...i,isExporting:!0}));return t.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,l,o]}class sr extends pe{constructor(e){super(),ge(this,e,ir,or,ie,{})}}function Qt(t){const e=Math.floor(t/60),n=Math.floor(t%60),l=Math.floor(t%1*100);return`${e}:${n.toString().padStart(2,"0")}.${l.toString().padStart(2,"0")}`}function ar(t){switch(t){case"light":return"0 1px 2px rgba(0,0,0,0.5)";case"medium":return"0 2px 4px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4)";case"heavy":return"0 0 0 4px rgba(0,0,0,0.8), 0 4px 12px rgba(0,0,0,0.8), 0 8px 24px rgba(0,0,0,0.6)";default:return"none"}}function cr(t){switch(t){case"pop":return"animate-pop-in";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade-in";case"bounce":return"animate-bounce-in";default:return""}}function Yt(t,e,n){const l=t.slice();return l[22]=e[n],l}function Zt(t){let e,n;function l(i,s){return i[0].wordByWord&&i[8].length>0?fr:ur}let r=l(t),o=r(t);return{c(){e=m("div"),o.c(),f(e,"class",n="absolute inset-x-6 "+t[12]()+" "+t[6]),f(e,"style",t[10]())},m(i,s){I(i,e,s),o.m(e,null)},p(i,s){r===(r=l(i))&&o?o.p(i,s):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),s&64&&n!==(n="absolute inset-x-6 "+i[12]()+" "+i[6])&&f(e,"class",n)},d(i){i&&j(e),o.d()}}}function ur(t){let e=t[1].text+"",n;return{c(){n=J(e)},m(l,r){I(l,n,r)},p(l,r){r&2&&e!==(e=l[1].text+"")&&_e(n,e)},d(l){l&&j(n)}}}function fr(t){let e,n=D(t[8]),l=[];for(let r=0;r<n.length;r+=1)l[r]=Kt(Yt(t,n,r));return{c(){e=m("span");for(let r=0;r<l.length;r+=1)l[r].c();f(e,"class","inline-flex flex-wrap justify-center gap-1")},m(r,o){I(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&2304){n=D(r[8]);let i;for(i=0;i<n.length;i+=1){const s=Yt(r,n,i);l[i]?l[i].p(s,o):(l[i]=Kt(s),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(r){r&&j(e),re(l,r)}}}function Kt(t){let e,n=t[22].text+"",l,r,o;return{c(){e=m("span"),l=J(n),r=$(),f(e,"style",o=t[11](t[22]))},m(i,s){I(i,e,s),u(e,l),u(e,r)},p(i,s){s&256&&n!==(n=i[22].text+"")&&_e(l,n),s&256&&o!==(o=i[11](i[22]))&&f(e,"style",o)},d(i){i&&j(e)}}}function Xt(t){let e,n,l;return{c(){e=m("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(r,o){I(r,e,o),n||(l=q(e,"click",t[9]),n=!0)},p:O,d(r){r&&j(e),n=!1,l()}}}function dr(t){let e,n,l,r,o,i,s,a,c=Math.floor(t[7]/60)+"",g,_,d=(Math.floor(t[7])%60).toString().padStart(2,"0")+"",h,p,w,k=t[1]&&Zt(t),b=!t[2].isPlaying&&Xt(t);return{c(){var y;e=m("div"),n=m("video"),l=m("track"),o=$(),k&&k.c(),i=$(),b&&b.c(),s=$(),a=m("div"),g=J(c),_=J(":"),h=J(d),f(l,"kind","captions"),ot(n.src,r=(y=t[3])==null?void 0:y.videoUrl)||f(n,"src",r),f(n,"class","w-full h-full object-contain"),f(n,"crossorigin","anonymous"),n.playsInline=!0,f(a,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(y,x){I(y,e,x),u(e,n),u(n,l),t[15](n),u(e,o),k&&k.m(e,null),u(e,i),b&&b.m(e,null),u(e,s),u(e,a),u(a,g),u(a,_),u(a,h),t[16](e),p||(w=q(n,"click",t[9]),p=!0)},p(y,[x]){var N;x&8&&!ot(n.src,r=(N=y[3])==null?void 0:N.videoUrl)&&f(n,"src",r),y[1]?k?k.p(y,x):(k=Zt(y),k.c(),k.m(e,i)):k&&(k.d(1),k=null),y[2].isPlaying?b&&(b.d(1),b=null):b?b.p(y,x):(b=Xt(y),b.c(),b.m(e,s)),x&128&&c!==(c=Math.floor(y[7]/60)+"")&&_e(g,c),x&128&&d!==(d=(Math.floor(y[7])%60).toString().padStart(2,"0")+"")&&_e(h,d)},i:O,o:O,d(y){y&&j(e),t[15](null),k&&k.d(),b&&b.d(),t[16](null),p=!1,w()}}}function hr(t,e,n){let l,r,o,i,s,a,c,g,_,d;de(t,ve,B=>n(2,c=B)),de(t,Sl,B=>n(13,g=B)),de(t,Yn,B=>n(14,_=B)),de(t,oe,B=>n(3,d=B));let h,p,w;Gn(()=>(window.addEventListener("timeline-seek",k),h&&(h.addEventListener("timeupdate",b),h.addEventListener("loadedmetadata",y),h.addEventListener("play",()=>ve.setPlaying(!0)),h.addEventListener("pause",()=>ve.setPlaying(!1))),()=>{window.removeEventListener("timeline-seek",k),h&&(h.removeEventListener("timeupdate",b),h.removeEventListener("loadedmetadata",y)),cancelAnimationFrame(w)}));function k(B){h&&B.detail&&typeof B.detail.time=="number"&&n(4,h.currentTime=B.detail.time,h)}function b(){h&&ve.setCurrentTime(h.currentTime)}function y(){h&&ve.update(B=>({...B,duration:h.duration}))}function x(){h&&(h.paused?h.play():h.pause())}function N(){return{fontFamily:l.fontFamily||"Inter",fontSize:`${l.fontSize||42}px`,fontWeight:l.fontWeight||"bold",color:l.color||"#FFFFFF",textShadow:ar(l.textShadow||"medium"),textTransform:l.textTransform||"none",letterSpacing:`${l.letterSpacing||0}px`,lineHeight:l.lineHeight||1.2,textAlign:l.alignment||"center"}}function W(B){const R=B===o;return{backgroundColor:R&&l.highlightWords?l.highlightColor||"#FFD700":"transparent",color:R&&l.highlightWords?"#000000":l.color||"#FFFFFF",padding:R&&l.highlightWords?"2px 6px":"0",borderRadius:R&&l.highlightWords?"4px":"0",transition:"all 0.1s ease"}}function M(){switch(l.position){case"top":return"top-16";case"middle":return"top-1/2 -translate-y-1/2";case"bottom":default:return"bottom-24"}}function H(B){Xe[B?"unshift":"push"](()=>{h=B,n(4,h)})}function T(B){Xe[B?"unshift":"push"](()=>{p=B,n(5,p)})}return t.$$.update=()=>{t.$$.dirty&8&&n(0,l=(d==null?void 0:d.style)||{}),t.$$.dirty&16384&&n(1,r=_),t.$$.dirty&8192&&(o=g),t.$$.dirty&2&&n(8,i=(r==null?void 0:r.words)||[]),t.$$.dirty&4&&n(7,s=c.currentTime),t.$$.dirty&1&&n(6,a=cr(l.animation||"pop"))},[l,r,c,d,h,p,a,s,i,x,N,W,M,g,_,H,T]}class gr extends pe{constructor(e){super(),ge(this,e,hr,dr,ie,{})}}function en(t,e,n){const l=t.slice();return l[47]=e[n],l}function tn(t,e,n){const l=t.slice();return l[44]=e[n],l}function nn(t,e,n){const l=t.slice();return l[28]=e[n],l}function ln(t,e,n){const l=t.slice();return l[31]=e[n],l}function rn(t,e,n){const l=t.slice();return l[34]=e[n],l}function on(t,e,n){const l=t.slice();return l[37]=e[n],l}function sn(t,e,n){const l=t.slice();return l[40]=e[n][0],l[41]=e[n][1],l}function an(t,e,n){const l=t.slice();return l[25]=e[n],l}function pr(t){let e,n,l,r,o,i,s,a,c,g;const _=[vr,yr],d=[];function h(w,k){return w[0]?0:1}o=h(t),i=d[o]=_[o](t);let p=t[6]&&cn(t);return{c(){e=m("div"),n=m("h3"),n.textContent="AI Magic Tools",l=$(),r=m("button"),i.c(),s=$(),p&&p.c(),f(n,"class","font-semibold text-lg text-gray-900"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-medium text-white hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(e,"class","p-4 space-y-4")},m(w,k){I(w,e,k),u(e,n),u(e,l),u(e,r),d[o].m(r,null),u(e,s),p&&p.m(e,null),a=!0,c||(g=q(r,"click",t[10]),c=!0)},p(w,k){let b=o;o=h(w),o!==b&&(Ce(),L(d[b],1,1,()=>{d[b]=null}),$e(),i=d[o],i||(i=d[o]=_[o](w),i.c()),E(i,1),i.m(r,null)),(!a||k[0]&1)&&(r.disabled=w[0]),w[6]?p?p.p(w,k):(p=cn(w),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(w){a||(E(i),a=!0)},o(w){L(i),a=!1},d(w){w&&j(e),d[o].d(),p&&p.d(),c=!1,g()}}}function mr(t){let e,n,l,r,o,i,s,a,c,g,_,d,h;const p=[kr,wr],w=[];function k(y,x){return y[3]?0:1}a=k(t),c=w[a]=p[a](t);let b=t[2].length>0&&fn(t);return{c(){e=m("div"),n=m("h3"),n.textContent="B-Roll Library",l=$(),r=m("div"),o=m("input"),i=$(),s=m("button"),c.c(),g=$(),b&&b.c(),f(n,"class","font-semibold text-lg text-gray-900"),f(o,"type","text"),f(o,"placeholder","Search stock footage..."),f(o,"class","flex-1 p-2 bg-white rounded-lg border border-gray-200 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),s.disabled=t[3],f(s,"class","p-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(y,x){I(y,e,x),u(e,n),u(e,l),u(e,r),u(r,o),at(o,t[1]),u(r,i),u(r,s),w[a].m(s,null),u(e,g),b&&b.m(e,null),_=!0,d||(h=[q(o,"input",t[22]),q(o,"keydown",t[23]),q(s,"click",t[11])],d=!0)},p(y,x){x[0]&2&&o.value!==y[1]&&at(o,y[1]);let N=a;a=k(y),a!==N&&(Ce(),L(w[N],1,1,()=>{w[N]=null}),$e(),c=w[a],c||(c=w[a]=p[a](y),c.c()),E(c,1),c.m(s,null)),(!_||x[0]&8)&&(s.disabled=y[3]),y[2].length>0?b?(b.p(y,x),x[0]&4&&E(b,1)):(b=fn(y),b.c(),E(b,1),b.m(e,null)):b&&(Ce(),L(b,1,1,()=>{b=null}),$e())},i(y){_||(E(c),E(b),_=!0)},o(y){L(c),L(b),_=!1},d(y){y&&j(e),w[a].d(),b&&b.d(),d=!1,be(h)}}}function _r(t){var Ct,$t;let e,n,l,r,o,i,s,a,c,g,_,d,h,p,w,k,b,y,x,N,W=((($t=(Ct=t[4])==null?void 0:Ct.style)==null?void 0:$t.fontSize)||42)+"",M,H,T,B,R,V,F,v,U,C,G,Se,We,z,te,K,qe,A,me,xt,Ve,dt,Ft,Be=D(Object.entries(yt)),se=[];for(let P=0;P<Be.length;P+=1)se[P]=hn(sn(t,Be,P));let Ne=D(t[7]),ae=[];for(let P=0;P<Ne.length;P+=1)ae[P]=gn(on(t,Ne,P));let Pe=D(t[8]),ce=[];for(let P=0;P<Pe.length;P+=1)ce[P]=pn(rn(t,Pe,P));let je=D(t[9]),ue=[];for(let P=0;P<je.length;P+=1)ue[P]=mn(ln(t,je,P));let ht=D(["none","light","medium","heavy"]),ye=[];for(let P=0;P<4;P+=1)ye[P]=_n(nn(t,ht,P));return{c(){var P,ne;e=m("div"),n=m("div"),l=m("h3"),l.textContent="Style Presets",r=$(),o=m("div");for(let Y=0;Y<se.length;Y+=1)se[Y].c();i=$(),s=m("div"),a=m("h3"),a.textContent="Typography",c=$(),g=m("div"),_=m("label"),_.textContent="Font Family",d=$(),h=m("select");for(let Y=0;Y<ae.length;Y+=1)ae[Y].c();w=$(),k=m("div"),b=m("label"),y=m("span"),y.textContent="Font Size",x=$(),N=m("span"),M=J(W),H=J("px"),T=$(),B=m("input"),V=$(),F=m("div"),v=m("label"),v.textContent="Position",U=$(),C=m("div");for(let Y=0;Y<ce.length;Y+=1)ce[Y].c();G=$(),Se=m("div"),We=m("label"),We.textContent="Animation",z=$(),te=m("select");for(let Y=0;Y<ue.length;Y+=1)ue[Y].c();qe=$(),A=m("div"),me=m("label"),me.textContent="Text Shadow",xt=$(),Ve=m("div");for(let Y=0;Y<4;Y+=1)ye[Y].c();f(l,"class","font-semibold text-lg text-gray-900 mb-3"),f(o,"class","grid grid-cols-2 gap-2"),f(a,"class","font-semibold text-lg text-gray-900"),f(_,"class","text-sm text-gray-600"),f(h,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(g,"class","space-y-2"),f(N,"class","text-gray-900"),f(b,"class","text-sm text-gray-600 flex justify-between"),f(B,"type","range"),f(B,"min","20"),f(B,"max","80"),B.value=R=((ne=(P=t[4])==null?void 0:P.style)==null?void 0:ne.fontSize)||42,f(B,"class","w-full"),f(k,"class","space-y-2"),f(v,"class","text-sm text-gray-600"),f(C,"class","flex gap-2"),f(F,"class","space-y-2"),f(We,"class","text-sm text-gray-600"),f(te,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(Se,"class","space-y-2"),f(me,"class","text-sm text-gray-600"),f(Ve,"class","flex gap-2"),f(A,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(P,ne){var Y,Ge,Je,Qe;I(P,e,ne),u(e,n),u(n,l),u(n,r),u(n,o);for(let Q=0;Q<se.length;Q+=1)se[Q]&&se[Q].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,g),u(g,_),u(g,d),u(g,h);for(let Q=0;Q<ae.length;Q+=1)ae[Q]&&ae[Q].m(h,null);nt(h,((Ge=(Y=t[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter"),u(s,w),u(s,k),u(k,b),u(b,y),u(b,x),u(b,N),u(N,M),u(N,H),u(k,T),u(k,B),u(s,V),u(s,F),u(F,v),u(F,U),u(F,C);for(let Q=0;Q<ce.length;Q+=1)ce[Q]&&ce[Q].m(C,null);u(s,G),u(s,Se),u(Se,We),u(Se,z),u(Se,te);for(let Q=0;Q<ue.length;Q+=1)ue[Q]&&ue[Q].m(te,null);nt(te,((Qe=(Je=t[4])==null?void 0:Je.style)==null?void 0:Qe.animation)||"pop"),u(s,qe),u(s,A),u(A,me),u(A,xt),u(A,Ve);for(let Q=0;Q<4;Q+=1)ye[Q]&&ye[Q].m(Ve,null);dt||(Ft=[q(h,"change",t[17]),q(B,"input",t[18]),q(te,"change",t[20])],dt=!0)},p(P,ne){var Y,Ge,Je,Qe,Q,St,Mt,Tt,Et,Wt,Bt,Nt;if(ne&0){Be=D(Object.entries(yt));let S;for(S=0;S<Be.length;S+=1){const fe=sn(P,Be,S);se[S]?se[S].p(fe,ne):(se[S]=hn(fe),se[S].c(),se[S].m(o,null))}for(;S<se.length;S+=1)se[S].d(1);se.length=Be.length}if(ne[0]&128){Ne=D(P[7]);let S;for(S=0;S<Ne.length;S+=1){const fe=on(P,Ne,S);ae[S]?ae[S].p(fe,ne):(ae[S]=gn(fe),ae[S].c(),ae[S].m(h,null))}for(;S<ae.length;S+=1)ae[S].d(1);ae.length=Ne.length}if(ne[0]&144&&p!==(p=((Ge=(Y=P[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter")&&nt(h,((Qe=(Je=P[4])==null?void 0:Je.style)==null?void 0:Qe.fontFamily)||"Inter"),ne[0]&16&&W!==(W=(((St=(Q=P[4])==null?void 0:Q.style)==null?void 0:St.fontSize)||42)+"")&&_e(M,W),ne[0]&144&&R!==(R=((Tt=(Mt=P[4])==null?void 0:Mt.style)==null?void 0:Tt.fontSize)||42)&&(B.value=R),ne[0]&272){Pe=D(P[8]);let S;for(S=0;S<Pe.length;S+=1){const fe=rn(P,Pe,S);ce[S]?ce[S].p(fe,ne):(ce[S]=pn(fe),ce[S].c(),ce[S].m(C,null))}for(;S<ce.length;S+=1)ce[S].d(1);ce.length=Pe.length}if(ne[0]&512){je=D(P[9]);let S;for(S=0;S<je.length;S+=1){const fe=ln(P,je,S);ue[S]?ue[S].p(fe,ne):(ue[S]=mn(fe),ue[S].c(),ue[S].m(te,null))}for(;S<ue.length;S+=1)ue[S].d(1);ue.length=je.length}if(ne[0]&144&&K!==(K=((Wt=(Et=P[4])==null?void 0:Et.style)==null?void 0:Wt.animation)||"pop")&&nt(te,((Nt=(Bt=P[4])==null?void 0:Bt.style)==null?void 0:Nt.animation)||"pop"),ne[0]&16){ht=D(["none","light","medium","heavy"]);let S;for(S=0;S<4;S+=1){const fe=nn(P,ht,S);ye[S]?ye[S].p(fe,ne):(ye[S]=_n(fe),ye[S].c(),ye[S].m(Ve,null))}for(;S<4;S+=1)ye[S].d(1)}},i:O,o:O,d(P){P&&j(e),re(se,P),re(ae,P),re(ce,P),re(ue,P),re(ye,P),dt=!1,be(Ft)}}}function br(t){var N,W;let e,n,l,r,o,i,s,a,c,g,_,d,h,p,w,k,b,y,x=((W=(N=t[4])==null?void 0:N.style)==null?void 0:W.highlightWords)&&bn(t);return{c(){var M,H,T,B;e=m("div"),n=m("h3"),n.textContent="Caption Settings",l=$(),r=m("div"),o=m("label"),i=m("span"),i.textContent="Word-by-word highlighting",s=$(),a=m("input"),g=$(),_=m("label"),d=m("span"),d.textContent="Highlight active words",h=$(),p=m("input"),k=$(),x&&x.c(),f(n,"class","font-semibold text-lg text-gray-900"),f(i,"class","text-gray-700"),f(a,"type","checkbox"),a.checked=c=(H=(M=t[4])==null?void 0:M.style)==null?void 0:H.wordByWord,f(a,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(o,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(d,"class","text-gray-700"),f(p,"type","checkbox"),p.checked=w=(B=(T=t[4])==null?void 0:T.style)==null?void 0:B.highlightWords,f(p,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(_,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(r,"class","space-y-3"),f(e,"class","p-4 space-y-4")},m(M,H){I(M,e,H),u(e,n),u(e,l),u(e,r),u(r,o),u(o,i),u(o,s),u(o,a),u(r,g),u(r,_),u(_,d),u(_,h),u(_,p),u(r,k),x&&x.m(r,null),b||(y=[q(a,"change",t[13]),q(p,"change",t[14])],b=!0)},p(M,H){var T,B,R,V,F,v;H[0]&144&&c!==(c=(B=(T=M[4])==null?void 0:T.style)==null?void 0:B.wordByWord)&&(a.checked=c),H[0]&144&&w!==(w=(V=(R=M[4])==null?void 0:R.style)==null?void 0:V.highlightWords)&&(p.checked=w),(v=(F=M[4])==null?void 0:F.style)!=null&&v.highlightWords?x?x.p(M,H):(x=bn(M),x.c(),x.m(r,null)):x&&(x.d(1),x=null)},i:O,o:O,d(M){M&&j(e),x&&x.d(),b=!1,be(y)}}}function yr(t){let e,n,l;return e=new Xn({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),n=J(`
          Generate Viral Content`)},m(r,o){X(e,r,o),I(r,n,o),l=!0},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),l=!1},d(r){r&&j(n),ee(e,r)}}}function vr(t){let e,n,l;return e=new Kn({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),n=J(`
          Generating...`)},m(r,o){X(e,r,o),I(r,n,o),l=!0},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),l=!1},d(r){r&&j(n),ee(e,r)}}}function cn(t){let e,n,l,r,o,i,s,a,c,g,_=t[6].descriptions[0]+"",d,h,p,w,k,b,y=t[6].hashtags.join(" ")+"",x,N=D(t[6].hooks),W=[];for(let M=0;M<N.length;M+=1)W[M]=un(en(t,N,M));return{c(){e=m("div"),n=m("div"),l=m("h4"),l.textContent="Hook Ideas",r=$(),o=m("ul");for(let M=0;M<W.length;M+=1)W[M].c();i=$(),s=m("div"),a=m("h4"),a.textContent="Description",c=$(),g=m("p"),d=J(_),h=$(),p=m("div"),w=m("h4"),w.textContent="Hashtags",k=$(),b=m("p"),x=J(y),f(l,"class","font-medium text-sm text-gray-600 mb-2"),f(o,"class","space-y-2"),f(n,"class","p-3 bg-white rounded-lg border border-gray-200"),f(a,"class","font-medium text-sm text-gray-600 mb-2"),f(g,"class","text-sm text-gray-900"),f(s,"class","p-3 bg-white rounded-lg border border-gray-200"),f(w,"class","font-medium text-sm text-gray-600 mb-2"),f(b,"class","text-sm text-blue-600"),f(p,"class","p-3 bg-white rounded-lg border border-gray-200"),f(e,"class","space-y-4")},m(M,H){I(M,e,H),u(e,n),u(n,l),u(n,r),u(n,o);for(let T=0;T<W.length;T+=1)W[T]&&W[T].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,g),u(g,d),u(e,h),u(e,p),u(p,w),u(p,k),u(p,b),u(b,x)},p(M,H){if(H[0]&64){N=D(M[6].hooks);let T;for(T=0;T<N.length;T+=1){const B=en(M,N,T);W[T]?W[T].p(B,H):(W[T]=un(B),W[T].c(),W[T].m(o,null))}for(;T<W.length;T+=1)W[T].d(1);W.length=N.length}H[0]&64&&_!==(_=M[6].descriptions[0]+"")&&_e(d,_),H[0]&64&&y!==(y=M[6].hashtags.join(" ")+"")&&_e(x,y)},d(M){M&&j(e),re(W,M)}}}function un(t){let e,n=t[47]+"",l;return{c(){e=m("li"),l=J(n),f(e,"class","text-sm p-2 bg-gray-50 rounded text-gray-900")},m(r,o){I(r,e,o),u(e,l)},p(r,o){o[0]&64&&n!==(n=r[47]+"")&&_e(l,n)},d(r){r&&j(e)}}}function wr(t){let e,n;return{c(){e=it("svg"),n=it("path"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(l,r){I(l,e,r),u(e,n)},i:O,o:O,d(l){l&&j(e)}}}function kr(t){let e,n;return e=new Kn({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function fn(t){let e,n,l=D(t[2]),r=[];for(let i=0;i<l.length;i+=1)r[i]=dn(tn(t,l,i));const o=i=>L(r[i],1,1,()=>{r[i]=null});return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(i,s){I(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(i,s){if(s[0]&4100){l=D(i[2]);let a;for(a=0;a<l.length;a+=1){const c=tn(i,l,a);r[a]?(r[a].p(c,s),E(r[a],1)):(r[a]=dn(c),r[a].c(),E(r[a],1),r[a].m(e,null))}for(Ce(),a=l.length;a<r.length;a+=1)o(a);$e()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)E(r[s]);n=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)L(r[s]);n=!1},d(i){i&&j(e),re(r,i)}}}function dn(t){let e,n,l,r,o,i,s,a,c,g;i=new Ol({props:{class:"w-8 h-8 text-white"}});function _(){return t[24](t[44])}return{c(){e=m("button"),n=m("img"),r=$(),o=m("div"),le(i.$$.fragment),s=$(),ot(n.src,l=t[44].thumbnail)||f(n,"src",l),f(n,"alt",""),f(n,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(d,h){I(d,e,h),u(e,n),u(e,r),u(e,o),X(i,o,null),u(e,s),a=!0,c||(g=q(e,"click",_),c=!0)},p(d,h){t=d,(!a||h[0]&4&&!ot(n.src,l=t[44].thumbnail))&&f(n,"src",l)},i(d){a||(E(i.$$.fragment,d),a=!0)},o(d){L(i.$$.fragment,d),a=!1},d(d){d&&j(e),ee(i),c=!1,g()}}}function hn(t){let e,n,l,r,o,i,s;function a(){return t[16](t[40])}return{c(){e=m("button"),n=m("div"),n.textContent=`${t[40].replace("-"," ")}`,l=$(),r=m("div"),r.textContent=`${t[41].fontWeight} â€¢ ${t[41].animation}`,o=$(),f(n,"class","font-medium capitalize text-gray-900"),f(r,"class","text-xs text-gray-500 mt-1"),f(e,"class","p-3 bg-white rounded-lg border border-gray-200 text-left hover:border-gray-300 transition text-sm")},m(c,g){I(c,e,g),u(e,n),u(e,l),u(e,r),u(e,o),i||(s=q(e,"click",a),i=!0)},p(c,g){t=c},d(c){c&&j(e),i=!1,s()}}}function gn(t){let e,n=t[37]+"",l;return{c(){e=m("option"),l=J(n),e.__value=t[37],at(e,e.__value)},m(r,o){I(r,e,o),u(e,l)},p:O,d(r){r&&j(e)}}}function pn(t){let e,n=t[34].label+"",l,r,o,i,s;function a(){return t[19](t[34])}return{c(){var c,g;e=m("button"),l=J(n),r=$(),f(e,"class",o="flex-1 p-2 rounded-lg border text-sm transition "+((((g=(c=t[4])==null?void 0:c.style)==null?void 0:g.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,g){I(c,e,g),u(e,l),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,g){var _,d;t=c,g[0]&144&&o!==(o="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(_=t[4])==null?void 0:_.style)==null?void 0:d.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&j(e),i=!1,s()}}}function mn(t){let e,n=t[31].label+"",l;return{c(){e=m("option"),l=J(n),e.__value=t[31].id,at(e,e.__value)},m(r,o){I(r,e,o),u(e,l)},p:O,d(r){r&&j(e)}}}function _n(t){let e,n,l,r,o,i;function s(){return t[21](t[28])}return{c(){var a,c;e=m("button"),n=J(t[28]),l=$(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){I(a,e,c),u(e,n),u(e,l),o||(i=q(e,"click",s),o=!0)},p(a,c){var g,_;t=a,c[0]&144&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((_=(g=t[4])==null?void 0:g.style)==null?void 0:_.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&j(e),o=!1,i()}}}function bn(t){let e,n,l,r,o=D(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),i=[];for(let s=0;s<5;s+=1)i[s]=yn(an(t,o,s));return{c(){e=m("div"),n=m("label"),n.textContent="Highlight Color",l=$(),r=m("div");for(let s=0;s<5;s+=1)i[s].c();f(n,"class","text-sm text-gray-600"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,a){I(s,e,a),u(e,n),u(e,l),u(e,r);for(let c=0;c<5;c+=1)i[c]&&i[c].m(r,null)},p(s,a){if(a[0]&16){o=D(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let c;for(c=0;c<5;c+=1){const g=an(s,o,c);i[c]?i[c].p(g,a):(i[c]=yn(g),i[c].c(),i[c].m(r,null))}for(;c<5;c+=1)i[c].d(1)}},d(s){s&&j(e),re(i,s)}}}function yn(t){let e,n,l,r;function o(){return t[15](t[25])}return{c(){var i,s;e=m("button"),f(e,"class",n="w-8 h-8 rounded-lg border-2 transition "+((((s=(i=t[4])==null?void 0:i.style)==null?void 0:s.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300")),Me(e,"background-color",t[25])},m(i,s){I(i,e,s),l||(r=q(e,"click",o),l=!0)},p(i,s){var a,c;t=i,s[0]&144&&n!==(n="w-8 h-8 rounded-lg border-2 transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300"))&&f(e,"class",n)},d(i){i&&j(e),l=!1,r()}}}function xr(t){let e,n,l,r;const o=[br,_r,mr,pr],i=[];function s(a,c){return a[5]==="captions"?0:a[5]==="style"?1:a[5]==="broll"?2:a[5]==="ai-tools"?3:-1}return~(n=s(t))&&(l=i[n]=o[n](t)),{c(){e=m("div"),l&&l.c(),f(e,"class","h-full flex flex-col bg-gray-50")},m(a,c){I(a,e,c),~n&&i[n].m(e,null),r=!0},p(a,c){let g=n;n=s(a),n===g?~n&&i[n].p(a,c):(l&&(Ce(),L(i[g],1,1,()=>{i[g]=null}),$e()),~n?(l=i[n],l?l.p(a,c):(l=i[n]=o[n](a),l.c()),E(l,1),l.m(e,null)):l=null)},i(a){r||(E(l),r=!0)},o(a){L(l),r=!1},d(a){a&&j(e),~n&&i[n].d()}}}function Fr(t,e,n){let l,r,o;de(t,oe,F=>n(4,l=F)),de(t,vt,F=>n(5,r=F)),de(t,At,F=>n(6,o=F));let i=!1,s="",a=[],c=!1;const g=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],_=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],d=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function h(){if(l){n(0,i=!0);try{const F=l.captions.map(U=>U.text).join(" "),v=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:F})});if(v.ok){const U=await v.json();At.set(U)}}catch(F){console.error("AI generation failed:",F)}finally{n(0,i=!1)}}}async function p(){if(s){n(3,c=!0);try{const F=await fetch(`/api/broll/search?q=${encodeURIComponent(s)}`);if(F.ok){const v=await F.json();n(2,a=v.results||[])}}catch(F){console.error("B-Roll search failed:",F)}finally{n(3,c=!1)}}}function w(F){l&&oe.addBRoll({id:crypto.randomUUID(),url:F.video_url,thumbnail:F.thumbnail,start:l.videoDuration*.3,duration:5,source:F.source})}const k=F=>oe.updateStyle({wordByWord:F.target.checked}),b=F=>oe.updateStyle({highlightWords:F.target.checked}),y=F=>oe.updateStyle({highlightColor:F}),x=F=>oe.applyPreset(F),N=F=>oe.updateStyle({fontFamily:F.target.value}),W=F=>oe.updateStyle({fontSize:parseInt(F.target.value)}),M=F=>oe.updateStyle({position:F.id}),H=F=>oe.updateStyle({animation:F.target.value}),T=F=>oe.updateStyle({textShadow:F});function B(){s=this.value,n(1,s)}return[i,s,a,c,l,r,o,g,_,d,h,p,w,k,b,y,x,N,W,M,H,T,B,F=>F.key==="Enter"&&p(),F=>w(F)]}class Cr extends pe{constructor(e){super(),ge(this,e,Fr,xr,ie,{},null,[-1,-1])}}function vn(t,e,n){const l=t.slice();return l[16]=e[n],l}function wn(t,e,n){const l=t.slice();return l[19]=e[n],l}function kn(t,e,n){const l=t.slice();return l[22]=e[n],l[24]=n,l}function xn(t,e,n){const l=t.slice();return l[22]=e[n],l[24]=n,l}function Fn(t){let e,n=Qt(t[2]/5*t[24])+"",l;return{c(){e=m("span"),l=J(n)},m(r,o){I(r,e,o),u(e,l)},p(r,o){o&4&&n!==(n=Qt(r[2]/5*r[24])+"")&&_e(l,n)},d(r){r&&j(e)}}}function Cn(t){let e;return{c(){e=m("div"),f(e,"class","absolute top-0 bottom-0 border-l border-gray-200"),Me(e,"left",t[24]*5/t[2]*100+"%")},m(n,l){I(n,e,l)},p(n,l){l&4&&Me(e,"left",n[24]*5/n[2]*100+"%")},d(n){n&&j(e)}}}function $n(t){let e,n,l=t[19].text+"",r,o,i,s,a,c;function g(){return t[11](t[19])}return{c(){e=m("button"),n=m("span"),r=J(l),o=$(),f(n,"class","truncate"),f(e,"class",i="absolute h-12 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex items-center px-2 overflow-hidden text-xs text-left text-blue-900 "+(t[5].selectedCaptionId===t[19].id?"ring-2 ring-blue-500":"")),f(e,"style",s=t[8](t[19]))},m(_,d){I(_,e,d),u(e,n),u(n,r),u(e,o),a||(c=q(e,"click",Vn(g)),a=!0)},p(_,d){t=_,d&16&&l!==(l=t[19].text+"")&&_e(r,l),d&48&&i!==(i="absolute h-12 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex items-center px-2 overflow-hidden text-xs text-left text-blue-900 "+(t[5].selectedCaptionId===t[19].id?"ring-2 ring-blue-500":""))&&f(e,"class",i),d&16&&s!==(s=t[8](t[19]))&&f(e,"style",s)},d(_){_&&j(e),a=!1,c()}}}function Sn(t){let e,n,l=D(t[0].bRollClips),r=[];for(let i=0;i<l.length;i+=1)r[i]=Mn(vn(t,l,i));const o=i=>L(r[i],1,1,()=>{r[i]=null});return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","absolute top-24 left-0 right-0 h-12 px-2")},m(i,s){I(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(i,s){if(s&5){l=D(i[0].bRollClips);let a;for(a=0;a<l.length;a+=1){const c=vn(i,l,a);r[a]?(r[a].p(c,s),E(r[a],1)):(r[a]=Mn(c),r[a].c(),E(r[a],1),r[a].m(e,null))}for(Ce(),a=l.length;a<r.length;a+=1)o(a);$e()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)E(r[s]);n=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)L(r[s]);n=!1},d(i){i&&j(e),re(r,i)}}}function Mn(t){let e,n,l,r,o,i;return n=new Zn({props:{class:"w-3 h-3 mr-1"}}),{c(){e=m("div"),le(n.$$.fragment),l=$(),r=m("span"),r.textContent="B-Roll",o=$(),f(r,"class","truncate"),f(e,"class","absolute h-10 rounded bg-purple-100 border-2 border-purple-300 flex items-center px-2 overflow-hidden text-xs text-purple-900"),Me(e,"left",t[16].start/t[2]*100+"%"),Me(e,"width",t[16].duration/t[2]*100+"%")},m(s,a){I(s,e,a),X(n,e,null),u(e,l),u(e,r),u(e,o),i=!0},p(s,a){(!i||a&5)&&Me(e,"left",s[16].start/s[2]*100+"%"),(!i||a&5)&&Me(e,"width",s[16].duration/s[2]*100+"%")},i(s){i||(E(n.$$.fragment,s),i=!0)},o(s){L(n.$$.fragment,s),i=!1},d(s){s&&j(e),ee(n)}}}function $r(t){var Se,We;let e,n,l,r,o,i,s,a,c,g,_,d,h,p,w,k,b,y,x,N,W,M,H,T,B,R=D(Array(6)),V=[];for(let z=0;z<R.length;z+=1)V[z]=Fn(xn(t,R,z));let F=D(Array(Math.max(1,Math.ceil(t[2]/5)))),v=[];for(let z=0;z<F.length;z+=1)v[z]=Cn(kn(t,F,z));let U=D(t[4]),C=[];for(let z=0;z<U.length;z+=1)C[z]=$n(wn(t,U,z));let G=((We=(Se=t[0])==null?void 0:Se.bRollClips)==null?void 0:We.length)>0&&Sn(t);return{c(){e=m("div"),n=m("div"),l=m("span"),l.textContent="Timeline",r=$(),o=m("div");for(let z=0;z<V.length;z+=1)V[z].c();i=$(),s=m("div"),a=m("button"),c=m("div");for(let z=0;z<v.length;z+=1)v[z].c();g=$(),_=m("div");for(let z=0;z<C.length;z+=1)C[z].c();d=$(),G&&G.c(),h=$(),p=m("div"),w=m("div"),k=$(),b=m("div"),y=m("button"),y.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>',x=$(),N=m("span"),N.textContent="Zoom",W=$(),M=m("button"),M.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>',f(l,"class","w-20 font-medium"),f(o,"class","flex-1 flex justify-between"),f(n,"class","h-8 border-b border-gray-200 flex items-center px-4 text-xs text-gray-500"),f(c,"class","absolute inset-0 pointer-events-none"),f(_,"class","absolute top-4 left-0 right-0 h-16 px-2"),f(w,"class","absolute -top-1 -left-1.5 w-3 h-3 bg-red-500 rounded-full"),f(p,"class","absolute top-0 bottom-0 w-0.5 bg-red-500 z-10 pointer-events-none transition-all duration-75 ease-linear"),f(p,"style",t[9]()),f(a,"class","absolute inset-0 min-w-full cursor-pointer bg-transparent border-none p-0"),f(a,"aria-label","Timeline scrubber"),f(s,"class","flex-1 relative overflow-x-auto overflow-y-hidden"),f(y,"class","text-gray-500 hover:text-gray-900 transition"),f(N,"class","text-xs text-gray-500"),f(M,"class","text-gray-500 hover:text-gray-900 transition"),f(b,"class","h-10 border-t border-gray-200 flex items-center px-4 gap-4 bg-gray-50"),f(e,"class","h-full flex flex-col bg-white")},m(z,te){I(z,e,te),u(e,n),u(n,l),u(n,r),u(n,o);for(let K=0;K<V.length;K+=1)V[K]&&V[K].m(o,null);u(e,i),u(e,s),u(s,a),u(a,c);for(let K=0;K<v.length;K+=1)v[K]&&v[K].m(c,null);u(a,g),u(a,_);for(let K=0;K<C.length;K+=1)C[K]&&C[K].m(_,null);u(a,d),G&&G.m(a,null),u(a,h),u(a,p),u(p,w),t[12](a),u(e,k),u(e,b),u(b,y),u(b,x),u(b,N),u(b,W),u(b,M),H=!0,T||(B=[q(a,"click",t[6]),q(y,"click",t[13]),q(M,"click",t[14])],T=!0)},p(z,[te]){var K,qe;if(te&4){R=D(Array(6));let A;for(A=0;A<R.length;A+=1){const me=xn(z,R,A);V[A]?V[A].p(me,te):(V[A]=Fn(me),V[A].c(),V[A].m(o,null))}for(;A<V.length;A+=1)V[A].d(1);V.length=R.length}if(te&4){F=D(Array(Math.max(1,Math.ceil(z[2]/5))));let A;for(A=0;A<F.length;A+=1){const me=kn(z,F,A);v[A]?v[A].p(me,te):(v[A]=Cn(me),v[A].c(),v[A].m(c,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=F.length}if(te&432){U=D(z[4]);let A;for(A=0;A<U.length;A+=1){const me=wn(z,U,A);C[A]?C[A].p(me,te):(C[A]=$n(me),C[A].c(),C[A].m(_,null))}for(;A<C.length;A+=1)C[A].d(1);C.length=U.length}((qe=(K=z[0])==null?void 0:K.bRollClips)==null?void 0:qe.length)>0?G?(G.p(z,te),te&1&&E(G,1)):(G=Sn(z),G.c(),E(G,1),G.m(a,h)):G&&(Ce(),L(G,1,1,()=>{G=null}),$e())},i(z){H||(E(G),H=!0)},o(z){L(G),H=!1},d(z){z&&j(e),re(V,z),re(v,z),re(C,z),G&&G.d(),t[12](null),T=!1,be(B)}}}function Sr(t,e,n){let l,r,o,i,s,a,c;de(t,ve,x=>n(10,s=x)),de(t,oe,x=>n(0,a=x)),de(t,et,x=>n(5,c=x));let g;function _(x){if(!g||l<=0)return;const N=g.getBoundingClientRect(),W=x.clientX-N.left,H=Math.max(0,Math.min(1,W/N.width))*l;ve.setCurrentTime(H),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:H}}))}function d(x){et.update(N=>({...N,selectedCaptionId:x.id})),ve.setCurrentTime(x.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:x.start}}))}function h(x){const N=x.start/l*100,W=(x.end-x.start)/l*100;return`left: ${N}%; width: ${Math.max(.5,W)}%;`}function p(){if(!l||l<=0)return"left: 0%;";const x=o/l*100;return`left: ${Math.max(0,Math.min(100,x))}%;`}const w=x=>d(x);function k(x){Xe[x?"unshift":"push"](()=>{g=x,n(1,g)})}const b=()=>n(3,i=Math.max(20,i-10)),y=()=>n(3,i=Math.min(200,i+10));return t.$$.update=()=>{t.$$.dirty&1&&n(2,l=(a==null?void 0:a.videoDuration)||1),t.$$.dirty&1&&n(4,r=(a==null?void 0:a.captions)||[]),t.$$.dirty&1024&&(o=s.currentTime)},n(3,i=50),[a,g,l,i,r,c,_,d,h,p,s,w,k,b,y]}class Mr extends pe{constructor(e){super(),ge(this,e,Sr,$r,ie,{})}}function Tr(t){const e=t-1;return e*e*e+1}function Tn(t,{delay:e=0,duration:n=400,easing:l=An}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*r}`}}function En(t,{delay:e=0,duration:n=400,easing:l=Tr,start:r=0,opacity:o=0}={}){const i=getComputedStyle(t),s=+i.opacity,a=i.transform==="none"?"":i.transform,c=1-r,g=s*(1-o);return{delay:e,duration:n,easing:l,css:(_,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${s-g*d}
		`}}function Wn(t,e,n){const l=t.slice();return l[14]=e[n],l}function Bn(t,e,n){const l=t.slice();return l[17]=e[n],l}function Nn(t,e,n){const l=t.slice();return l[20]=e[n],l}function Pn(t){let e,n,l,r,o,i,s,a,c;function g(h,p){return h[1]?Wr:Er}let _=g(t),d=_(t);return{c(){e=m("div"),n=m("div"),l=m("h2"),l.textContent="Export Video",r=$(),d.c(),f(l,"class","text-xl font-semibold text-gray-900 mb-4"),f(n,"class","bg-white rounded-2xl w-full max-w-md p-6 border border-gray-200"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(h,p){I(h,e,p),u(e,n),u(n,l),u(n,r),d.m(n,null),s=!0,a||(c=[q(n,"click",Vn(t[8])),q(e,"click",t[6]),q(e,"keydown",t[12])],a=!0)},p(h,p){_===(_=g(h))&&d?d.p(h,p):(d.d(1),d=_(h),d&&(d.c(),d.m(n,null)))},i(h){s||(h&&He(()=>{s&&(o||(o=lt(n,En,{duration:200,start:.95},!0)),o.run(1))}),h&&He(()=>{s&&(i||(i=lt(e,Tn,{duration:200},!0)),i.run(1))}),s=!0)},o(h){h&&(o||(o=lt(n,En,{duration:200,start:.95},!1)),o.run(0)),h&&(i||(i=lt(e,Tn,{duration:200},!1)),i.run(0)),s=!1},d(h){h&&j(e),d.d(),h&&o&&o.end(),h&&i&&i.end(),a=!1,be(c)}}}function Er(t){let e,n,l,r,o,i,s,a,c,g,_,d,h,p,w,k,b,y,x,N,W,M,H=D(["1080x1920","1920x1080","1080x1080"]),T=[];for(let v=0;v<3;v+=1)T[v]=jn(Nn(t,H,v));let B=D([24,30,60]),R=[];for(let v=0;v<3;v+=1)R[v]=Ln(Bn(t,B,v));let V=D(["standard","high","ultra"]),F=[];for(let v=0;v<3;v+=1)F[v]=In(Wn(t,V,v));return{c(){e=m("div"),n=m("div"),l=m("label"),l.textContent="Resolution",r=$(),o=m("div");for(let v=0;v<3;v+=1)T[v].c();i=$(),s=m("div"),a=m("label"),a.textContent="Frame Rate",c=$(),g=m("div");for(let v=0;v<3;v+=1)R[v].c();_=$(),d=m("div"),h=m("label"),h.textContent="Quality",p=$(),w=m("div");for(let v=0;v<3;v+=1)F[v].c();k=$(),b=m("div"),y=m("button"),y.textContent="Cancel",x=$(),N=m("button"),N.textContent="Export",f(l,"class","text-sm text-gray-600 mb-2 block"),f(o,"class","grid grid-cols-3 gap-2"),f(a,"class","text-sm text-gray-600 mb-2 block"),f(g,"class","flex gap-2"),f(h,"class","text-sm text-gray-600 mb-2 block"),f(w,"class","flex gap-2"),f(y,"class","flex-1 p-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition"),f(N,"class","flex-1 p-3 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(v,U){I(v,e,U),u(e,n),u(n,l),u(n,r),u(n,o);for(let C=0;C<3;C+=1)T[C]&&T[C].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,g);for(let C=0;C<3;C+=1)R[C]&&R[C].m(g,null);u(e,_),u(e,d),u(d,h),u(d,p),u(d,w);for(let C=0;C<3;C+=1)F[C]&&F[C].m(w,null);u(e,k),u(e,b),u(b,y),u(b,x),u(b,N),W||(M=[q(y,"click",t[6]),q(N,"click",t[5])],W=!0)},p(v,U){if(U&1){H=D(["1080x1920","1920x1080","1080x1080"]);let C;for(C=0;C<3;C+=1){const G=Nn(v,H,C);T[C]?T[C].p(G,U):(T[C]=jn(G),T[C].c(),T[C].m(o,null))}for(;C<3;C+=1)T[C].d(1)}if(U&1){B=D([24,30,60]);let C;for(C=0;C<3;C+=1){const G=Bn(v,B,C);R[C]?R[C].p(G,U):(R[C]=Ln(G),R[C].c(),R[C].m(g,null))}for(;C<3;C+=1)R[C].d(1)}if(U&1){V=D(["standard","high","ultra"]);let C;for(C=0;C<3;C+=1){const G=Wn(v,V,C);F[C]?F[C].p(G,U):(F[C]=In(G),F[C].c(),F[C].m(w,null))}for(;C<3;C+=1)F[C].d(1)}},d(v){v&&j(e),re(T,v),re(R,v),re(F,v),W=!1,be(M)}}}function Wr(t){let e,n,l,r,o,i,s,a,c,g,_,d,h;return{c(){e=m("div"),n=m("div"),l=m("div"),l.innerHTML='<svg class="w-8 h-8 text-blue-600 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=$(),o=m("p"),i=J(t[3]),s=$(),a=m("p"),c=J(t[2]),g=J("% complete"),_=$(),d=m("div"),h=m("div"),f(l,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4"),f(o,"class","text-lg font-medium text-gray-900"),f(a,"class","text-sm text-gray-500 mt-1"),f(n,"class","text-center"),f(h,"class","h-full bg-blue-600 transition-all duration-300"),Me(h,"width",t[2]+"%"),f(d,"class","h-2 bg-gray-200 rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(p,w){I(p,e,w),u(e,n),u(n,l),u(n,r),u(n,o),u(o,i),u(n,s),u(n,a),u(a,c),u(a,g),u(e,_),u(e,d),u(d,h)},p(p,w){w&8&&_e(i,p[3]),w&4&&_e(c,p[2]),w&4&&Me(h,"width",p[2]+"%")},d(p){p&&j(e)}}}function jn(t){let e,n=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",l,r,o,i,s;function a(){return t[9](t[20])}return{c(){e=m("button"),l=J(n),r=$(),f(e,"class",o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,g){I(c,e,g),u(e,l),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,g){t=c,g&1&&o!==(o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&j(e),i=!1,s()}}}function Ln(t){let e,n,l,r,o,i;function s(){return t[10](t[17])}return{c(){e=m("button"),n=J(t[17]),l=J(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){I(a,e,c),u(e,n),u(e,l),o||(i=q(e,"click",s),o=!0)},p(a,c){t=a,c&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&j(e),o=!1,i()}}}function In(t){let e,n=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",l,r,o,i,s;function a(){return t[11](t[14])}return{c(){e=m("button"),l=J(n),r=$(),f(e,"class",o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,g){I(c,e,g),u(e,l),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,g){t=c,g&1&&o!==(o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&j(e),i=!1,s()}}}function Br(t){let e,n=t[4]&&Pn(t);return{c(){n&&n.c(),e=kt()},m(l,r){n&&n.m(l,r),I(l,e,r)},p(l,[r]){l[4]?n?(n.p(l,r),r&16&&E(n,1)):(n=Pn(l),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(Ce(),L(n,1,1,()=>{n=null}),$e())},i(l){E(n)},o(l){L(n)},d(l){l&&j(e),n&&n.d(l)}}}function Nr(t,e,n){let l,r,o;de(t,oe,b=>n(13,r=b)),de(t,et,b=>n(7,o=b));let i={resolution:"1080x1920",fps:30,quality:"high"},s=!1,a=0,c="";async function g(){if(r){n(1,s=!0),n(3,c="Preparing..."),n(2,a=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:i,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const y=await b.json(),x=setInterval(async()=>{const W=await(await fetch(`/api/export/status/${y.export_id}`)).json();n(2,a=W.progress||0),n(3,c=W.message||"Processing..."),W.status==="completed"?(clearInterval(x),n(1,s=!1),window.open(W.download_url,"_blank"),_()):W.status==="failed"&&(clearInterval(x),n(1,s=!1),n(3,c="Export failed"))},2e3)}catch(b){n(1,s=!1),n(3,c="Export failed"),console.error("Export error:",b)}}}function _(){s||et.update(b=>({...b,isExporting:!1}))}function d(b){gl.call(this,t,b)}const h=b=>n(0,i.resolution=b,i),p=b=>n(0,i.fps=b,i),w=b=>n(0,i.quality=b,i),k=b=>b.key==="Escape"&&_();return t.$$.update=()=>{t.$$.dirty&128&&n(4,l=o.isExporting)},[i,s,a,c,l,g,_,o,d,h,p,w,k]}class Pr extends pe{constructor(e){super(),ge(this,e,Nr,Br,ie,{})}}function jr(t){let e,n;return e=new sr({props:{$$slots:{timeline:[Dr],panel:[Hr],preview:[Rr],sidebar:[Ar]},$$scope:{ctx:t}}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},p(l,r){const o={};r&32&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Lr(t){let e;return{c(){e=m("div"),e.innerHTML='<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <p class="text-xl mb-2">No video selected</p> <p class="text-sm">Go to dashboard to select a video to edit</p> <a href="/" class="mt-4 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition">Go to Dashboard</a>',f(e,"class","flex flex-col items-center justify-center h-full text-gray-400 ml-16")},m(n,l){I(n,e,l)},p:O,i:O,o:O,d(n){n&&j(e)}}}function Ir(t){let e,n;return{c(){e=m("div"),n=J(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(l,r){I(l,e,r),u(e,n)},p(l,r){r&2&&_e(n,l[1])},i:O,o:O,d(l){l&&j(e)}}}function zr(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(n,l){I(n,e,l)},p:O,i:O,o:O,d(n){n&&j(e)}}}function Ar(t){let e,n;return e=new er({props:{slot:"sidebar"}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},p:O,i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Rr(t){let e,n;return e=new gr({props:{slot:"preview"}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},p:O,i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Hr(t){let e,n;return e=new Cr({props:{slot:"panel"}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},p:O,i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Dr(t){let e,n;return e=new Mr({props:{slot:"timeline"}}),{c(){le(e.$$.fragment)},m(l,r){X(e,l,r),n=!0},p:O,i(l){n||(E(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function Or(t){let e,n,l,r,o,i;const s=[zr,Ir,Lr,jr],a=[];function c(g,_){return g[0]?0:g[1]?1:g[2]?3:2}return n=c(t),l=a[n]=s[n](t),o=new Pr({}),{c(){e=m("main"),l.c(),r=$(),le(o.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-white text-gray-900 font-sans")},m(g,_){I(g,e,_),a[n].m(e,null),I(g,r,_),X(o,g,_),i=!0},p(g,[_]){let d=n;n=c(g),n===d?a[n].p(g,_):(Ce(),L(a[d],1,1,()=>{a[d]=null}),$e(),l=a[n],l?l.p(g,_):(l=a[n]=s[n](g),l.c()),E(l,1),l.m(e,null))},i(g){i||(E(l),E(o.$$.fragment,g),i=!0)},o(g){L(l),L(o.$$.fragment,g),i=!1},d(g){g&&(j(e),j(r)),a[n].d(),ee(o,g)}}}function Ur(t){if(!t)return[];const e=[];return t.trim().split(/\n\s*\n/).forEach((l,r)=>{const o=l.trim().split(`
`);if(o.length<3)return;const s=o[1].match(/(\d{2}:\d{2}:\d{2},\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2},\d{3})/);if(s){const a=zn(s[1]),c=zn(s[2]),g=o.slice(2).join(" ").trim(),_=g.split(" ").map((d,h)=>{const p=(c-a)/g.split(" ").length;return{text:d,start:a+h*p,end:a+(h+1)*p,confidence:.95}});e.push({id:`caption_${r}`,text:g,start:a,end:c,words:_})}}),e}function zn(t){const e=t.match(/(\d{2}):(\d{2}):(\d{2}),(\d{3})/);if(!e)return 0;const n=parseInt(e[1]),l=parseInt(e[2]),r=parseInt(e[3]),o=parseInt(e[4]);return n*3600+l*60+r+o/1e3}function qr(t,e,n){let l;de(t,oe,a=>n(2,l=a));let r=null,o=!0,i=null;Gn(async()=>{const a=window.location.pathname.split("/"),c=a.indexOf("edit");c>-1&&a.length>c+1?(r=a[c+1],await s(r)):n(0,o=!1)});async function s(a){try{n(0,o=!0);const c=await fetch(`/api/editor_data/${a}`);if(!c.ok)throw new Error("Failed to load project");const g=await c.json(),_=Ur(g.srt_content),d=_.length>0?_[_.length-1].end:0;oe.set({id:g.job_id,name:g.original_filename||"Untitled",videoUrl:g.video_url,videoDuration:d,captions:_,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:g.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date}),d&&ve.update(h=>({...h,duration:d}))}catch(c){n(1,i=c instanceof Error?c.message:"Failed to load project")}finally{n(0,o=!1)}}return[o,i,l]}class Vr extends pe{constructor(e){super(),ge(this,e,qr,Or,ie,{})}}new Vr({target:document.getElementById("app")});
