var Zn=Object.defineProperty;var Xn=(t,e,n)=>e in t?Zn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ft=(t,e,n)=>Xn(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function D(){}const Ln=t=>t;function J(t,e){for(const n in e)t[n]=e[n];return t}function zn(t){return t()}function jt(){return Object.create(null)}function ge(t){t.forEach(zn)}function at(t){return typeof t=="function"}function ne(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ze;function nt(t,e){return t===e?!0:(Ze||(Ze=document.createElement("a")),Ze.href=e,t===Ze.href)}function el(t){return Object.keys(t).length===0}function An(t,...e){if(t==null){for(const l of e)l(void 0);return D}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ae(t,e,n){t.$$.on_destroy.push(An(e,n))}function _e(t,e,n,l){if(t){const r=Rn(t,e,n,l);return t[0](r)}}function Rn(t,e,n,l){return t[1]&&l?J(n.ctx.slice(),t[1](l(e))):n.ctx}function be(t,e,n,l){if(t[2]&&l){const r=t[2](l(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let s=0;s<i;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function ye(t,e,n,l,r,o){if(r){const i=Rn(e,n,l,o);t.p(i,r)}}function ve(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ce(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Bt(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const Dn=typeof window<"u";let tl=Dn?()=>window.performance.now():()=>Date.now(),bt=Dn?t=>requestAnimationFrame(t):D;const Be=new Set;function On(t){Be.forEach(e=>{e.c(t)||(Be.delete(e),e.f())}),Be.size!==0&&bt(On)}function nl(t){let e;return Be.size===0&&bt(On),{promise:new Promise(n=>{Be.add(e={c:t,f:n})}),abort(){Be.delete(e)}}}function u(t,e){t.appendChild(e)}function Hn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ll(t){const e=m("style");return e.textContent="/* empty */",rl(Hn(t),e),e.sheet}function rl(t,e){return u(t.head||t,e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function te(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function lt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function H(t){return document.createTextNode(t)}function $(){return H(" ")}function yt(){return H("")}function U(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Un(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function rt(t,e){for(const n in e)f(t,n,e[n])}function ol(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function ot(t,e){t.value=e??""}function xe(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Xe(t,e,n){for(let l=0;l<t.options.length;l+=1){const r=t.options[l];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function il(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}function It(t,e){return new t(e)}const it=new Map;let st=0;function sl(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function al(t,e){const n={stylesheet:ll(e),rules:{}};return it.set(t,n),n}function Lt(t,e,n,l,r,o,i,s=0){const a=16.666/l;let c=`{
`;for(let v=0;v<=1;v+=a){const y=e+(n-e)*o(v);c+=v*100+`%{${i(y,1-y)}}
`}const p=c+`100% {${i(n,1-n)}}
}`,b=`__svelte_${sl(p)}_${s}`,d=Hn(t),{stylesheet:g,rules:h}=it.get(d)||al(d,t);h[b]||(h[b]=!0,g.insertRule(`@keyframes ${b} ${p}`,g.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${b} ${l}ms linear ${r}ms 1 both`,st+=1,b}function cl(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=n.length-l.length;r&&(t.style.animation=l.join(", "),st-=r,st||ul())}function ul(){bt(()=>{st||(it.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&B(e)}),it.clear())})}let Ge;function Ve(t){Ge=t}function fl(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function qn(t){fl().$$.on_mount.push(t)}function dl(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const je=[],Ye=[];let Ie=[];const zt=[],hl=Promise.resolve();let pt=!1;function gl(){pt||(pt=!0,hl.then(Vn))}function Le(t){Ie.push(t)}const dt=new Set;let Ne=0;function Vn(){if(Ne!==0)return;const t=Ge;do{try{for(;Ne<je.length;){const e=je[Ne];Ne++,Ve(e),pl(e.$$)}}catch(e){throw je.length=0,Ne=0,e}for(Ve(null),je.length=0,Ne=0;Ye.length;)Ye.pop()();for(let e=0;e<Ie.length;e+=1){const n=Ie[e];dt.has(n)||(dt.add(n),n())}Ie.length=0}while(je.length);for(;zt.length;)zt.pop()();pt=!1,dt.clear(),Ve(t)}function pl(t){if(t.fragment!==null){t.update(),ge(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Le)}}function ml(t){const e=[],n=[];Ie.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Ie=e}let qe;function _l(){return qe||(qe=Promise.resolve(),qe.then(()=>{qe=null})),qe}function ht(t,e,n){t.dispatchEvent(il(`${e?"intro":"outro"}${n}`))}const tt=new Set;let Fe;function we(){Fe={r:0,c:[],p:Fe}}function ke(){Fe.r||ge(Fe.c),Fe=Fe.p}function N(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function j(t,e,n,l){if(t&&t.o){if(tt.has(t))return;tt.add(t),Fe.c.push(()=>{tt.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const bl={duration:0};function et(t,e,n,l){let o=e(t,n,{direction:"both"}),i=l?0:1,s=null,a=null,c=null,p;function b(){c&&cl(t,c)}function d(h,w){const v=h.b-i;return w*=Math.abs(v),{a:i,b:h.b,d:v,duration:w,start:h.start,end:h.start+w,group:h.group}}function g(h){const{delay:w=0,duration:v=300,easing:y=Ln,tick:k=D,css:M}=o||bl,L={start:tl()+w,b:h};h||(L.group=Fe,Fe.r+=1),"inert"in t&&(h?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),s||a?a=L:(M&&(b(),c=Lt(t,i,h,v,w,y,M)),h&&k(0,1),s=d(L,v),Le(()=>ht(t,h,"start")),nl(W=>{if(a&&W>a.start&&(s=d(a,v),a=null,ht(t,s.b,"start"),M&&(b(),c=Lt(t,i,s.b,s.duration,0,y,o.css))),s){if(W>=s.end)k(i=s.b,1-i),ht(t,s.b,"end"),a||(s.b?b():--s.group.r||ge(s.group.c)),s=null;else if(W>=s.start){const C=W-s.start;i=s.a+s.d*y(C/s.duration),k(i,1-i)}}return!!(s||a)}))}return{run(h){at(o)?_l().then(()=>{o=o({direction:h?"in":"out"}),g(h)}):g(h)},end(){b(),s=a=null}}}function R(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ce(t,e){const n={},l={},r={$$scope:1};let o=t.length;for(;o--;){const i=t[o],s=e[o];if(s){for(const a in i)a in s||(l[a]=1);for(const a in s)r[a]||(n[a]=s[a],r[a]=1);t[o]=s}else for(const a in i)r[a]=1}for(const i in l)i in n||(n[i]=void 0);return n}function ze(t){return typeof t=="object"&&t!==null?t:{}}function X(t){t&&t.c()}function Q(t,e,n){const{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),Le(()=>{const o=t.$$.on_mount.map(zn).filter(at);t.$$.on_destroy?t.$$.on_destroy.push(...o):ge(o),t.$$.on_mount=[]}),r.forEach(Le)}function K(t,e){const n=t.$$;n.fragment!==null&&(ml(n.after_update),ge(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function yl(t,e){t.$$.dirty[0]===-1&&(je.push(t),gl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function fe(t,e,n,l,r,o,i=null,s=[-1]){const a=Ge;Ve(t);const c=t.$$={fragment:null,ctx:[],props:o,update:D,not_equal:r,bound:jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:jt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};i&&i(c.root);let p=!1;if(c.ctx=n?n(t,e.props||{},(b,d,...g)=>{const h=g.length?g[0]:d;return c.ctx&&r(c.ctx[b],c.ctx[b]=h)&&(!c.skip_bound&&c.bound[b]&&c.bound[b](h),p&&yl(t,b)),d}):[],c.update(),p=!0,ge(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const b=ol(e.target);c.fragment&&c.fragment.l(b),b.forEach(B)}else c.fragment&&c.fragment.c();e.intro&&N(t.$$.fragment),Q(t,e.target,e.anchor),Vn()}Ve(a)}class de{constructor(){ft(this,"$$");ft(this,"$$set")}$destroy(){K(this,1),this.$destroy=D}$on(e,n){if(!at(n))return D;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!el(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vl);const Pe=[];function wl(t,e){return{subscribe:Ae(t,e).subscribe}}function Ae(t,e=D){let n;const l=new Set;function r(s){if(ne(t,s)&&(t=s,n)){const a=!Pe.length;for(const c of l)c[1](),Pe.push(c,t);if(a){for(let c=0;c<Pe.length;c+=2)Pe[c][0](Pe[c+1]);Pe.length=0}}}function o(s){r(s(t))}function i(s,a=D){const c=[s,a];return l.add(c),l.size===1&&(n=e(r,o)||D),s(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}function Gn(t,e,n){const l=!Array.isArray(t),r=l?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return wl(n,(i,s)=>{let a=!1;const c=[];let p=0,b=D;const d=()=>{if(p)return;b();const h=e(l?c[0]:c,i,s);o?i(h):b=at(h)?h:D},g=r.map((h,w)=>An(h,v=>{c[w]=v,p&=~(1<<w),a&&d()},()=>{p|=1<<w}));return a=!0,d(),function(){ge(g),b(),a=!1}})}const mt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},kl={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1},_t=Ae("captions");function xl(){const{subscribe:t,set:e,update:n}=Ae(null);return{subscribe:t,set:e,update:n,updateCaption:(l,r)=>{n(o=>{if(!o)return o;const i=o.captions.map(s=>s.id===l?{...s,...r}:s);return{...o,captions:i,updatedAt:new Date}})},updateStyle:l=>{n(r=>r&&{...r,style:{...r.style,...l},updatedAt:new Date})},applyPreset:l=>{n(r=>{if(!r)return r;const o=mt[l];return o?{...r,style:{...kl,...o},updatedAt:new Date}:r})},addBRoll:l=>{n(r=>r&&{...r,bRollClips:[...r.bRollClips,l],updatedAt:new Date})},removeBRoll:l=>{n(r=>r&&{...r,bRollClips:r.bRollClips.filter(o=>o.id!==l),updatedAt:new Date})}}}const ee=xl();function Fl(){const{subscribe:t,set:e,update:n}=Ae({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:n,setCurrentTime:l=>n(r=>({...r,currentTime:l})),setPlaying:l=>n(r=>({...r,isPlaying:l})),togglePlay:()=>n(l=>({...l,isPlaying:!l.isPlaying}))}}const me=Fl(),Je=Ae({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1}),At=Ae(null),Yn=Gn([ee,me],([t,e])=>t&&t.captions.find(n=>e.currentTime>=n.start&&e.currentTime<=n.end)||null),$l=Gn([Yn,me],([t,e])=>!t||!t.words?null:t.words.find(n=>e.currentTime>=n.start&&e.currentTime<=n.end)||null);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Dt(t,e,n){const l=t.slice();return l[10]=e[n][0],l[11]=e[n][1],l}function gt(t){let e,n=[t[11]],l={};for(let r=0;r<n.length;r+=1)l=J(l,n[r]);return{c(){e=lt(t[10]),rt(e,l)},m(r,o){I(r,e,o)},p(r,o){rt(e,l=Ce(n,[o&32&&r[11]]))},d(r){r&&B(e)}}}function Ot(t){let e=t[10],n,l=t[10]&&gt(t);return{c(){l&&l.c(),n=yt()},m(r,o){l&&l.m(r,o),I(r,n,o)},p(r,o){r[10]?e?ne(e,r[10])?(l.d(1),l=gt(r),e=r[10],l.c(),l.m(n.parentNode,n)):l.p(r,o):(l=gt(r),e=r[10],l.c(),l.m(n.parentNode,n)):e&&(l.d(1),l=null,e=r[10])},d(r){r&&B(n),l&&l.d(r)}}}function Cl(t){let e,n,l,r,o,i=R(t[5]),s=[];for(let d=0;d<i.length;d+=1)s[d]=Ot(Dt(t,i,d));const a=t[9].default,c=_e(a,t,t[8],null);let p=[Rt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":l=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],b={};for(let d=0;d<p.length;d+=1)b=J(b,p[d]);return{c(){e=lt("svg");for(let d=0;d<s.length;d+=1)s[d].c();n=yt(),c&&c.c(),rt(e,b)},m(d,g){I(d,e,g);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);u(e,n),c&&c.m(e,null),o=!0},p(d,[g]){if(g&32){i=R(d[5]);let h;for(h=0;h<i.length;h+=1){const w=Dt(d,i,h);s[h]?s[h].p(w,g):(s[h]=Ot(w),s[h].c(),s[h].m(e,n))}for(;h<s.length;h+=1)s[h].d(1);s.length=i.length}c&&c.p&&(!o||g&256)&&ye(c,a,d,d[8],o?be(a,d[8],g,null):ve(d[8]),null),rt(e,b=Ce(p,[Rt,g&64&&d[6],(!o||g&4)&&{width:d[2]},(!o||g&4)&&{height:d[2]},(!o||g&2)&&{stroke:d[1]},(!o||g&28&&l!==(l=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":l},(!o||g&129&&r!==(r=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:r}]))},i(d){o||(N(c,d),o=!0)},o(d){j(c,d),o=!1},d(d){d&&B(e),te(s,d),c&&c.d(d)}}}function Sl(t,e,n){const l=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Bt(e,l),{$$slots:o={},$$scope:i}=e,{name:s}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:b=!1}=e,{iconNode:d}=e;return t.$$set=g=>{n(7,e=J(J({},e),ce(g))),n(6,r=Bt(e,l)),"name"in g&&n(0,s=g.name),"color"in g&&n(1,a=g.color),"size"in g&&n(2,c=g.size),"strokeWidth"in g&&n(3,p=g.strokeWidth),"absoluteStrokeWidth"in g&&n(4,b=g.absoluteStrokeWidth),"iconNode"in g&&n(5,d=g.iconNode),"$$scope"in g&&n(8,i=g.$$scope)},e=ce(e),[s,a,c,p,b,d,r,e,i,o]}class Re extends de{constructor(e){super(),fe(this,e,Sl,Cl,ne,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Ml(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function El(t){let e,n;const l=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Ml]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Tl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Jn extends de{constructor(e){super(),fe(this,e,Tl,El,ne,{})}}function Wl(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function Nl(t){let e,n;const l=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Wl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Pl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Qn extends de{constructor(e){super(),fe(this,e,Pl,Nl,ne,{})}}function jl(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function Bl(t){let e,n;const l=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[jl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Il(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Ll extends de{constructor(e){super(),fe(this,e,Il,Bl,ne,{})}}function zl(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function Al(t){let e,n;const l=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[zl]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Rl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Dl extends de{constructor(e){super(),fe(this,e,Rl,Al,ne,{})}}function Ol(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function Hl(t){let e,n;const l=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Ol]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Ul(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Kn extends de{constructor(e){super(),fe(this,e,Ul,Hl,ne,{})}}function ql(t){let e;const n=t[2].default,l=_e(n,t,t[3],null);return{c(){l&&l.c()},m(r,o){l&&l.m(r,o),e=!0},p(r,o){l&&l.p&&(!e||o&8)&&ye(l,n,r,r[3],e?be(n,r[3],o,null):ve(r[3]),null)},i(r){e||(N(l,r),e=!0)},o(r){j(l,r),e=!1},d(r){l&&l.d(r)}}}function Vl(t){let e,n;const l=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[ql]},$$scope:{ctx:t}};for(let o=0;o<l.length;o+=1)r=J(r,l[o]);return e=new Re({props:r}),{c(){X(e.$$.fragment)},m(o,i){Q(e,o,i),n=!0},p(o,[i]){const s=i&3?Ce(l,[l[0],i&2&&ze(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){n||(N(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){K(e,o)}}}function Gl(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=i=>{n(1,e=J(J({},e),ce(i))),"$$scope"in i&&n(3,r=i.$$scope)},e=ce(e),[o,e,l,r]}class Yl extends de{constructor(e){super(),fe(this,e,Gl,Vl,ne,{})}}function Ht(t,e,n){const l=t.slice();return l[3]=e[n],l}function Ut(t){let e,n,l,r,o,i,s,a,c;var p=t[3].icon;function b(g,h){return{props:{class:"w-5 h-5"}}}p&&(n=It(p,b()));function d(){return t[2](t[3])}return{c(){e=m("button"),n&&X(n.$$.fragment),l=$(),r=m("span"),r.textContent=`${t[3].label}`,o=$(),f(r,"class","absolute left-14 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")),f(e,"title",t[3].label)},m(g,h){I(g,e,h),n&&Q(n,e,null),u(e,l),u(e,r),u(e,o),s=!0,a||(c=U(e,"click",d),a=!0)},p(g,h){if(t=g,p!==(p=t[3].icon)){if(n){we();const w=n;j(w.$$.fragment,1,0,()=>{K(w,1)}),ke()}p?(n=It(p,b()),X(n.$$.fragment),N(n.$$.fragment,1),Q(n,e,l)):n=null}(!s||h&1&&i!==(i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")))&&f(e,"class",i)},i(g){s||(n&&N(n.$$.fragment,g),s=!0)},o(g){n&&j(n.$$.fragment,g),s=!1},d(g){g&&B(e),n&&K(n),a=!1,c()}}}function Jl(t){let e,n,l,r,o,i,s,a,c,p,b,d,g=R(t[1]),h=[];for(let v=0;v<g.length;v+=1)h[v]=Ut(Ht(t,g,v));const w=v=>j(h[v],1,1,()=>{h[v]=null});return{c(){e=m("div"),n=m("div"),n.innerHTML='<a href="/" class="text-gray-900"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',l=$(),r=m("nav");for(let v=0;v<h.length;v+=1)h[v].c();o=$(),i=m("div"),s=m("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',a=$(),c=m("button"),c.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(n,"class","h-14 flex items-center justify-center border-b border-gray-200"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-gray-900 hover:bg-gray-200 transition"),f(s,"title","Profile"),f(c,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-red-600 hover:bg-red-50 transition"),f(c,"title","Logout"),f(i,"class","flex flex-col items-center py-4 gap-2 border-t border-gray-200"),f(e,"class","flex flex-col h-full")},m(v,y){I(v,e,y),u(e,n),u(e,l),u(e,r);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(r,null);u(e,o),u(e,i),u(i,s),u(i,a),u(i,c),p=!0,b||(d=U(c,"click",Ql),b=!0)},p(v,[y]){if(y&3){g=R(v[1]);let k;for(k=0;k<g.length;k+=1){const M=Ht(v,g,k);h[k]?(h[k].p(M,y),N(h[k],1)):(h[k]=Ut(M),h[k].c(),N(h[k],1),h[k].m(r,null))}for(we(),k=g.length;k<h.length;k+=1)w(k);ke()}},i(v){if(!p){for(let y=0;y<g.length;y+=1)N(h[y]);p=!0}},o(v){h=h.filter(Boolean);for(let y=0;y<h.length;y+=1)j(h[y]);p=!1},d(v){v&&B(e),te(h,v),b=!1,d()}}}function Ql(){window.location.href="/logout"}function Kl(t,e,n){let l;return ae(t,_t,i=>n(0,l=i)),[l,[{id:"captions",label:"Captions",icon:Yl},{id:"style",label:"Style",icon:Ll},{id:"broll",label:"B-Roll",icon:Jn},{id:"ai-tools",label:"AI Tools",icon:Kn}],i=>_t.set(i.id)]}class Zl extends de{constructor(e){super(),fe(this,e,Kl,Jl,ne,{})}}const Xl=t=>({}),qt=t=>({}),er=t=>({}),Vt=t=>({}),tr=t=>({}),Gt=t=>({}),nr=t=>({}),Yt=t=>({});function lr(t){let e,n,l,r,o,i,s,a,c,p,b,d,g,h,w,v,y,k,M;const L=t[1].sidebar,W=_e(L,t,t[0],Yt),C=t[1].panel,z=_e(C,t,t[0],Gt),E=t[1].preview,x=_e(E,t,t[0],Vt),O=t[1].timeline,G=_e(O,t,t[0],qt);return{c(){e=m("div"),n=m("aside"),W&&W.c(),l=$(),r=m("aside"),z&&z.c(),o=$(),i=m("div"),s=m("div"),a=m("header"),c=m("div"),c.innerHTML='<h1 class="font-semibold text-lg text-gray-900">Video Editor</h1> <span class="text-xs text-gray-400">Auto-save enabled</span>',p=$(),b=m("div"),d=m("button"),d.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,g=$(),h=m("div"),x&&x.c(),w=$(),v=m("aside"),G&&G.c(),f(n,"class","w-16 flex-shrink-0 border-r border-gray-200 bg-gray-50"),f(r,"class","w-80 flex-shrink-0 border-r border-gray-200 bg-gray-50 overflow-y-auto"),f(c,"class","flex items-center gap-4"),f(d,"class","px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition flex items-center gap-2"),f(b,"class","flex items-center gap-2"),f(a,"class","h-14 border-b border-gray-200 flex items-center justify-between px-4 bg-white"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-gray-100"),f(v,"class","w-20 flex-shrink-0 border-l border-gray-200 bg-white"),f(i,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-white")},m(_,F){I(_,e,F),u(e,n),W&&W.m(n,null),u(e,l),u(e,r),z&&z.m(r,null),u(e,o),u(e,i),u(i,s),u(s,a),u(a,c),u(a,p),u(a,b),u(b,d),u(s,g),u(s,h),x&&x.m(h,null),u(i,w),u(i,v),G&&G.m(v,null),y=!0,k||(M=U(d,"click",t[2]),k=!0)},p(_,[F]){W&&W.p&&(!y||F&1)&&ye(W,L,_,_[0],y?be(L,_[0],F,nr):ve(_[0]),Yt),z&&z.p&&(!y||F&1)&&ye(z,C,_,_[0],y?be(C,_[0],F,tr):ve(_[0]),Gt),x&&x.p&&(!y||F&1)&&ye(x,E,_,_[0],y?be(E,_[0],F,er):ve(_[0]),Vt),G&&G.p&&(!y||F&1)&&ye(G,O,_,_[0],y?be(O,_[0],F,Xl):ve(_[0]),qt)},i(_){y||(N(W,_),N(z,_),N(x,_),N(G,_),y=!0)},o(_){j(W,_),j(z,_),j(x,_),j(G,_),y=!1},d(_){_&&B(e),W&&W.d(_),z&&z.d(_),x&&x.d(_),G&&G.d(_),k=!1,M()}}}function rr(t,e,n){let{$$slots:l={},$$scope:r}=e;const o=()=>Je.update(i=>({...i,isExporting:!0}));return t.$$set=i=>{"$$scope"in i&&n(0,r=i.$$scope)},[r,l,o]}class or extends de{constructor(e){super(),fe(this,e,rr,lr,ne,{})}}function Jt(t){const e=Math.floor(t/60),n=Math.floor(t%60),l=Math.floor(t%1*100);return`${e}:${n.toString().padStart(2,"0")}.${l.toString().padStart(2,"0")}`}function ir(t){switch(t){case"light":return"0 1px 2px rgba(0,0,0,0.5)";case"medium":return"0 2px 4px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4)";case"heavy":return"0 0 0 4px rgba(0,0,0,0.8), 0 4px 12px rgba(0,0,0,0.8), 0 8px 24px rgba(0,0,0,0.6)";default:return"none"}}function sr(t){switch(t){case"pop":return"animate-pop-in";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade-in";case"bounce":return"animate-bounce-in";default:return""}}function Qt(t,e,n){const l=t.slice();return l[22]=e[n],l}function Kt(t){let e,n;function l(i,s){return i[0].wordByWord&&i[8].length>0?cr:ar}let r=l(t),o=r(t);return{c(){e=m("div"),o.c(),f(e,"class",n="absolute inset-x-6 "+t[12]()+" "+t[6]),f(e,"style",t[10]())},m(i,s){I(i,e,s),o.m(e,null)},p(i,s){r===(r=l(i))&&o?o.p(i,s):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),s&64&&n!==(n="absolute inset-x-6 "+i[12]()+" "+i[6])&&f(e,"class",n)},d(i){i&&B(e),o.d()}}}function ar(t){let e=t[1].text+"",n;return{c(){n=H(e)},m(l,r){I(l,n,r)},p(l,r){r&2&&e!==(e=l[1].text+"")&&ue(n,e)},d(l){l&&B(n)}}}function cr(t){let e,n=R(t[8]),l=[];for(let r=0;r<n.length;r+=1)l[r]=Zt(Qt(t,n,r));return{c(){e=m("span");for(let r=0;r<l.length;r+=1)l[r].c();f(e,"class","inline-flex flex-wrap justify-center gap-1")},m(r,o){I(r,e,o);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(r,o){if(o&2304){n=R(r[8]);let i;for(i=0;i<n.length;i+=1){const s=Qt(r,n,i);l[i]?l[i].p(s,o):(l[i]=Zt(s),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(r){r&&B(e),te(l,r)}}}function Zt(t){let e,n=t[22].text+"",l,r,o;return{c(){e=m("span"),l=H(n),r=$(),f(e,"style",o=t[11](t[22]))},m(i,s){I(i,e,s),u(e,l),u(e,r)},p(i,s){s&256&&n!==(n=i[22].text+"")&&ue(l,n),s&256&&o!==(o=i[11](i[22]))&&f(e,"style",o)},d(i){i&&B(e)}}}function Xt(t){let e,n,l;return{c(){e=m("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(r,o){I(r,e,o),n||(l=U(e,"click",t[9]),n=!0)},p:D,d(r){r&&B(e),n=!1,l()}}}function ur(t){let e,n,l,r,o,i,s,a,c=Math.floor(t[7]/60)+"",p,b,d=(Math.floor(t[7])%60).toString().padStart(2,"0")+"",g,h,w,v=t[1]&&Kt(t),y=!t[2].isPlaying&&Xt(t);return{c(){var k;e=m("div"),n=m("video"),l=m("track"),o=$(),v&&v.c(),i=$(),y&&y.c(),s=$(),a=m("div"),p=H(c),b=H(":"),g=H(d),f(l,"kind","captions"),nt(n.src,r=(k=t[3])==null?void 0:k.videoUrl)||f(n,"src",r),f(n,"class","w-full h-full object-contain"),f(n,"crossorigin","anonymous"),n.playsInline=!0,f(a,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(k,M){I(k,e,M),u(e,n),u(n,l),t[15](n),u(e,o),v&&v.m(e,null),u(e,i),y&&y.m(e,null),u(e,s),u(e,a),u(a,p),u(a,b),u(a,g),t[16](e),h||(w=U(n,"click",t[9]),h=!0)},p(k,[M]){var L;M&8&&!nt(n.src,r=(L=k[3])==null?void 0:L.videoUrl)&&f(n,"src",r),k[1]?v?v.p(k,M):(v=Kt(k),v.c(),v.m(e,i)):v&&(v.d(1),v=null),k[2].isPlaying?y&&(y.d(1),y=null):y?y.p(k,M):(y=Xt(k),y.c(),y.m(e,s)),M&128&&c!==(c=Math.floor(k[7]/60)+"")&&ue(p,c),M&128&&d!==(d=(Math.floor(k[7])%60).toString().padStart(2,"0")+"")&&ue(g,d)},i:D,o:D,d(k){k&&B(e),t[15](null),v&&v.d(),y&&y.d(),t[16](null),h=!1,w()}}}function fr(t,e,n){let l,r,o,i,s,a,c,p,b,d;ae(t,me,x=>n(2,c=x)),ae(t,$l,x=>n(13,p=x)),ae(t,Yn,x=>n(14,b=x)),ae(t,ee,x=>n(3,d=x));let g,h,w;qn(()=>(window.addEventListener("timeline-seek",v),g&&(g.addEventListener("timeupdate",y),g.addEventListener("loadedmetadata",k),g.addEventListener("play",()=>me.setPlaying(!0)),g.addEventListener("pause",()=>me.setPlaying(!1))),()=>{window.removeEventListener("timeline-seek",v),g&&(g.removeEventListener("timeupdate",y),g.removeEventListener("loadedmetadata",k)),cancelAnimationFrame(w)}));function v(x){g&&x.detail&&typeof x.detail.time=="number"&&n(4,g.currentTime=x.detail.time,g)}function y(){g&&me.setCurrentTime(g.currentTime)}function k(){g&&me.update(x=>({...x,duration:g.duration}))}function M(){g&&(g.paused?g.play():g.pause())}function L(){return{fontFamily:l.fontFamily||"Inter",fontSize:`${l.fontSize||42}px`,fontWeight:l.fontWeight||"bold",color:l.color||"#FFFFFF",textShadow:ir(l.textShadow||"medium"),textTransform:l.textTransform||"none",letterSpacing:`${l.letterSpacing||0}px`,lineHeight:l.lineHeight||1.2,textAlign:l.alignment||"center"}}function W(x){const O=x===o;return{backgroundColor:O&&l.highlightWords?l.highlightColor||"#FFD700":"transparent",color:O&&l.highlightWords?"#000000":l.color||"#FFFFFF",padding:O&&l.highlightWords?"2px 6px":"0",borderRadius:O&&l.highlightWords?"4px":"0",transition:"all 0.1s ease"}}function C(){switch(l.position){case"top":return"top-16";case"middle":return"top-1/2 -translate-y-1/2";case"bottom":default:return"bottom-24"}}function z(x){Ye[x?"unshift":"push"](()=>{g=x,n(4,g)})}function E(x){Ye[x?"unshift":"push"](()=>{h=x,n(5,h)})}return t.$$.update=()=>{t.$$.dirty&8&&n(0,l=(d==null?void 0:d.style)||{}),t.$$.dirty&16384&&n(1,r=b),t.$$.dirty&8192&&(o=p),t.$$.dirty&2&&n(8,i=(r==null?void 0:r.words)||[]),t.$$.dirty&4&&n(7,s=c.currentTime),t.$$.dirty&1&&n(6,a=sr(l.animation||"pop"))},[l,r,c,d,g,h,a,s,i,M,L,W,C,p,b,z,E]}class dr extends de{constructor(e){super(),fe(this,e,fr,ur,ne,{})}}function en(t,e,n){const l=t.slice();return l[47]=e[n],l}function tn(t,e,n){const l=t.slice();return l[44]=e[n],l}function nn(t,e,n){const l=t.slice();return l[28]=e[n],l}function ln(t,e,n){const l=t.slice();return l[31]=e[n],l}function rn(t,e,n){const l=t.slice();return l[34]=e[n],l}function on(t,e,n){const l=t.slice();return l[37]=e[n],l}function sn(t,e,n){const l=t.slice();return l[40]=e[n][0],l[41]=e[n][1],l}function an(t,e,n){const l=t.slice();return l[25]=e[n],l}function hr(t){let e,n,l,r,o,i,s,a,c,p;const b=[br,_r],d=[];function g(w,v){return w[0]?0:1}o=g(t),i=d[o]=b[o](t);let h=t[6]&&cn(t);return{c(){e=m("div"),n=m("h3"),n.textContent="AI Magic Tools",l=$(),r=m("button"),i.c(),s=$(),h&&h.c(),f(n,"class","font-semibold text-lg text-gray-900"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-medium text-white hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(e,"class","p-4 space-y-4")},m(w,v){I(w,e,v),u(e,n),u(e,l),u(e,r),d[o].m(r,null),u(e,s),h&&h.m(e,null),a=!0,c||(p=U(r,"click",t[10]),c=!0)},p(w,v){let y=o;o=g(w),o!==y&&(we(),j(d[y],1,1,()=>{d[y]=null}),ke(),i=d[o],i||(i=d[o]=b[o](w),i.c()),N(i,1),i.m(r,null)),(!a||v[0]&1)&&(r.disabled=w[0]),w[6]?h?h.p(w,v):(h=cn(w),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(w){a||(N(i),a=!0)},o(w){j(i),a=!1},d(w){w&&B(e),d[o].d(),h&&h.d(),c=!1,p()}}}function gr(t){let e,n,l,r,o,i,s,a,c,p,b,d,g;const h=[vr,yr],w=[];function v(k,M){return k[3]?0:1}a=v(t),c=w[a]=h[a](t);let y=t[2].length>0&&fn(t);return{c(){e=m("div"),n=m("h3"),n.textContent="B-Roll Library",l=$(),r=m("div"),o=m("input"),i=$(),s=m("button"),c.c(),p=$(),y&&y.c(),f(n,"class","font-semibold text-lg text-gray-900"),f(o,"type","text"),f(o,"placeholder","Search stock footage..."),f(o,"class","flex-1 p-2 bg-white rounded-lg border border-gray-200 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),s.disabled=t[3],f(s,"class","p-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(k,M){I(k,e,M),u(e,n),u(e,l),u(e,r),u(r,o),ot(o,t[1]),u(r,i),u(r,s),w[a].m(s,null),u(e,p),y&&y.m(e,null),b=!0,d||(g=[U(o,"input",t[22]),U(o,"keydown",t[23]),U(s,"click",t[11])],d=!0)},p(k,M){M[0]&2&&o.value!==k[1]&&ot(o,k[1]);let L=a;a=v(k),a!==L&&(we(),j(w[L],1,1,()=>{w[L]=null}),ke(),c=w[a],c||(c=w[a]=h[a](k),c.c()),N(c,1),c.m(s,null)),(!b||M[0]&8)&&(s.disabled=k[3]),k[2].length>0?y?(y.p(k,M),M[0]&4&&N(y,1)):(y=fn(k),y.c(),N(y,1),y.m(e,null)):y&&(we(),j(y,1,1,()=>{y=null}),ke())},i(k){b||(N(c),N(y),b=!0)},o(k){j(c),j(y),b=!1},d(k){k&&B(e),w[a].d(),y&&y.d(),d=!1,ge(g)}}}function pr(t){var $t,Ct;let e,n,l,r,o,i,s,a,c,p,b,d,g,h,w,v,y,k,M,L,W=(((Ct=($t=t[4])==null?void 0:$t.style)==null?void 0:Ct.fontSize)||42)+"",C,z,E,x,O,G,_,F,q,T,A,he,Qe,vt,$e,wt,kt,Se,Ke,xt,De,ct,Ft,Me=R(Object.entries(mt)),le=[];for(let P=0;P<Me.length;P+=1)le[P]=hn(sn(t,Me,P));let Ee=R(t[7]),re=[];for(let P=0;P<Ee.length;P+=1)re[P]=gn(on(t,Ee,P));let Te=R(t[8]),oe=[];for(let P=0;P<Te.length;P+=1)oe[P]=pn(rn(t,Te,P));let We=R(t[9]),ie=[];for(let P=0;P<We.length;P+=1)ie[P]=mn(ln(t,We,P));let ut=R(["none","light","medium","heavy"]),pe=[];for(let P=0;P<4;P+=1)pe[P]=_n(nn(t,ut,P));return{c(){var P,Z;e=m("div"),n=m("div"),l=m("h3"),l.textContent="Style Presets",r=$(),o=m("div");for(let Y=0;Y<le.length;Y+=1)le[Y].c();i=$(),s=m("div"),a=m("h3"),a.textContent="Typography",c=$(),p=m("div"),b=m("label"),b.textContent="Font Family",d=$(),g=m("select");for(let Y=0;Y<re.length;Y+=1)re[Y].c();w=$(),v=m("div"),y=m("label"),k=m("span"),k.textContent="Font Size",M=$(),L=m("span"),C=H(W),z=H("px"),E=$(),x=m("input"),G=$(),_=m("div"),F=m("label"),F.textContent="Position",q=$(),T=m("div");for(let Y=0;Y<oe.length;Y+=1)oe[Y].c();A=$(),he=m("div"),Qe=m("label"),Qe.textContent="Animation",vt=$(),$e=m("select");for(let Y=0;Y<ie.length;Y+=1)ie[Y].c();kt=$(),Se=m("div"),Ke=m("label"),Ke.textContent="Text Shadow",xt=$(),De=m("div");for(let Y=0;Y<4;Y+=1)pe[Y].c();f(l,"class","font-semibold text-lg text-gray-900 mb-3"),f(o,"class","grid grid-cols-2 gap-2"),f(a,"class","font-semibold text-lg text-gray-900"),f(b,"class","text-sm text-gray-600"),f(g,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(p,"class","space-y-2"),f(L,"class","text-gray-900"),f(y,"class","text-sm text-gray-600 flex justify-between"),f(x,"type","range"),f(x,"min","20"),f(x,"max","80"),x.value=O=((Z=(P=t[4])==null?void 0:P.style)==null?void 0:Z.fontSize)||42,f(x,"class","w-full"),f(v,"class","space-y-2"),f(F,"class","text-sm text-gray-600"),f(T,"class","flex gap-2"),f(_,"class","space-y-2"),f(Qe,"class","text-sm text-gray-600"),f($e,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(he,"class","space-y-2"),f(Ke,"class","text-sm text-gray-600"),f(De,"class","flex gap-2"),f(Se,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(P,Z){var Y,Oe,He,Ue;I(P,e,Z),u(e,n),u(n,l),u(n,r),u(n,o);for(let V=0;V<le.length;V+=1)le[V]&&le[V].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p),u(p,b),u(p,d),u(p,g);for(let V=0;V<re.length;V+=1)re[V]&&re[V].m(g,null);Xe(g,((Oe=(Y=t[4])==null?void 0:Y.style)==null?void 0:Oe.fontFamily)||"Inter"),u(s,w),u(s,v),u(v,y),u(y,k),u(y,M),u(y,L),u(L,C),u(L,z),u(v,E),u(v,x),u(s,G),u(s,_),u(_,F),u(_,q),u(_,T);for(let V=0;V<oe.length;V+=1)oe[V]&&oe[V].m(T,null);u(s,A),u(s,he),u(he,Qe),u(he,vt),u(he,$e);for(let V=0;V<ie.length;V+=1)ie[V]&&ie[V].m($e,null);Xe($e,((Ue=(He=t[4])==null?void 0:He.style)==null?void 0:Ue.animation)||"pop"),u(s,kt),u(s,Se),u(Se,Ke),u(Se,xt),u(Se,De);for(let V=0;V<4;V+=1)pe[V]&&pe[V].m(De,null);ct||(Ft=[U(g,"change",t[17]),U(x,"input",t[18]),U($e,"change",t[20])],ct=!0)},p(P,Z){var Y,Oe,He,Ue,V,St,Mt,Et,Tt,Wt,Nt,Pt;if(Z&0){Me=R(Object.entries(mt));let S;for(S=0;S<Me.length;S+=1){const se=sn(P,Me,S);le[S]?le[S].p(se,Z):(le[S]=hn(se),le[S].c(),le[S].m(o,null))}for(;S<le.length;S+=1)le[S].d(1);le.length=Me.length}if(Z[0]&128){Ee=R(P[7]);let S;for(S=0;S<Ee.length;S+=1){const se=on(P,Ee,S);re[S]?re[S].p(se,Z):(re[S]=gn(se),re[S].c(),re[S].m(g,null))}for(;S<re.length;S+=1)re[S].d(1);re.length=Ee.length}if(Z[0]&144&&h!==(h=((Oe=(Y=P[4])==null?void 0:Y.style)==null?void 0:Oe.fontFamily)||"Inter")&&Xe(g,((Ue=(He=P[4])==null?void 0:He.style)==null?void 0:Ue.fontFamily)||"Inter"),Z[0]&16&&W!==(W=(((St=(V=P[4])==null?void 0:V.style)==null?void 0:St.fontSize)||42)+"")&&ue(C,W),Z[0]&144&&O!==(O=((Et=(Mt=P[4])==null?void 0:Mt.style)==null?void 0:Et.fontSize)||42)&&(x.value=O),Z[0]&272){Te=R(P[8]);let S;for(S=0;S<Te.length;S+=1){const se=rn(P,Te,S);oe[S]?oe[S].p(se,Z):(oe[S]=pn(se),oe[S].c(),oe[S].m(T,null))}for(;S<oe.length;S+=1)oe[S].d(1);oe.length=Te.length}if(Z[0]&512){We=R(P[9]);let S;for(S=0;S<We.length;S+=1){const se=ln(P,We,S);ie[S]?ie[S].p(se,Z):(ie[S]=mn(se),ie[S].c(),ie[S].m($e,null))}for(;S<ie.length;S+=1)ie[S].d(1);ie.length=We.length}if(Z[0]&144&&wt!==(wt=((Wt=(Tt=P[4])==null?void 0:Tt.style)==null?void 0:Wt.animation)||"pop")&&Xe($e,((Pt=(Nt=P[4])==null?void 0:Nt.style)==null?void 0:Pt.animation)||"pop"),Z[0]&16){ut=R(["none","light","medium","heavy"]);let S;for(S=0;S<4;S+=1){const se=nn(P,ut,S);pe[S]?pe[S].p(se,Z):(pe[S]=_n(se),pe[S].c(),pe[S].m(De,null))}for(;S<4;S+=1)pe[S].d(1)}},i:D,o:D,d(P){P&&B(e),te(le,P),te(re,P),te(oe,P),te(ie,P),te(pe,P),ct=!1,ge(Ft)}}}function mr(t){var L,W;let e,n,l,r,o,i,s,a,c,p,b,d,g,h,w,v,y,k,M=((W=(L=t[4])==null?void 0:L.style)==null?void 0:W.highlightWords)&&bn(t);return{c(){var C,z,E,x;e=m("div"),n=m("h3"),n.textContent="Caption Settings",l=$(),r=m("div"),o=m("label"),i=m("span"),i.textContent="Word-by-word highlighting",s=$(),a=m("input"),p=$(),b=m("label"),d=m("span"),d.textContent="Highlight active words",g=$(),h=m("input"),v=$(),M&&M.c(),f(n,"class","font-semibold text-lg text-gray-900"),f(i,"class","text-gray-700"),f(a,"type","checkbox"),a.checked=c=(z=(C=t[4])==null?void 0:C.style)==null?void 0:z.wordByWord,f(a,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(o,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(d,"class","text-gray-700"),f(h,"type","checkbox"),h.checked=w=(x=(E=t[4])==null?void 0:E.style)==null?void 0:x.highlightWords,f(h,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(b,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(r,"class","space-y-3"),f(e,"class","p-4 space-y-4")},m(C,z){I(C,e,z),u(e,n),u(e,l),u(e,r),u(r,o),u(o,i),u(o,s),u(o,a),u(r,p),u(r,b),u(b,d),u(b,g),u(b,h),u(r,v),M&&M.m(r,null),y||(k=[U(a,"change",t[13]),U(h,"change",t[14])],y=!0)},p(C,z){var E,x,O,G,_,F;z[0]&144&&c!==(c=(x=(E=C[4])==null?void 0:E.style)==null?void 0:x.wordByWord)&&(a.checked=c),z[0]&144&&w!==(w=(G=(O=C[4])==null?void 0:O.style)==null?void 0:G.highlightWords)&&(h.checked=w),(F=(_=C[4])==null?void 0:_.style)!=null&&F.highlightWords?M?M.p(C,z):(M=bn(C),M.c(),M.m(r,null)):M&&(M.d(1),M=null)},i:D,o:D,d(C){C&&B(e),M&&M.d(),y=!1,ge(k)}}}function _r(t){let e,n,l;return e=new Kn({props:{class:"w-5 h-5"}}),{c(){X(e.$$.fragment),n=H(`
          Generate Viral Content`)},m(r,o){Q(e,r,o),I(r,n,o),l=!0},i(r){l||(N(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){r&&B(n),K(e,r)}}}function br(t){let e,n,l;return e=new Qn({props:{class:"w-5 h-5 animate-spin"}}),{c(){X(e.$$.fragment),n=H(`
          Generating...`)},m(r,o){Q(e,r,o),I(r,n,o),l=!0},i(r){l||(N(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){r&&B(n),K(e,r)}}}function cn(t){let e,n,l,r,o,i,s,a,c,p,b=t[6].descriptions[0]+"",d,g,h,w,v,y,k=t[6].hashtags.join(" ")+"",M,L=R(t[6].hooks),W=[];for(let C=0;C<L.length;C+=1)W[C]=un(en(t,L,C));return{c(){e=m("div"),n=m("div"),l=m("h4"),l.textContent="Hook Ideas",r=$(),o=m("ul");for(let C=0;C<W.length;C+=1)W[C].c();i=$(),s=m("div"),a=m("h4"),a.textContent="Description",c=$(),p=m("p"),d=H(b),g=$(),h=m("div"),w=m("h4"),w.textContent="Hashtags",v=$(),y=m("p"),M=H(k),f(l,"class","font-medium text-sm text-gray-600 mb-2"),f(o,"class","space-y-2"),f(n,"class","p-3 bg-white rounded-lg border border-gray-200"),f(a,"class","font-medium text-sm text-gray-600 mb-2"),f(p,"class","text-sm text-gray-900"),f(s,"class","p-3 bg-white rounded-lg border border-gray-200"),f(w,"class","font-medium text-sm text-gray-600 mb-2"),f(y,"class","text-sm text-blue-600"),f(h,"class","p-3 bg-white rounded-lg border border-gray-200"),f(e,"class","space-y-4")},m(C,z){I(C,e,z),u(e,n),u(n,l),u(n,r),u(n,o);for(let E=0;E<W.length;E+=1)W[E]&&W[E].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p),u(p,d),u(e,g),u(e,h),u(h,w),u(h,v),u(h,y),u(y,M)},p(C,z){if(z[0]&64){L=R(C[6].hooks);let E;for(E=0;E<L.length;E+=1){const x=en(C,L,E);W[E]?W[E].p(x,z):(W[E]=un(x),W[E].c(),W[E].m(o,null))}for(;E<W.length;E+=1)W[E].d(1);W.length=L.length}z[0]&64&&b!==(b=C[6].descriptions[0]+"")&&ue(d,b),z[0]&64&&k!==(k=C[6].hashtags.join(" ")+"")&&ue(M,k)},d(C){C&&B(e),te(W,C)}}}function un(t){let e,n=t[47]+"",l;return{c(){e=m("li"),l=H(n),f(e,"class","text-sm p-2 bg-gray-50 rounded text-gray-900")},m(r,o){I(r,e,o),u(e,l)},p(r,o){o[0]&64&&n!==(n=r[47]+"")&&ue(l,n)},d(r){r&&B(e)}}}function yr(t){let e,n;return{c(){e=lt("svg"),n=lt("path"),f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(l,r){I(l,e,r),u(e,n)},i:D,o:D,d(l){l&&B(e)}}}function vr(t){let e,n;return e=new Qn({props:{class:"w-5 h-5 animate-spin"}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function fn(t){let e,n,l=R(t[2]),r=[];for(let i=0;i<l.length;i+=1)r[i]=dn(tn(t,l,i));const o=i=>j(r[i],1,1,()=>{r[i]=null});return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(i,s){I(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(i,s){if(s[0]&4100){l=R(i[2]);let a;for(a=0;a<l.length;a+=1){const c=tn(i,l,a);r[a]?(r[a].p(c,s),N(r[a],1)):(r[a]=dn(c),r[a].c(),N(r[a],1),r[a].m(e,null))}for(we(),a=l.length;a<r.length;a+=1)o(a);ke()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)N(r[s]);n=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)j(r[s]);n=!1},d(i){i&&B(e),te(r,i)}}}function dn(t){let e,n,l,r,o,i,s,a,c,p;i=new Dl({props:{class:"w-8 h-8 text-white"}});function b(){return t[24](t[44])}return{c(){e=m("button"),n=m("img"),r=$(),o=m("div"),X(i.$$.fragment),s=$(),nt(n.src,l=t[44].thumbnail)||f(n,"src",l),f(n,"alt",""),f(n,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(d,g){I(d,e,g),u(e,n),u(e,r),u(e,o),Q(i,o,null),u(e,s),a=!0,c||(p=U(e,"click",b),c=!0)},p(d,g){t=d,(!a||g[0]&4&&!nt(n.src,l=t[44].thumbnail))&&f(n,"src",l)},i(d){a||(N(i.$$.fragment,d),a=!0)},o(d){j(i.$$.fragment,d),a=!1},d(d){d&&B(e),K(i),c=!1,p()}}}function hn(t){let e,n,l,r,o,i,s;function a(){return t[16](t[40])}return{c(){e=m("button"),n=m("div"),n.textContent=`${t[40].replace("-"," ")}`,l=$(),r=m("div"),r.textContent=`${t[41].fontWeight} â€¢ ${t[41].animation}`,o=$(),f(n,"class","font-medium capitalize text-gray-900"),f(r,"class","text-xs text-gray-500 mt-1"),f(e,"class","p-3 bg-white rounded-lg border border-gray-200 text-left hover:border-gray-300 transition text-sm")},m(c,p){I(c,e,p),u(e,n),u(e,l),u(e,r),u(e,o),i||(s=U(e,"click",a),i=!0)},p(c,p){t=c},d(c){c&&B(e),i=!1,s()}}}function gn(t){let e,n=t[37]+"",l;return{c(){e=m("option"),l=H(n),e.__value=t[37],ot(e,e.__value)},m(r,o){I(r,e,o),u(e,l)},p:D,d(r){r&&B(e)}}}function pn(t){let e,n=t[34].label+"",l,r,o,i,s;function a(){return t[19](t[34])}return{c(){var c,p;e=m("button"),l=H(n),r=$(),f(e,"class",o="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(c=t[4])==null?void 0:c.style)==null?void 0:p.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){I(c,e,p),u(e,l),u(e,r),i||(s=U(e,"click",a),i=!0)},p(c,p){var b,d;t=c,p[0]&144&&o!==(o="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(b=t[4])==null?void 0:b.style)==null?void 0:d.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&B(e),i=!1,s()}}}function mn(t){let e,n=t[31].label+"",l;return{c(){e=m("option"),l=H(n),e.__value=t[31].id,ot(e,e.__value)},m(r,o){I(r,e,o),u(e,l)},p:D,d(r){r&&B(e)}}}function _n(t){let e,n,l,r,o,i;function s(){return t[21](t[28])}return{c(){var a,c;e=m("button"),n=H(t[28]),l=$(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){I(a,e,c),u(e,n),u(e,l),o||(i=U(e,"click",s),o=!0)},p(a,c){var p,b;t=a,c[0]&144&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((b=(p=t[4])==null?void 0:p.style)==null?void 0:b.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&B(e),o=!1,i()}}}function bn(t){let e,n,l,r,o=R(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),i=[];for(let s=0;s<5;s+=1)i[s]=yn(an(t,o,s));return{c(){e=m("div"),n=m("label"),n.textContent="Highlight Color",l=$(),r=m("div");for(let s=0;s<5;s+=1)i[s].c();f(n,"class","text-sm text-gray-600"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,a){I(s,e,a),u(e,n),u(e,l),u(e,r);for(let c=0;c<5;c+=1)i[c]&&i[c].m(r,null)},p(s,a){if(a[0]&16){o=R(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let c;for(c=0;c<5;c+=1){const p=an(s,o,c);i[c]?i[c].p(p,a):(i[c]=yn(p),i[c].c(),i[c].m(r,null))}for(;c<5;c+=1)i[c].d(1)}},d(s){s&&B(e),te(i,s)}}}function yn(t){let e,n,l,r;function o(){return t[15](t[25])}return{c(){var i,s;e=m("button"),f(e,"class",n="w-8 h-8 rounded-lg border-2 transition "+((((s=(i=t[4])==null?void 0:i.style)==null?void 0:s.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300")),xe(e,"background-color",t[25])},m(i,s){I(i,e,s),l||(r=U(e,"click",o),l=!0)},p(i,s){var a,c;t=i,s[0]&144&&n!==(n="w-8 h-8 rounded-lg border-2 transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300"))&&f(e,"class",n)},d(i){i&&B(e),l=!1,r()}}}function wr(t){let e,n,l,r;const o=[mr,pr,gr,hr],i=[];function s(a,c){return a[5]==="captions"?0:a[5]==="style"?1:a[5]==="broll"?2:a[5]==="ai-tools"?3:-1}return~(n=s(t))&&(l=i[n]=o[n](t)),{c(){e=m("div"),l&&l.c(),f(e,"class","h-full flex flex-col bg-gray-50")},m(a,c){I(a,e,c),~n&&i[n].m(e,null),r=!0},p(a,c){let p=n;n=s(a),n===p?~n&&i[n].p(a,c):(l&&(we(),j(i[p],1,1,()=>{i[p]=null}),ke()),~n?(l=i[n],l?l.p(a,c):(l=i[n]=o[n](a),l.c()),N(l,1),l.m(e,null)):l=null)},i(a){r||(N(l),r=!0)},o(a){j(l),r=!1},d(a){a&&B(e),~n&&i[n].d()}}}function kr(t,e,n){let l,r,o;ae(t,ee,_=>n(4,l=_)),ae(t,_t,_=>n(5,r=_)),ae(t,At,_=>n(6,o=_));let i=!1,s="",a=[],c=!1;const p=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],b=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],d=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function g(){if(l){n(0,i=!0);try{const _=l.captions.map(q=>q.text).join(" "),F=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:_})});if(F.ok){const q=await F.json();At.set(q)}}catch(_){console.error("AI generation failed:",_)}finally{n(0,i=!1)}}}async function h(){if(s){n(3,c=!0);try{const _=await fetch(`/api/broll/search?q=${encodeURIComponent(s)}`);if(_.ok){const F=await _.json();n(2,a=F.results||[])}}catch(_){console.error("B-Roll search failed:",_)}finally{n(3,c=!1)}}}function w(_){l&&ee.addBRoll({id:crypto.randomUUID(),url:_.video_url,thumbnail:_.thumbnail,start:l.videoDuration*.3,duration:5,source:_.source})}const v=_=>ee.updateStyle({wordByWord:_.target.checked}),y=_=>ee.updateStyle({highlightWords:_.target.checked}),k=_=>ee.updateStyle({highlightColor:_}),M=_=>ee.applyPreset(_),L=_=>ee.updateStyle({fontFamily:_.target.value}),W=_=>ee.updateStyle({fontSize:parseInt(_.target.value)}),C=_=>ee.updateStyle({position:_.id}),z=_=>ee.updateStyle({animation:_.target.value}),E=_=>ee.updateStyle({textShadow:_});function x(){s=this.value,n(1,s)}return[i,s,a,c,l,r,o,p,b,d,g,h,w,v,y,k,M,L,W,C,z,E,x,_=>_.key==="Enter"&&h(),_=>w(_)]}class xr extends de{constructor(e){super(),fe(this,e,kr,wr,ne,{},null,[-1,-1])}}function vn(t,e,n){const l=t.slice();return l[13]=e[n],l}function wn(t,e,n){const l=t.slice();return l[16]=e[n],l}function kn(t,e,n){const l=t.slice();return l[19]=e[n],l[21]=n,l}function xn(t){let e;return{c(){e=m("div"),f(e,"class","absolute left-0 right-0 border-t border-gray-200"),xe(e,"top",t[21]*10/t[2]*100+"%")},m(n,l){I(n,e,l)},p(n,l){l&4&&xe(e,"top",n[21]*10/n[2]*100+"%")},d(n){n&&B(e)}}}function Fn(t){let e,n,l=t[16].text.slice(0,20)+"",r,o=t[16].text.length>20?"...":"",i,s,a,c,p,b,d;function g(){return t[11](t[16])}return{c(){e=m("button"),n=m("span"),r=H(l),i=H(o),s=$(),f(n,"class","truncate w-full text-center leading-tight"),xe(n,"font-size","8px"),f(e,"class",a="absolute left-0 right-0 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex flex-col items-center justify-center px-1 overflow-hidden text-xs text-blue-900 "+(t[5].selectedCaptionId===t[16].id?"ring-2 ring-blue-500":"")),f(e,"style",c=t[8](t[16])),f(e,"title",p=t[16].text)},m(h,w){I(h,e,w),u(e,n),u(n,r),u(n,i),u(e,s),b||(d=U(e,"click",Un(g)),b=!0)},p(h,w){t=h,w&16&&l!==(l=t[16].text.slice(0,20)+"")&&ue(r,l),w&16&&o!==(o=t[16].text.length>20?"...":"")&&ue(i,o),w&48&&a!==(a="absolute left-0 right-0 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex flex-col items-center justify-center px-1 overflow-hidden text-xs text-blue-900 "+(t[5].selectedCaptionId===t[16].id?"ring-2 ring-blue-500":""))&&f(e,"class",a),w&16&&c!==(c=t[8](t[16]))&&f(e,"style",c),w&16&&p!==(p=t[16].text)&&f(e,"title",p)},d(h){h&&B(e),b=!1,d()}}}function $n(t){let e,n,l=R(t[0].bRollClips),r=[];for(let i=0;i<l.length;i+=1)r[i]=Cn(vn(t,l,i));const o=i=>j(r[i],1,1,()=>{r[i]=null});return{c(){e=m("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(i,s){I(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);n=!0},p(i,s){if(s&5){l=R(i[0].bRollClips);let a;for(a=0;a<l.length;a+=1){const c=vn(i,l,a);r[a]?(r[a].p(c,s),N(r[a],1)):(r[a]=Cn(c),r[a].c(),N(r[a],1),r[a].m(e,null))}for(we(),a=l.length;a<r.length;a+=1)o(a);ke()}},i(i){if(!n){for(let s=0;s<l.length;s+=1)N(r[s]);n=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)j(r[s]);n=!1},d(i){i&&B(e),te(r,i)}}}function Cn(t){let e,n,l,r;return n=new Jn({props:{class:"w-3 h-3 text-purple-700"}}),{c(){e=m("div"),X(n.$$.fragment),l=$(),f(e,"class","absolute left-0 right-0 rounded bg-purple-100 border-2 border-purple-300 flex items-center justify-center overflow-hidden"),xe(e,"top",t[13].start/t[2]*100+"%"),xe(e,"height",t[13].duration/t[2]*100+"%")},m(o,i){I(o,e,i),Q(n,e,null),u(e,l),r=!0},p(o,i){(!r||i&5)&&xe(e,"top",o[13].start/o[2]*100+"%"),(!r||i&5)&&xe(e,"height",o[13].duration/o[2]*100+"%")},i(o){r||(N(n.$$.fragment,o),r=!0)},o(o){j(n.$$.fragment,o),r=!1},d(o){o&&B(e),K(n)}}}function Fr(t){var O,G;let e,n,l,r,o,i,s,a,c,p,b,d,g,h,w,v=Jt(t[3])+"",y,k,M,L,W=R(Array(Math.max(1,Math.ceil(t[2]/10)))),C=[];for(let _=0;_<W.length;_+=1)C[_]=xn(kn(t,W,_));let z=R(t[4]),E=[];for(let _=0;_<z.length;_+=1)E[_]=Fn(wn(t,z,_));let x=((G=(O=t[0])==null?void 0:O.bRollClips)==null?void 0:G.length)>0&&$n(t);return{c(){e=m("div"),n=m("div"),n.innerHTML='<span class="text-xs font-medium text-gray-600 transform -rotate-90 whitespace-nowrap">Timeline</span>',l=$(),r=m("div"),o=m("button"),i=m("div");for(let _=0;_<C.length;_+=1)C[_].c();s=$(),a=m("div");for(let _=0;_<E.length;_+=1)E[_].c();c=$(),x&&x.c(),p=$(),b=m("div"),d=m("div"),g=$(),h=m("div"),w=m("span"),y=H(v),f(n,"class","h-10 border-b border-gray-200 flex items-center justify-center px-2 bg-gray-50"),f(i,"class","absolute inset-0 pointer-events-none"),f(a,"class","absolute top-0 bottom-0 left-2 right-2"),f(d,"class","absolute -left-1.5 -top-1 w-3 h-3 bg-red-500 rounded-full"),f(b,"class","absolute left-0 right-0 h-0.5 bg-red-500 z-10 pointer-events-none transition-all duration-75 ease-linear"),f(b,"style",t[9]()),f(o,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(o,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(w,"class","text-xs font-mono text-gray-600 transform -rotate-90 whitespace-nowrap"),f(h,"class","h-10 border-t border-gray-200 flex items-center justify-center bg-gray-50"),f(e,"class","h-full flex flex-col bg-white")},m(_,F){I(_,e,F),u(e,n),u(e,l),u(e,r),u(r,o),u(o,i);for(let q=0;q<C.length;q+=1)C[q]&&C[q].m(i,null);u(o,s),u(o,a);for(let q=0;q<E.length;q+=1)E[q]&&E[q].m(a,null);u(o,c),x&&x.m(o,null),u(o,p),u(o,b),u(b,d),t[12](o),u(e,g),u(e,h),u(h,w),u(w,y),k=!0,M||(L=U(o,"click",t[6]),M=!0)},p(_,[F]){var q,T;if(F&4){W=R(Array(Math.max(1,Math.ceil(_[2]/10))));let A;for(A=0;A<W.length;A+=1){const he=kn(_,W,A);C[A]?C[A].p(he,F):(C[A]=xn(he),C[A].c(),C[A].m(i,null))}for(;A<C.length;A+=1)C[A].d(1);C.length=W.length}if(F&432){z=R(_[4]);let A;for(A=0;A<z.length;A+=1){const he=wn(_,z,A);E[A]?E[A].p(he,F):(E[A]=Fn(he),E[A].c(),E[A].m(a,null))}for(;A<E.length;A+=1)E[A].d(1);E.length=z.length}((T=(q=_[0])==null?void 0:q.bRollClips)==null?void 0:T.length)>0?x?(x.p(_,F),F&1&&N(x,1)):(x=$n(_),x.c(),N(x,1),x.m(o,p)):x&&(we(),j(x,1,1,()=>{x=null}),ke()),(!k||F&8)&&v!==(v=Jt(_[3])+"")&&ue(y,v)},i(_){k||(N(x),k=!0)},o(_){j(x),k=!1},d(_){_&&B(e),te(C,_),te(E,_),x&&x.d(),t[12](null),M=!1,L()}}}function $r(t,e,n){let l,r,o,i,s,a;ae(t,me,v=>n(10,i=v)),ae(t,ee,v=>n(0,s=v)),ae(t,Je,v=>n(5,a=v));let c;function p(v){if(!c||l<=0)return;const y=c.getBoundingClientRect(),k=v.clientY-y.top,L=Math.max(0,Math.min(1,k/y.height))*l;me.setCurrentTime(L),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:L}}))}function b(v){Je.update(y=>({...y,selectedCaptionId:v.id})),me.setCurrentTime(v.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:v.start}}))}function d(v){const y=v.start/l*100,k=(v.end-v.start)/l*100;return`top: ${y}%; height: ${Math.max(1,k)}%;`}function g(){if(!l||l<=0)return"top: 0%;";const v=o/l*100;return`top: ${Math.max(0,Math.min(100,v))}%;`}const h=v=>b(v);function w(v){Ye[v?"unshift":"push"](()=>{c=v,n(1,c)})}return t.$$.update=()=>{t.$$.dirty&1&&n(2,l=(s==null?void 0:s.videoDuration)||1),t.$$.dirty&1&&n(4,r=(s==null?void 0:s.captions)||[]),t.$$.dirty&1024&&n(3,o=i.currentTime)},[s,c,l,o,r,a,p,b,d,g,i,h,w]}class Cr extends de{constructor(e){super(),fe(this,e,$r,Fr,ne,{})}}function Sr(t){const e=t-1;return e*e*e+1}function Sn(t,{delay:e=0,duration:n=400,easing:l=Ln}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*r}`}}function Mn(t,{delay:e=0,duration:n=400,easing:l=Sr,start:r=0,opacity:o=0}={}){const i=getComputedStyle(t),s=+i.opacity,a=i.transform==="none"?"":i.transform,c=1-r,p=s*(1-o);return{delay:e,duration:n,easing:l,css:(b,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${s-p*d}
		`}}function En(t,e,n){const l=t.slice();return l[14]=e[n],l}function Tn(t,e,n){const l=t.slice();return l[17]=e[n],l}function Wn(t,e,n){const l=t.slice();return l[20]=e[n],l}function Nn(t){let e,n,l,r,o,i,s,a,c;function p(g,h){return g[1]?Er:Mr}let b=p(t),d=b(t);return{c(){e=m("div"),n=m("div"),l=m("h2"),l.textContent="Export Video",r=$(),d.c(),f(l,"class","text-xl font-semibold text-gray-900 mb-4"),f(n,"class","bg-white rounded-2xl w-full max-w-md p-6 border border-gray-200"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(g,h){I(g,e,h),u(e,n),u(n,l),u(n,r),d.m(n,null),s=!0,a||(c=[U(n,"click",Un(t[8])),U(e,"click",t[6]),U(e,"keydown",t[12])],a=!0)},p(g,h){b===(b=p(g))&&d?d.p(g,h):(d.d(1),d=b(g),d&&(d.c(),d.m(n,null)))},i(g){s||(g&&Le(()=>{s&&(o||(o=et(n,Mn,{duration:200,start:.95},!0)),o.run(1))}),g&&Le(()=>{s&&(i||(i=et(e,Sn,{duration:200},!0)),i.run(1))}),s=!0)},o(g){g&&(o||(o=et(n,Mn,{duration:200,start:.95},!1)),o.run(0)),g&&(i||(i=et(e,Sn,{duration:200},!1)),i.run(0)),s=!1},d(g){g&&B(e),d.d(),g&&o&&o.end(),g&&i&&i.end(),a=!1,ge(c)}}}function Mr(t){let e,n,l,r,o,i,s,a,c,p,b,d,g,h,w,v,y,k,M,L,W,C,z=R(["1080x1920","1920x1080","1080x1080"]),E=[];for(let F=0;F<3;F+=1)E[F]=Pn(Wn(t,z,F));let x=R([24,30,60]),O=[];for(let F=0;F<3;F+=1)O[F]=jn(Tn(t,x,F));let G=R(["standard","high","ultra"]),_=[];for(let F=0;F<3;F+=1)_[F]=Bn(En(t,G,F));return{c(){e=m("div"),n=m("div"),l=m("label"),l.textContent="Resolution",r=$(),o=m("div");for(let F=0;F<3;F+=1)E[F].c();i=$(),s=m("div"),a=m("label"),a.textContent="Frame Rate",c=$(),p=m("div");for(let F=0;F<3;F+=1)O[F].c();b=$(),d=m("div"),g=m("label"),g.textContent="Quality",h=$(),w=m("div");for(let F=0;F<3;F+=1)_[F].c();v=$(),y=m("div"),k=m("button"),k.textContent="Cancel",M=$(),L=m("button"),L.textContent="Export",f(l,"class","text-sm text-gray-600 mb-2 block"),f(o,"class","grid grid-cols-3 gap-2"),f(a,"class","text-sm text-gray-600 mb-2 block"),f(p,"class","flex gap-2"),f(g,"class","text-sm text-gray-600 mb-2 block"),f(w,"class","flex gap-2"),f(k,"class","flex-1 p-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition"),f(L,"class","flex-1 p-3 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition"),f(y,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(F,q){I(F,e,q),u(e,n),u(n,l),u(n,r),u(n,o);for(let T=0;T<3;T+=1)E[T]&&E[T].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p);for(let T=0;T<3;T+=1)O[T]&&O[T].m(p,null);u(e,b),u(e,d),u(d,g),u(d,h),u(d,w);for(let T=0;T<3;T+=1)_[T]&&_[T].m(w,null);u(e,v),u(e,y),u(y,k),u(y,M),u(y,L),W||(C=[U(k,"click",t[6]),U(L,"click",t[5])],W=!0)},p(F,q){if(q&1){z=R(["1080x1920","1920x1080","1080x1080"]);let T;for(T=0;T<3;T+=1){const A=Wn(F,z,T);E[T]?E[T].p(A,q):(E[T]=Pn(A),E[T].c(),E[T].m(o,null))}for(;T<3;T+=1)E[T].d(1)}if(q&1){x=R([24,30,60]);let T;for(T=0;T<3;T+=1){const A=Tn(F,x,T);O[T]?O[T].p(A,q):(O[T]=jn(A),O[T].c(),O[T].m(p,null))}for(;T<3;T+=1)O[T].d(1)}if(q&1){G=R(["standard","high","ultra"]);let T;for(T=0;T<3;T+=1){const A=En(F,G,T);_[T]?_[T].p(A,q):(_[T]=Bn(A),_[T].c(),_[T].m(w,null))}for(;T<3;T+=1)_[T].d(1)}},d(F){F&&B(e),te(E,F),te(O,F),te(_,F),W=!1,ge(C)}}}function Er(t){let e,n,l,r,o,i,s,a,c,p,b,d,g;return{c(){e=m("div"),n=m("div"),l=m("div"),l.innerHTML='<svg class="w-8 h-8 text-blue-600 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=$(),o=m("p"),i=H(t[3]),s=$(),a=m("p"),c=H(t[2]),p=H("% complete"),b=$(),d=m("div"),g=m("div"),f(l,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4"),f(o,"class","text-lg font-medium text-gray-900"),f(a,"class","text-sm text-gray-500 mt-1"),f(n,"class","text-center"),f(g,"class","h-full bg-blue-600 transition-all duration-300"),xe(g,"width",t[2]+"%"),f(d,"class","h-2 bg-gray-200 rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(h,w){I(h,e,w),u(e,n),u(n,l),u(n,r),u(n,o),u(o,i),u(n,s),u(n,a),u(a,c),u(a,p),u(e,b),u(e,d),u(d,g)},p(h,w){w&8&&ue(i,h[3]),w&4&&ue(c,h[2]),w&4&&xe(g,"width",h[2]+"%")},d(h){h&&B(e)}}}function Pn(t){let e,n=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",l,r,o,i,s;function a(){return t[9](t[20])}return{c(){e=m("button"),l=H(n),r=$(),f(e,"class",o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){I(c,e,p),u(e,l),u(e,r),i||(s=U(e,"click",a),i=!0)},p(c,p){t=c,p&1&&o!==(o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&B(e),i=!1,s()}}}function jn(t){let e,n,l,r,o,i;function s(){return t[10](t[17])}return{c(){e=m("button"),n=H(t[17]),l=H(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){I(a,e,c),u(e,n),u(e,l),o||(i=U(e,"click",s),o=!0)},p(a,c){t=a,c&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&B(e),o=!1,i()}}}function Bn(t){let e,n=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",l,r,o,i,s;function a(){return t[11](t[14])}return{c(){e=m("button"),l=H(n),r=$(),f(e,"class",o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){I(c,e,p),u(e,l),u(e,r),i||(s=U(e,"click",a),i=!0)},p(c,p){t=c,p&1&&o!==(o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&B(e),i=!1,s()}}}function Tr(t){let e,n=t[4]&&Nn(t);return{c(){n&&n.c(),e=yt()},m(l,r){n&&n.m(l,r),I(l,e,r)},p(l,[r]){l[4]?n?(n.p(l,r),r&16&&N(n,1)):(n=Nn(l),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(we(),j(n,1,1,()=>{n=null}),ke())},i(l){N(n)},o(l){j(n)},d(l){l&&B(e),n&&n.d(l)}}}function Wr(t,e,n){let l,r,o;ae(t,ee,y=>n(13,r=y)),ae(t,Je,y=>n(7,o=y));let i={resolution:"1080x1920",fps:30,quality:"high"},s=!1,a=0,c="";async function p(){if(r){n(1,s=!0),n(3,c="Preparing..."),n(2,a=0);try{const y=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:i,style:r.style,captions:r.captions})});if(!y.ok)throw new Error("Export failed");const k=await y.json(),M=setInterval(async()=>{const W=await(await fetch(`/api/export/status/${k.export_id}`)).json();n(2,a=W.progress||0),n(3,c=W.message||"Processing..."),W.status==="completed"?(clearInterval(M),n(1,s=!1),window.open(W.download_url,"_blank"),b()):W.status==="failed"&&(clearInterval(M),n(1,s=!1),n(3,c="Export failed"))},2e3)}catch(y){n(1,s=!1),n(3,c="Export failed"),console.error("Export error:",y)}}}function b(){s||Je.update(y=>({...y,isExporting:!1}))}function d(y){dl.call(this,t,y)}const g=y=>n(0,i.resolution=y,i),h=y=>n(0,i.fps=y,i),w=y=>n(0,i.quality=y,i),v=y=>y.key==="Escape"&&b();return t.$$.update=()=>{t.$$.dirty&128&&n(4,l=o.isExporting)},[i,s,a,c,l,p,b,o,d,g,h,w,v]}class Nr extends de{constructor(e){super(),fe(this,e,Wr,Tr,ne,{})}}function Pr(t){let e,n;return e=new or({props:{$$slots:{timeline:[Rr],panel:[Ar],preview:[zr],sidebar:[Lr]},$$scope:{ctx:t}}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},p(l,r){const o={};r&32&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function jr(t){let e;return{c(){e=m("div"),e.innerHTML='<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <p class="text-xl mb-2">No video selected</p> <p class="text-sm">Go to dashboard to select a video to edit</p> <a href="/" class="mt-4 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition">Go to Dashboard</a>',f(e,"class","flex flex-col items-center justify-center h-full text-gray-400 ml-16")},m(n,l){I(n,e,l)},p:D,i:D,o:D,d(n){n&&B(e)}}}function Br(t){let e,n;return{c(){e=m("div"),n=H(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(l,r){I(l,e,r),u(e,n)},p(l,r){r&2&&ue(n,l[1])},i:D,o:D,d(l){l&&B(e)}}}function Ir(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(n,l){I(n,e,l)},p:D,i:D,o:D,d(n){n&&B(e)}}}function Lr(t){let e,n;return e=new Zl({props:{slot:"sidebar"}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},p:D,i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function zr(t){let e,n;return e=new dr({props:{slot:"preview"}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},p:D,i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Ar(t){let e,n;return e=new xr({props:{slot:"panel"}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},p:D,i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Rr(t){let e,n;return e=new Cr({props:{slot:"timeline"}}),{c(){X(e.$$.fragment)},m(l,r){Q(e,l,r),n=!0},p:D,i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){K(e,l)}}}function Dr(t){let e,n,l,r,o,i;const s=[Ir,Br,jr,Pr],a=[];function c(p,b){return p[0]?0:p[1]?1:p[2]?3:2}return n=c(t),l=a[n]=s[n](t),o=new Nr({}),{c(){e=m("main"),l.c(),r=$(),X(o.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-white text-gray-900 font-sans")},m(p,b){I(p,e,b),a[n].m(e,null),I(p,r,b),Q(o,p,b),i=!0},p(p,[b]){let d=n;n=c(p),n===d?a[n].p(p,b):(we(),j(a[d],1,1,()=>{a[d]=null}),ke(),l=a[n],l?l.p(p,b):(l=a[n]=s[n](p),l.c()),N(l,1),l.m(e,null))},i(p){i||(N(l),N(o.$$.fragment,p),i=!0)},o(p){j(l),j(o.$$.fragment,p),i=!1},d(p){p&&(B(e),B(r)),a[n].d(),K(o,p)}}}function Or(t){if(!t)return[];const e=[];return t.trim().split(/\n\s*\n/).forEach((l,r)=>{const o=l.trim().split(`
`);if(o.length<3)return;const s=o[1].match(/(\d{2}:\d{2}:\d{2},\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2},\d{3})/);if(s){const a=In(s[1]),c=In(s[2]),p=o.slice(2).join(" ").trim(),b=p.split(" ").map((d,g)=>{const h=(c-a)/p.split(" ").length;return{text:d,start:a+g*h,end:a+(g+1)*h,confidence:.95}});e.push({id:`caption_${r}`,text:p,start:a,end:c,words:b})}}),e}function In(t){const e=t.match(/(\d{2}):(\d{2}):(\d{2}),(\d{3})/);if(!e)return 0;const n=parseInt(e[1]),l=parseInt(e[2]),r=parseInt(e[3]),o=parseInt(e[4]);return n*3600+l*60+r+o/1e3}function Hr(t,e,n){let l;ae(t,ee,a=>n(2,l=a));let r=null,o=!0,i=null;qn(async()=>{const a=window.location.pathname.split("/"),c=a.indexOf("edit");c>-1&&a.length>c+1?(r=a[c+1],await s(r)):n(0,o=!1)});async function s(a){try{n(0,o=!0);const c=await fetch(`/api/editor_data/${a}`);if(!c.ok)throw new Error("Failed to load project");const p=await c.json(),b=Or(p.srt_content),d=b.length>0?b[b.length-1].end:0;ee.set({id:p.job_id,name:p.original_filename||"Untitled",videoUrl:p.video_url,videoDuration:d,captions:b,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:p.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date}),d&&me.update(g=>({...g,duration:d}))}catch(c){n(1,i=c instanceof Error?c.message:"Failed to load project")}finally{n(0,o=!1)}}return[o,i,l]}class Ur extends de{constructor(e){super(),fe(this,e,Hr,Dr,ne,{})}}new Ur({target:document.getElementById("app")});
