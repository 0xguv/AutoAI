var kn=Object.defineProperty;var vn=(l,e,t)=>e in l?kn(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var kt=(l,e,t)=>vn(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function J(){}const fn=l=>l;function re(l,e){for(const t in e)l[t]=e[t];return l}function dn(l){return l()}function Ot(){return Object.create(null)}function we(l){l.forEach(dn)}function Ft(l){return typeof l=="function"}function be(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let at;function je(l,e){return l===e?!0:(at||(at=document.createElement("a")),at.href=e,l===at.href)}function yn(l){return Object.keys(l).length===0}function wn(l,...e){if(l==null){for(const n of e)n(void 0);return J}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Re(l,e,t){l.$$.on_destroy.push(wn(e,t))}function Ee(l,e,t,n){if(l){const r=hn(l,e,t,n);return l[0](r)}}function hn(l,e,t,n){return l[1]&&n?re(t.ctx.slice(),l[1](n(e))):t.ctx}function Me(l,e,t,n){if(l[2]&&n){const r=l[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|r[s];return i}return e.dirty|r}return e.dirty}function Be(l,e,t,n,r,i){if(r){const o=hn(e,t,n,i);l.p(o,r)}}function Te(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ke(l){const e={};for(const t in l)t[0]!=="$"&&(e[t]=l[t]);return e}function Ht(l,e){const t={};e=new Set(e);for(const n in l)!e.has(n)&&n[0]!=="$"&&(t[n]=l[n]);return t}const pn=typeof window<"u";let $n=pn?()=>window.performance.now():()=>Date.now(),St=pn?l=>requestAnimationFrame(l):J;const Ye=new Set;function gn(l){Ye.forEach(e=>{e.c(l)||(Ye.delete(e),e.f())}),Ye.size!==0&&St(gn)}function xn(l){let e;return Ye.size===0&&St(gn),{promise:new Promise(t=>{Ye.add(e={c:l,f:t})}),abort(){Ye.delete(e)}}}function u(l,e){l.appendChild(e)}function mn(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function Cn(l){const e=_("style");return e.textContent="/* empty */",Fn(mn(l),e),e.sheet}function Fn(l,e){return u(l.head||l,e),e.sheet}function L(l,e,t){l.insertBefore(e,t||null)}function D(l){l.parentNode&&l.parentNode.removeChild(l)}function ce(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function _(l){return document.createElement(l)}function Oe(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function V(l){return document.createTextNode(l)}function C(){return V(" ")}function Et(){return V("")}function G(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function Mt(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function f(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function dt(l,e){for(const t in e)f(l,t,e[t])}function Sn(l){return Array.from(l.childNodes)}function ue(l,e){e=""+e,l.data!==e&&(l.data=e)}function Ze(l,e){l.value=e??""}function se(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,"")}function ct(l,e,t){for(let n=0;n<l.options.length;n+=1){const r=l.options[n];if(r.__value===e){r.selected=!0;return}}l.selectedIndex=-1}function En(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}function Ut(l,e){return new l(e)}const ht=new Map;let pt=0;function Mn(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function Bn(l,e){const t={stylesheet:Cn(e),rules:{}};return ht.set(l,t),t}function Vt(l,e,t,n,r,i,o,s=0){const c=16.666/n;let a=`{
`;for(let w=0;w<=1;w+=c){const b=e+(t-e)*i(w);a+=w*100+`%{${o(b,1-b)}}
`}const d=a+`100% {${o(t,1-t)}}
}`,p=`__svelte_${Mn(d)}_${s}`,g=mn(l),{stylesheet:m,rules:h}=ht.get(g)||Bn(g,l);h[p]||(h[p]=!0,m.insertRule(`@keyframes ${p} ${d}`,m.cssRules.length));const k=l.style.animation||"";return l.style.animation=`${k?`${k}, `:""}${p} ${n}ms linear ${r}ms 1 both`,pt+=1,p}function Tn(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=t.length-n.length;r&&(l.style.animation=n.join(", "),pt-=r,pt||Rn())}function Rn(){St(()=>{pt||(ht.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&D(e)}),ht.clear())})}let it;function rt(l){it=l}function zn(){if(!it)throw new Error("Function called outside component initialization");return it}function Bt(l){zn().$$.on_mount.push(l)}function Wn(l,e){const t=l.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Ge=[],gt=[];let Ke=[];const qt=[],Nn=Promise.resolve();let $t=!1;function Dn(){$t||($t=!0,Nn.then(_n))}function Je(l){Ke.push(l)}const vt=new Set;let Ve=0;function _n(){if(Ve!==0)return;const l=it;do{try{for(;Ve<Ge.length;){const e=Ge[Ve];Ve++,rt(e),An(e.$$)}}catch(e){throw Ge.length=0,Ve=0,e}for(rt(null),Ge.length=0,Ve=0;gt.length;)gt.pop()();for(let e=0;e<Ke.length;e+=1){const t=Ke[e];vt.has(t)||(vt.add(t),t())}Ke.length=0}while(Ge.length);for(;qt.length;)qt.pop()();$t=!1,vt.clear(),rt(l)}function An(l){if(l.fragment!==null){l.update(),we(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Je)}}function Ln(l){const e=[],t=[];Ke.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ke=e}let nt;function Pn(){return nt||(nt=Promise.resolve(),nt.then(()=>{nt=null})),nt}function yt(l,e,t){l.dispatchEvent(En(`${e?"intro":"outro"}${t}`))}const ft=new Set;let Pe;function me(){Pe={r:0,c:[],p:Pe}}function _e(){Pe.r||we(Pe.c),Pe=Pe.p}function T(l,e){l&&l.i&&(ft.delete(l),l.i(e))}function N(l,e,t,n){if(l&&l.o){if(ft.has(l))return;ft.add(l),Pe.c.push(()=>{ft.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const In={duration:0};function ut(l,e,t,n){let i=e(l,t,{direction:"both"}),o=n?0:1,s=null,c=null,a=null,d;function p(){a&&Tn(l,a)}function g(h,k){const w=h.b-o;return k*=Math.abs(w),{a:o,b:h.b,d:w,duration:k,start:h.start,end:h.start+k,group:h.group}}function m(h){const{delay:k=0,duration:w=300,easing:b=fn,tick:$=J,css:P}=i||In,j={start:$n()+k,b:h};h||(j.group=Pe,Pe.r+=1),"inert"in l&&(h?d!==void 0&&(l.inert=d):(d=l.inert,l.inert=!0)),s||c?c=j:(P&&(p(),a=Vt(l,o,h,w,k,b,P)),h&&$(0,1),s=g(j,w),Je(()=>yt(l,h,"start")),xn(R=>{if(c&&R>c.start&&(s=g(c,w),c=null,yt(l,s.b,"start"),P&&(p(),a=Vt(l,o,s.b,s.duration,0,b,i.css))),s){if(R>=s.end)$(o=s.b,1-o),yt(l,s.b,"end"),c||(s.b?p():--s.group.r||we(s.group.c)),s=null;else if(R>=s.start){const M=R-s.start;o=s.a+s.d*b(M/s.duration),$(o,1-o)}}return!!(s||c)}))}return{run(h){Ft(i)?Pn().then(()=>{i=i({direction:h?"in":"out"}),m(h)}):m(h)},end(){p(),s=c=null}}}function q(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function bn(l,e){l.d(1),e.delete(l.key)}function jn(l,e){N(l,1,1,()=>{e.delete(l.key)})}function Tt(l,e,t,n,r,i,o,s,c,a,d,p){let g=l.length,m=i.length,h=g;const k={};for(;h--;)k[l[h].key]=h;const w=[],b=new Map,$=new Map,P=[];for(h=m;h--;){const S=p(r,i,h),x=t(S);let I=o.get(x);I?P.push(()=>I.p(S,e)):(I=a(x,S),I.c()),b.set(x,w[h]=I),x in k&&$.set(x,Math.abs(h-k[x]))}const j=new Set,R=new Set;function M(S){T(S,1),S.m(s,d),o.set(S.key,S),d=S.first,m--}for(;g&&m;){const S=w[m-1],x=l[g-1],I=S.key,E=x.key;S===x?(d=S.first,g--,m--):b.has(E)?!o.has(I)||j.has(I)?M(S):R.has(E)?g--:$.get(I)>$.get(E)?(R.add(I),M(S)):(j.add(E),g--):(c(x,o),g--)}for(;g--;){const S=l[g];b.has(S.key)||c(S,o)}for(;m;)M(w[m-1]);return we(P),w}function Ie(l,e){const t={},n={},r={$$scope:1};let i=l.length;for(;i--;){const o=l[i],s=e[i];if(s){for(const c in o)c in s||(n[c]=1);for(const c in s)r[c]||(t[c]=s[c],r[c]=1);l[i]=s}else for(const c in o)r[c]=1}for(const o in n)o in t||(t[o]=void 0);return t}function He(l){return typeof l=="object"&&l!==null?l:{}}function le(l){l&&l.c()}function X(l,e,t){const{fragment:n,after_update:r}=l.$$;n&&n.m(e,t),Je(()=>{const i=l.$$.on_mount.map(dn).filter(Ft);l.$$.on_destroy?l.$$.on_destroy.push(...i):we(i),l.$$.on_mount=[]}),r.forEach(Je)}function ee(l,e){const t=l.$$;t.fragment!==null&&(Ln(t.after_update),we(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function On(l,e){l.$$.dirty[0]===-1&&(Ge.push(l),Dn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function $e(l,e,t,n,r,i,o=null,s=[-1]){const c=it;rt(l);const a=l.$$={fragment:null,ctx:[],props:i,update:J,not_equal:r,bound:Ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Ot(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let d=!1;if(a.ctx=t?t(l,e.props||{},(p,g,...m)=>{const h=m.length?m[0]:g;return a.ctx&&r(a.ctx[p],a.ctx[p]=h)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](h),d&&On(l,p)),g}):[],a.update(),d=!0,we(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const p=Sn(e.target);a.fragment&&a.fragment.l(p),p.forEach(D)}else a.fragment&&a.fragment.c();e.intro&&T(l.$$.fragment),X(l,e.target,e.anchor),_n()}rt(c)}class xe{constructor(){kt(this,"$$");kt(this,"$$set")}$destroy(){ee(this,1),this.$destroy=J}$on(e,t){if(!Ft(t))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!yn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hn);const qe=[];function st(l,e=J){let t;const n=new Set;function r(s){if(be(l,s)&&(l=s,t)){const c=!qe.length;for(const a of n)a[1](),qe.push(a,l);if(c){for(let a=0;a<qe.length;a+=2)qe[a][0](qe[a+1]);qe.length=0}}}function i(s){r(s(l))}function o(s,c=J){const a=[s,c];return n.add(a),n.size===1&&(t=e(r,i)||J),s(l),()=>{n.delete(a),n.size===0&&t&&(t(),t=null)}}return{set:r,update:i,subscribe:o}}const xt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},Gt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function Un(){const{subscribe:l,set:e,update:t}=st({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:Gt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:l,set:e,update:t,updateCaption:(n,r)=>{t(i=>{if(!i)return i;const o=i.captions.map(s=>s.id===n?{...s,...r}:s);return{...i,captions:o,updatedAt:new Date}})},updateStyle:n=>{t(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{t(r=>{if(!r)return r;const i=xt[n];return i?{...r,style:{...Gt,...i},updatedAt:new Date}:r})},addBRoll:n=>{t(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{t(r=>r&&{...r,bRollClips:r.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((d,p)=>p===r?{...d,emoji:i||null}:d);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,i)=>{t(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((d,p)=>p===r?{...d,isKeyword:i}:d);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(0,r);return{...s,start:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{t(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(.1,r);return{...s,duration:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},addZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{t(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,zoomEffects:o,updatedAt:new Date}})},addSoundEffect:n=>{t(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{t(r=>r&&{...r,soundEffects:r.soundEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{t(i=>{if(!i)return i;const o=i.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,soundEffects:o,updatedAt:new Date}})}}}const ae=Un();function Vn(){const{subscribe:l,set:e,update:t}=st({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:l,set:e,update:t,setCurrentTime:n=>t(r=>({...r,currentTime:n})),setPlaying:n=>t(r=>({...r,isPlaying:n})),togglePlay:()=>t(n=>({...n,isPlaying:!n.isPlaying}))}}const We=Vn(),Ct=st("captions"),ot=st({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Kt(l,e,t){const n=l.slice();return n[10]=e[t][0],n[11]=e[t][1],n}function wt(l){let e,t=[l[11]],n={};for(let r=0;r<t.length;r+=1)n=re(n,t[r]);return{c(){e=Oe(l[10]),dt(e,n)},m(r,i){L(r,e,i)},p(r,i){dt(e,n=Ie(t,[i&32&&r[11]]))},d(r){r&&D(e)}}}function Zt(l){let e=l[10],t,n=l[10]&&wt(l);return{c(){n&&n.c(),t=Et()},m(r,i){n&&n.m(r,i),L(r,t,i)},p(r,i){r[10]?e?be(e,r[10])?(n.d(1),n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):n.p(r,i):(n=wt(r),e=r[10],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&D(t),n&&n.d(r)}}}function qn(l){let e,t,n,r,i,o=q(l[5]),s=[];for(let g=0;g<o.length;g+=1)s[g]=Zt(Kt(l,o,g));const c=l[9].default,a=Ee(c,l,l[8],null);let d=[Yt,l[6],{width:l[2]},{height:l[2]},{stroke:l[1]},{"stroke-width":n=l[4]?Number(l[3])*24/Number(l[2]):l[3]},{class:r=`lucide-icon lucide lucide-${l[0]} ${l[7].class??""}`}],p={};for(let g=0;g<d.length;g+=1)p=re(p,d[g]);return{c(){e=Oe("svg");for(let g=0;g<s.length;g+=1)s[g].c();t=Et(),a&&a.c(),dt(e,p)},m(g,m){L(g,e,m);for(let h=0;h<s.length;h+=1)s[h]&&s[h].m(e,null);u(e,t),a&&a.m(e,null),i=!0},p(g,[m]){if(m&32){o=q(g[5]);let h;for(h=0;h<o.length;h+=1){const k=Kt(g,o,h);s[h]?s[h].p(k,m):(s[h]=Zt(k),s[h].c(),s[h].m(e,t))}for(;h<s.length;h+=1)s[h].d(1);s.length=o.length}a&&a.p&&(!i||m&256)&&Be(a,c,g,g[8],i?Me(c,g[8],m,null):Te(g[8]),null),dt(e,p=Ie(d,[Yt,m&64&&g[6],(!i||m&4)&&{width:g[2]},(!i||m&4)&&{height:g[2]},(!i||m&2)&&{stroke:g[1]},(!i||m&28&&n!==(n=g[4]?Number(g[3])*24/Number(g[2]):g[3]))&&{"stroke-width":n},(!i||m&129&&r!==(r=`lucide-icon lucide lucide-${g[0]} ${g[7].class??""}`))&&{class:r}]))},i(g){i||(T(a,g),i=!0)},o(g){N(a,g),i=!1},d(g){g&&D(e),ce(s,g),a&&a.d(g)}}}function Gn(l,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ht(e,n),{$$slots:i={},$$scope:o}=e,{name:s}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:d=2}=e,{absoluteStrokeWidth:p=!1}=e,{iconNode:g}=e;return l.$$set=m=>{t(7,e=re(re({},e),ke(m))),t(6,r=Ht(e,n)),"name"in m&&t(0,s=m.name),"color"in m&&t(1,c=m.color),"size"in m&&t(2,a=m.size),"strokeWidth"in m&&t(3,d=m.strokeWidth),"absoluteStrokeWidth"in m&&t(4,p=m.absoluteStrokeWidth),"iconNode"in m&&t(5,g=m.iconNode),"$$scope"in m&&t(8,o=m.$$scope)},e=ke(e),[s,c,a,d,p,g,r,e,o,i]}class Ue extends xe{constructor(e){super(),$e(this,e,Gn,qn,be,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function Yn(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Kn(l){let e,t;const n=[{name:"film"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Yn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function Zn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class mt extends xe{constructor(e){super(),$e(this,e,Zn,Kn,be,{})}}function Jn(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function Qn(l){let e,t;const n=[{name:"loader-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Jn]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function Xn(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Xe extends xe{constructor(e){super(),$e(this,e,Xn,Qn,be,{})}}function er(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function tr(l){let e,t;const n=[{name:"palette"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[er]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function lr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class nr extends xe{constructor(e){super(),$e(this,e,lr,tr,be,{})}}function rr(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function ir(l){let e,t;const n=[{name:"plus"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[rr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function or(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class Rt extends xe{constructor(e){super(),$e(this,e,or,ir,be,{})}}function sr(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function ar(l){let e,t;const n=[{name:"sparkles"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[sr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function cr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class _t extends xe{constructor(e){super(),$e(this,e,cr,ar,be,{})}}function ur(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function fr(l){let e,t;const n=[{name:"trash-2"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[ur]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function dr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class hr extends xe{constructor(e){super(),$e(this,e,dr,fr,be,{})}}function pr(l){let e;const t=l[2].default,n=Ee(t,l,l[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Be(n,t,r,r[3],e?Me(t,r[3],i,null):Te(r[3]),null)},i(r){e||(T(n,r),e=!0)},o(r){N(n,r),e=!1},d(r){n&&n.d(r)}}}function gr(l){let e,t;const n=[{name:"type"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[pr]},$$scope:{ctx:l}};for(let i=0;i<n.length;i+=1)r=re(r,n[i]);return e=new Ue({props:r}),{c(){le(e.$$.fragment)},m(i,o){X(e,i,o),t=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&He(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){t||(T(e.$$.fragment,i),t=!0)},o(i){N(e.$$.fragment,i),t=!1},d(i){ee(e,i)}}}function mr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return l.$$set=o=>{t(1,e=re(re({},e),ke(o))),"$$scope"in o&&t(3,r=o.$$scope)},e=ke(e),[i,e,n,r]}class _r extends xe{constructor(e){super(),$e(this,e,mr,gr,be,{})}}function Jt(l,e,t){const n=l.slice();return n[3]=e[t],n}function Qt(l){let e,t,n,r,i,o,s,c,a;var d=l[3].icon;function p(m,h){return{props:{class:"w-5 h-5"}}}d&&(t=Ut(d,p()));function g(){return l[2](l[3])}return{c(){e=_("button"),t&&le(t.$$.fragment),n=C(),r=_("span"),r.textContent=`${l[3].label}`,i=C(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",l[3].label)},m(m,h){L(m,e,h),t&&X(t,e,null),u(e,n),u(e,r),u(e,i),s=!0,c||(a=G(e,"click",g),c=!0)},p(m,h){if(l=m,d!==(d=l[3].icon)){if(t){me();const k=t;N(k.$$.fragment,1,0,()=>{ee(k,1)}),_e()}d?(t=Ut(d,p()),le(t.$$.fragment),T(t.$$.fragment,1),X(t,e,n)):t=null}(!s||h&1&&o!==(o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(l[0]===l[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",o)},i(m){s||(t&&T(t.$$.fragment,m),s=!0)},o(m){t&&N(t.$$.fragment,m),s=!1},d(m){m&&D(e),t&&ee(t),c=!1,a()}}}function br(l){let e,t,n,r,i,o,s,c,a,d,p,g,m=q(l[1]),h=[];for(let w=0;w<m.length;w+=1)h[w]=Qt(Jt(l,m,w));const k=w=>N(h[w],1,1,()=>{h[w]=null});return{c(){e=_("div"),t=_("div"),t.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=C(),r=_("nav");for(let w=0;w<h.length;w+=1)h[w].c();i=C(),o=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',c=C(),a=_("button"),a.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(t,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(a,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(a,"title","Logout"),f(o,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m(w,b){L(w,e,b),u(e,t),u(e,n),u(e,r);for(let $=0;$<h.length;$+=1)h[$]&&h[$].m(r,null);u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),d=!0,p||(g=G(a,"click",kr),p=!0)},p(w,[b]){if(b&3){m=q(w[1]);let $;for($=0;$<m.length;$+=1){const P=Jt(w,m,$);h[$]?(h[$].p(P,b),T(h[$],1)):(h[$]=Qt(P),h[$].c(),T(h[$],1),h[$].m(r,null))}for(me(),$=m.length;$<h.length;$+=1)k($);_e()}},i(w){if(!d){for(let b=0;b<m.length;b+=1)T(h[b]);d=!0}},o(w){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)N(h[b]);d=!1},d(w){w&&D(e),ce(h,w),p=!1,g()}}}function kr(){window.location.href="/logout"}function vr(l,e,t){let n;return Re(l,Ct,o=>t(0,n=o)),[n,[{id:"captions",label:"Captions",icon:_r},{id:"style",label:"Style",icon:nr},{id:"broll",label:"B-Roll",icon:mt},{id:"ai-tools",label:"AI Tools",icon:_t}],o=>Ct.set(o.id)]}class yr extends xe{constructor(e){super(),$e(this,e,vr,br,be,{})}}const wr=l=>({}),Xt=l=>({}),$r=l=>({}),el=l=>({}),xr=l=>({}),tl=l=>({}),Cr=l=>({}),ll=l=>({});function Fr(l){let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P;const j=l[1].sidebar,R=Ee(j,l,l[0],ll),M=l[1].panel,S=Ee(M,l,l[0],tl),x=l[1].preview,I=Ee(x,l,l[0],el),E=l[1].timeline,W=Ee(E,l,l[0],Xt);return{c(){e=_("div"),t=_("aside"),R&&R.c(),n=C(),r=_("aside"),S&&S.c(),i=C(),o=_("div"),s=_("div"),c=_("header"),a=_("div"),a.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',d=C(),p=_("div"),g=_("button"),g.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,m=C(),h=_("div"),I&&I.c(),k=C(),w=_("aside"),W&&W.c(),f(t,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(a,"class","flex items-center gap-4"),f(g,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(p,"class","flex items-center gap-2"),f(c,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f(w,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(o,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(F,B){L(F,e,B),u(e,t),R&&R.m(t,null),u(e,n),u(e,r),S&&S.m(r,null),u(e,i),u(e,o),u(o,s),u(s,c),u(c,a),u(c,d),u(c,p),u(p,g),u(s,m),u(s,h),I&&I.m(h,null),u(o,k),u(o,w),W&&W.m(w,null),b=!0,$||(P=G(g,"click",l[2]),$=!0)},p(F,[B]){R&&R.p&&(!b||B&1)&&Be(R,j,F,F[0],b?Me(j,F[0],B,Cr):Te(F[0]),ll),S&&S.p&&(!b||B&1)&&Be(S,M,F,F[0],b?Me(M,F[0],B,xr):Te(F[0]),tl),I&&I.p&&(!b||B&1)&&Be(I,x,F,F[0],b?Me(x,F[0],B,$r):Te(F[0]),el),W&&W.p&&(!b||B&1)&&Be(W,E,F,F[0],b?Me(E,F[0],B,wr):Te(F[0]),Xt)},i(F){b||(T(R,F),T(S,F),T(I,F),T(W,F),b=!0)},o(F){N(R,F),N(S,F),N(I,F),N(W,F),b=!1},d(F){F&&D(e),R&&R.d(F),S&&S.d(F),I&&I.d(F),W&&W.d(F),$=!1,P()}}}function Sr(l,e,t){let{$$slots:n={},$$scope:r}=e;const i=()=>ot.update(o=>({...o,isExporting:!0}));return l.$$set=o=>{"$$scope"in o&&t(0,r=o.$$scope)},[r,n,i]}class Er extends xe{constructor(e){super(),$e(this,e,Sr,Fr,be,{})}}function nl(l,e,t){const n=l.slice();return n[21]=e[t],n}function Mr(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="text-center"><svg class="w-16 h-16 text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-white text-lg">No video loaded</p></div>',f(e,"class","w-full h-full flex items-center justify-center bg-black")},m(t,n){L(t,e,n)},p:J,d(t){t&&D(e)}}}function Br(l){let e,t,n;return{c(){e=_("video"),t=_("track"),f(t,"kind","captions"),je(e.src,n=l[0].videoUrl)||f(e,"src",n),f(e,"class","w-full h-full object-contain"),f(e,"crossorigin","anonymous"),e.playsInline=!0,e.controls=!0,f(e,"controlslist","nofullscreen")},m(r,i){L(r,e,i),u(e,t),l[12](e)},p(r,i){i&1&&!je(e.src,n=r[0].videoUrl)&&f(e,"src",n)},d(r){r&&D(e),l[12](null)}}}function rl(l){let e,t;function n(o,s){var c,a;return(a=(c=o[0])==null?void 0:c.style)!=null&&a.wordByWord&&o[2].words?Rr:Tr}let r=n(l),i=r(l);return{c(){var o,s,c,a;e=_("div"),i.c(),f(e,"class","absolute left-4 right-4 text-center pointer-events-none"),f(e,"style",t=l[7]()+" "+(((s=(o=l[0])==null?void 0:o.style)==null?void 0:s.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((a=(c=l[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))},m(o,s){L(o,e,s),i.m(e,null)},p(o,s){var c,a,d,p;r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&1&&t!==(t=o[7]()+" "+(((a=(c=o[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((p=(d=o[0])==null?void 0:d.style)==null?void 0:p.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))&&f(e,"style",t)},d(o){o&&D(e),i.d()}}}function Tr(l){let e,t=l[2].text+"",n;return{c(){var r,i,o,s,c,a,d,p;e=_("p"),n=V(t),f(e,"class","leading-tight"),se(e,"font-family",(((i=(r=l[0])==null?void 0:r.style)==null?void 0:i.fontFamily)||"Inter")+", sans-serif"),se(e,"font-size",(((s=(o=l[0])==null?void 0:o.style)==null?void 0:s.fontSize)||42)+"px"),se(e,"font-weight",((a=(c=l[0])==null?void 0:c.style)==null?void 0:a.fontWeight)||"bold"),se(e,"color",((p=(d=l[0])==null?void 0:d.style)==null?void 0:p.color)||"#FFFFFF")},m(r,i){L(r,e,i),u(e,n)},p(r,i){var o,s,c,a,d,p,g,m;i&4&&t!==(t=r[2].text+"")&&ue(n,t),i&1&&se(e,"font-family",(((s=(o=r[0])==null?void 0:o.style)==null?void 0:s.fontFamily)||"Inter")+", sans-serif"),i&1&&se(e,"font-size",(((a=(c=r[0])==null?void 0:c.style)==null?void 0:a.fontSize)||42)+"px"),i&1&&se(e,"font-weight",((p=(d=r[0])==null?void 0:d.style)==null?void 0:p.fontWeight)||"bold"),i&1&&se(e,"color",((m=(g=r[0])==null?void 0:g.style)==null?void 0:m.color)||"#FFFFFF")},d(r){r&&D(e)}}}function Rr(l){let e,t=q(l[2].words),n=[];for(let r=0;r<t.length;r+=1)n[r]=il(nl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","flex flex-wrap justify-center gap-1")},m(r,i){L(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i&773){t=q(r[2].words);let o;for(o=0;o<t.length;o+=1){const s=nl(r,t,o);n[o]?n[o].p(s,i):(n[o]=il(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&D(e),ce(n,r)}}}function il(l){let e,t=l[21].text+"",n,r,i,o;return{c(){var s,c,a,d,p,g,m,h,k,w,b,$,P,j,R,M,S,x,I,E,W,F;e=_("span"),n=V(t),r=C(),f(e,"class",i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+l[9](l[21])+" svelte-1q1neid"),f(e,"style",o="font-family: "+(((c=(s=l[0])==null?void 0:s.style)==null?void 0:c.fontFamily)||"Inter")+", sans-serif; font-size: "+(((d=(a=l[0])==null?void 0:a.style)==null?void 0:d.fontSize)||42)+"px; font-weight: "+(((g=(p=l[0])==null?void 0:p.style)==null?void 0:g.fontWeight)||"bold")+"; color: "+(l[8](l[21])&&((h=(m=l[0])==null?void 0:m.style)!=null&&h.highlightWords)?((w=(k=l[0])==null?void 0:k.style)==null?void 0:w.highlightColor)||"#FFD700":(($=(b=l[0])==null?void 0:b.style)==null?void 0:$.color)||"#FFFFFF")+"; background-color: "+(l[8](l[21])&&((j=(P=l[0])==null?void 0:P.style)!=null&&j.highlightWords)?((M=(R=l[0])==null?void 0:R.style)==null?void 0:M.highlightColor)||"#FFD700":"transparent")+"; "+(l[8](l[21])&&((x=(S=l[0])==null?void 0:S.style)!=null&&x.highlightWords)&&((E=(I=l[0])==null?void 0:I.style)==null?void 0:E.color)===((F=(W=l[0])==null?void 0:W.style)==null?void 0:F.highlightColor)?"color: #000000;":""))},m(s,c){L(s,e,c),u(e,n),u(e,r)},p(s,c){var a,d,p,g,m,h,k,w,b,$,P,j,R,M,S,x,I,E,W,F,B,v;c&4&&t!==(t=s[21].text+"")&&ue(n,t),c&4&&i!==(i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+s[9](s[21])+" svelte-1q1neid")&&f(e,"class",i),c&5&&o!==(o="font-family: "+(((d=(a=s[0])==null?void 0:a.style)==null?void 0:d.fontFamily)||"Inter")+", sans-serif; font-size: "+(((g=(p=s[0])==null?void 0:p.style)==null?void 0:g.fontSize)||42)+"px; font-weight: "+(((h=(m=s[0])==null?void 0:m.style)==null?void 0:h.fontWeight)||"bold")+"; color: "+(s[8](s[21])&&((w=(k=s[0])==null?void 0:k.style)!=null&&w.highlightWords)?(($=(b=s[0])==null?void 0:b.style)==null?void 0:$.highlightColor)||"#FFD700":((j=(P=s[0])==null?void 0:P.style)==null?void 0:j.color)||"#FFFFFF")+"; background-color: "+(s[8](s[21])&&((M=(R=s[0])==null?void 0:R.style)!=null&&M.highlightWords)?((x=(S=s[0])==null?void 0:S.style)==null?void 0:x.highlightColor)||"#FFD700":"transparent")+"; "+(s[8](s[21])&&((E=(I=s[0])==null?void 0:I.style)!=null&&E.highlightWords)&&((F=(W=s[0])==null?void 0:W.style)==null?void 0:F.color)===((v=(B=s[0])==null?void 0:B.style)==null?void 0:v.highlightColor)?"color: #000000;":""))&&f(e,"style",o)},d(s){s&&D(e)}}}function zr(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),f(t,"d","M8 5v14l11-7z"),f(e,"class","w-8 h-8 text-gray-900 ml-1"),f(e,"fill","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){L(n,e,r),u(e,t)},d(n){n&&D(e)}}}function Wr(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),f(t,"d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"),f(e,"class","w-8 h-8 text-gray-900"),f(e,"fill","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){L(n,e,r),u(e,t)},d(n){n&&D(e)}}}function ol(l){let e,t,n,r;return{c(){e=_("div"),t=_("div"),f(t,"class","h-full bg-primary transition-all duration-75"),se(t,"width",l[4]+"%"),f(e,"class","absolute bottom-0 left-0 right-0 h-1.5 bg-gray-700 cursor-pointer z-20 hover:h-2 transition-all")},m(i,o){L(i,e,o),u(e,t),n||(r=G(e,"click",l[5]),n=!0)},p(i,o){o&16&&se(t,"width",i[4]+"%")},d(i){i&&D(e),n=!1,r()}}}function Nr(l){var x,I;let e,t,n,r,i,o,s,c=Math.floor(l[1].currentTime/60)+"",a,d,p=(Math.floor(l[1].currentTime)%60).toString().padStart(2,"0")+"",g,m,h,k;function w(E,W){var F;return(F=E[0])!=null&&F.videoUrl?Br:Mr}let b=w(l),$=b(l),P=l[2]&&rl(l);function j(E,W){return E[1].isPlaying?Wr:zr}let R=j(l),M=R(l),S=((x=l[0])==null?void 0:x.videoUrl)&&((I=l[1])==null?void 0:I.duration)>0&&ol(l);return{c(){e=_("div"),$.c(),t=C(),P&&P.c(),n=C(),r=_("button"),i=_("div"),M.c(),o=C(),s=_("div"),a=V(c),d=V(":"),g=V(p),m=C(),S&&S.c(),f(i,"class","w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg hover:scale-110 transition-transform"),f(r,"class","absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 hover:opacity-100 transition-opacity duration-200"),f(s,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded z-10"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(E,W){L(E,e,W),$.m(e,null),u(e,t),P&&P.m(e,null),u(e,n),u(e,r),u(r,i),M.m(i,null),u(e,o),u(e,s),u(s,a),u(s,d),u(s,g),u(e,m),S&&S.m(e,null),h||(k=G(r,"click",l[6]),h=!0)},p(E,[W]){var F,B;b===(b=w(E))&&$?$.p(E,W):($.d(1),$=b(E),$&&($.c(),$.m(e,t))),E[2]?P?P.p(E,W):(P=rl(E),P.c(),P.m(e,n)):P&&(P.d(1),P=null),R!==(R=j(E))&&(M.d(1),M=R(E),M&&(M.c(),M.m(i,null))),W&2&&c!==(c=Math.floor(E[1].currentTime/60)+"")&&ue(a,c),W&2&&p!==(p=(Math.floor(E[1].currentTime)%60).toString().padStart(2,"0")+"")&&ue(g,p),(F=E[0])!=null&&F.videoUrl&&((B=E[1])==null?void 0:B.duration)>0?S?S.p(E,W):(S=ol(E),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},i:J,o:J,d(E){E&&D(e),$.d(),P&&P.d(),M.d(),S&&S.d(),h=!1,k()}}}function Dr(l,e,t){let n,r,i,o,s,c;Re(l,We,M=>t(10,s=M)),Re(l,ae,M=>t(11,c=M));let a;function d(){We.setPlaying(!0)}function p(){We.setPlaying(!1)}function g(){a&&We.setCurrentTime(a.currentTime)}function m(){a&&We.update(M=>({...M,duration:a.duration}))}function h(M){var S;a&&((S=M.detail)==null?void 0:S.time)!=null&&t(3,a.currentTime=M.detail.time,a)}function k(M){M.code==="Space"&&M.target===document.body&&(M.preventDefault(),b())}function w(M){if(!a||!r.duration)return;const S=M.currentTarget.getBoundingClientRect(),E=(M.clientX-S.left)/S.width*r.duration;t(3,a.currentTime=E,a),We.setCurrentTime(E)}Bt(()=>(window.addEventListener("timeline-seek",h),window.addEventListener("keydown",k),a&&(a.addEventListener("timeupdate",g),a.addEventListener("loadedmetadata",m),a.addEventListener("play",d),a.addEventListener("pause",p)),()=>{window.removeEventListener("timeline-seek",h),window.removeEventListener("keydown",k),a&&(a.removeEventListener("timeupdate",g),a.removeEventListener("loadedmetadata",m),a.removeEventListener("play",d),a.removeEventListener("pause",p))}));function b(){a&&(a.paused?a.play():a.pause())}function $(){var S;switch(((S=n==null?void 0:n.style)==null?void 0:S.position)||"bottom"){case"top":return"top: 10%;";case"middle":return"top: 50%; transform: translateY(-50%);";case"bottom":default:return"bottom: 10%;"}}function P(M){return(r==null?void 0:r.currentTime)>=M.start&&(r==null?void 0:r.currentTime)<=M.end}function j(M){var x;if(!P(M))return"";switch(((x=n==null?void 0:n.style)==null?void 0:x.animation)||"none"){case"pop":return"animate-pop";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade";case"bounce":return"animate-bounce";default:return""}}function R(M){gt[M?"unshift":"push"](()=>{a=M,t(3,a)})}return l.$$.update=()=>{var M,S;l.$$.dirty&2048&&t(0,n=c),l.$$.dirty&1024&&t(1,r=s),l.$$.dirty&2&&t(4,i=(r==null?void 0:r.duration)>0?r.currentTime/r.duration*100:0),l.$$.dirty&3&&t(2,o=(M=n==null?void 0:n.captions)==null?void 0:M.find(x=>(r==null?void 0:r.currentTime)>=x.start&&(r==null?void 0:r.currentTime)<=x.end)),l.$$.dirty&6&&(S=o==null?void 0:o.words)!=null&&S.filter(x=>(r==null?void 0:r.currentTime)>=x.start&&(r==null?void 0:r.currentTime)<=x.end)},[n,r,o,a,i,w,b,$,P,j,s,c,R]}class Ar extends xe{constructor(e){super(),$e(this,e,Dr,Nr,be,{})}}const sl=st(null);function Qe(l){const e=Math.floor(l/60),t=Math.floor(l%60),n=Math.floor(l%1*100);return`${e}:${t.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function al(l,e,t){const n=l.slice();return n[68]=e[t],n}function cl(l,e,t){const n=l.slice();return n[63]=e[t],n}function ul(l,e,t){const n=l.slice();return n[63]=e[t],n}function fl(l,e,t){const n=l.slice();return n[63]=e[t],n}function dl(l,e,t){const n=l.slice();return n[47]=e[t],n}function hl(l,e,t){const n=l.slice();return n[50]=e[t],n}function pl(l,e,t){const n=l.slice();return n[53]=e[t],n}function gl(l,e,t){const n=l.slice();return n[56]=e[t],n}function ml(l,e,t){const n=l.slice();return n[59]=e[t][0],n[60]=e[t][1],n}function _l(l,e,t){const n=l.slice();return n[35]=e[t],n}function bl(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function kl(l,e,t){const n=l.slice();return n[35]=e[t],n}function vl(l,e,t){const n=l.slice();return n[38]=e[t],n[43]=e,n[40]=t,n}function yl(l,e,t){const n=l.slice();return n[44]=e[t],n}function Lr(l){let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P,j,R,M,S,x,I,E;const W=[Hr,Or],F=[];function B(Y,ie){return Y[0]?0:1}i=B(l),o=F[i]=W[i](l);const v=[Vr,Ur],y=[];function z(Y,ie){return Y[1]?0:1}a=z(l),d=y[a]=v[a](l);const Z=[Gr,qr],te=[];function ve(Y,ie){return Y[2]?0:1}h=ve(l),k=te[h]=Z[h](l);const K=[Kr,Yr],de=[];function A(Y,ie){return generatingEffects?0:1}P=A(),j=de[P]=K[P](l);let H=l[6].length>0&&wl(l),Q=l[9]&&xl(l);return{c(){var Y,ie,Fe,Ne,Se,fe;e=_("div"),t=_("h3"),t.textContent="AI Magic Tools",n=C(),r=_("button"),o.c(),s=C(),c=_("button"),d.c(),g=C(),m=_("button"),k.c(),b=C(),$=_("button"),j.c(),M=C(),H&&H.c(),S=C(),Q&&Q.c(),f(t,"class","font-semibold text-lg text-white"),r.disabled=l[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),c.disabled=p=l[1]||!((ie=(Y=l[7])==null?void 0:Y.captions)!=null&&ie.length),f(c,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),m.disabled=w=l[2]||!((Ne=(Fe=l[7])==null?void 0:Fe.captions)!=null&&Ne.length),f(m,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),$.disabled=R=generatingEffects||!((fe=(Se=l[7])==null?void 0:Se.captions)!=null&&fe.length),f($,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(Y,ie){L(Y,e,ie),u(e,t),u(e,n),u(e,r),F[i].m(r,null),u(e,s),u(e,c),y[a].m(c,null),u(e,g),u(e,m),te[h].m(m,null),u(e,b),u(e,$),de[P].m($,null),u(e,M),H&&H.m(e,null),u(e,S),Q&&Q.m(e,null),x=!0,I||(E=[G(r,"click",l[13]),G(c,"click",l[14]),G(m,"click",l[15]),G($,"click",generateEffectsSuggestions)],I=!0)},p(Y,ie){var fe,De,pe,Ae,ge,Le;let Fe=i;i=B(Y),i!==Fe&&(me(),N(F[Fe],1,1,()=>{F[Fe]=null}),_e(),o=F[i],o||(o=F[i]=W[i](Y),o.c()),T(o,1),o.m(r,null)),(!x||ie[0]&1)&&(r.disabled=Y[0]);let Ne=a;a=z(Y),a!==Ne&&(me(),N(y[Ne],1,1,()=>{y[Ne]=null}),_e(),d=y[a],d||(d=y[a]=v[a](Y),d.c()),T(d,1),d.m(c,null)),(!x||ie[0]&1154&&p!==(p=Y[1]||!((De=(fe=Y[7])==null?void 0:fe.captions)!=null&&De.length)))&&(c.disabled=p);let Se=h;h=ve(Y),h!==Se&&(me(),N(te[Se],1,1,()=>{te[Se]=null}),_e(),k=te[h],k||(k=te[h]=Z[h](Y),k.c()),T(k,1),k.m(m,null)),(!x||ie[0]&1156&&w!==(w=Y[2]||!((Ae=(pe=Y[7])==null?void 0:pe.captions)!=null&&Ae.length)))&&(m.disabled=w),(!x||ie[0]&1152&&R!==(R=generatingEffects||!((Le=(ge=Y[7])==null?void 0:ge.captions)!=null&&Le.length)))&&($.disabled=R),Y[6].length>0?H?(H.p(Y,ie),ie[0]&64&&T(H,1)):(H=wl(Y),H.c(),T(H,1),H.m(e,S)):H&&(me(),N(H,1,1,()=>{H=null}),_e()),Y[9]?Q?Q.p(Y,ie):(Q=xl(Y),Q.c(),Q.m(e,null)):Q&&(Q.d(1),Q=null)},i(Y){x||(T(o),T(d),T(k),T(j),T(H),x=!0)},o(Y){N(o),N(d),N(k),N(j),N(H),x=!1},d(Y){Y&&D(e),F[i].d(),y[a].d(),te[h].d(),de[P].d(),H&&H.d(),Q&&Q.d(),I=!1,we(E)}}}function Pr(l){let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P,j,R,M;const S=[Jr,Zr],x=[];function I(y,z){return y[2]?0:1}i=I(l),o=x[i]=S[i](l);let E=l[6].length>0&&Fl(l);const W=[Xr,Qr],F=[];function B(y,z){return y[5]?0:1}b=B(l),$=F[b]=W[b](l);let v=l[4].length>0&&El(l);return{c(){var y,z;e=_("div"),t=_("h3"),t.textContent="B-Roll Library",n=C(),r=_("button"),o.c(),c=C(),E&&E.c(),a=C(),d=_("div"),p=_("h4"),p.textContent="Search B-Roll",g=C(),m=_("div"),h=_("input"),k=C(),w=_("button"),$.c(),P=C(),v&&v.c(),f(t,"class","font-semibold text-lg text-white"),r.disabled=s=l[2]||!((z=(y=l[7])==null?void 0:y.captions)!=null&&z.length),f(r,"class","w-full p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(p,"class","font-medium text-sm text-dark-text-light mb-2"),f(h,"type","text"),f(h,"placeholder","Search stock footage..."),f(h,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),w.disabled=l[5],f(w,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(m,"class","flex gap-2"),f(d,"class","border-t border-dark-lighter pt-4"),f(e,"class","p-4 space-y-4")},m(y,z){L(y,e,z),u(e,t),u(e,n),u(e,r),x[i].m(r,null),u(e,c),E&&E.m(e,null),u(e,a),u(e,d),u(d,p),u(d,g),u(d,m),u(m,h),Ze(h,l[3]),u(m,k),u(m,w),F[b].m(w,null),u(e,P),v&&v.m(e,null),j=!0,R||(M=[G(r,"click",l[15]),G(h,"input",l[31]),G(h,"keydown",l[32]),G(w,"click",l[16])],R=!0)},p(y,z){var ve,K;let Z=i;i=I(y),i!==Z&&(me(),N(x[Z],1,1,()=>{x[Z]=null}),_e(),o=x[i],o||(o=x[i]=S[i](y),o.c()),T(o,1),o.m(r,null)),(!j||z[0]&1156&&s!==(s=y[2]||!((K=(ve=y[7])==null?void 0:ve.captions)!=null&&K.length)))&&(r.disabled=s),y[6].length>0?E?(E.p(y,z),z[0]&64&&T(E,1)):(E=Fl(y),E.c(),T(E,1),E.m(e,a)):E&&(me(),N(E,1,1,()=>{E=null}),_e()),z[0]&8&&h.value!==y[3]&&Ze(h,y[3]);let te=b;b=B(y),b!==te&&(me(),N(F[te],1,1,()=>{F[te]=null}),_e(),$=F[b],$||($=F[b]=W[b](y),$.c()),T($,1),$.m(w,null)),(!j||z[0]&32)&&(w.disabled=y[5]),y[4].length>0?v?(v.p(y,z),z[0]&16&&T(v,1)):(v=El(y),v.c(),T(v,1),v.m(e,null)):v&&(me(),N(v,1,1,()=>{v=null}),_e())},i(y){j||(T(o),T(E),T($),T(v),j=!0)},o(y){N(o),N(E),N($),N(v),j=!1},d(y){y&&D(e),x[i].d(),E&&E.d(),F[b].d(),v&&v.d(),R=!1,we(M)}}}function Ir(l){var zt,Wt;let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P,j,R=(((Wt=(zt=l[7])==null?void 0:zt.style)==null?void 0:Wt.fontSize)||42)+"",M,S,x,I,E,W,F,B,v,y,z,Z,te,ve,K,de,A,H,Q,Y,ie,Fe,Ne,Se=q(Object.entries(xt)),fe=[];for(let U=0;U<Se.length;U+=1)fe[U]=Bl(ml(l,Se,U));let De=q(l[10]),pe=[];for(let U=0;U<De.length;U+=1)pe[U]=Tl(gl(l,De,U));let Ae=q(l[11]),ge=[];for(let U=0;U<Ae.length;U+=1)ge[U]=Rl(pl(l,Ae,U));let Le=q(l[12]),ye=[];for(let U=0;U<Le.length;U+=1)ye[U]=zl(hl(l,Le,U));let bt=q(["none","light","medium","heavy"]),ze=[];for(let U=0;U<4;U+=1)ze[U]=Wl(dl(l,bt,U));return{c(){var U,he;e=_("div"),t=_("div"),n=_("h3"),n.textContent="Style Presets",r=C(),i=_("div");for(let oe=0;oe<fe.length;oe+=1)fe[oe].c();o=C(),s=_("div"),c=_("h3"),c.textContent="Typography",a=C(),d=_("div"),p=_("label"),p.textContent="Font Family",g=C(),m=_("select");for(let oe=0;oe<pe.length;oe+=1)pe[oe].c();k=C(),w=_("div"),b=_("label"),$=_("span"),$.textContent="Font Size",P=C(),j=_("span"),M=V(R),S=V("px"),x=C(),I=_("input"),W=C(),F=_("div"),B=_("label"),B.textContent="Position",v=C(),y=_("div");for(let oe=0;oe<ge.length;oe+=1)ge[oe].c();z=C(),Z=_("div"),te=_("label"),te.textContent="Animation",ve=C(),K=_("select");for(let oe=0;oe<ye.length;oe+=1)ye[oe].c();A=C(),H=_("div"),Q=_("label"),Q.textContent="Text Shadow",Y=C(),ie=_("div");for(let oe=0;oe<4;oe+=1)ze[oe].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(c,"class","font-semibold text-lg text-white"),f(p,"class","text-sm text-dark-text-light"),f(m,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(d,"class","space-y-2"),f(j,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(I,"type","range"),f(I,"min","20"),f(I,"max","80"),I.value=E=((he=(U=l[7])==null?void 0:U.style)==null?void 0:he.fontSize)||42,f(I,"class","w-full"),f(w,"class","space-y-2"),f(B,"class","text-sm text-dark-text-light"),f(y,"class","flex gap-2"),f(F,"class","space-y-2"),f(te,"class","text-sm text-dark-text-light"),f(K,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(Z,"class","space-y-2"),f(Q,"class","text-sm text-dark-text-light"),f(ie,"class","flex gap-2"),f(H,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(U,he){var oe,et,tt,lt;L(U,e,he),u(e,t),u(t,n),u(t,r),u(t,i);for(let ne=0;ne<fe.length;ne+=1)fe[ne]&&fe[ne].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,d),u(d,p),u(d,g),u(d,m);for(let ne=0;ne<pe.length;ne+=1)pe[ne]&&pe[ne].m(m,null);ct(m,((et=(oe=l[7])==null?void 0:oe.style)==null?void 0:et.fontFamily)||"Inter"),u(s,k),u(s,w),u(w,b),u(b,$),u(b,P),u(b,j),u(j,M),u(j,S),u(w,x),u(w,I),u(s,W),u(s,F),u(F,B),u(F,v),u(F,y);for(let ne=0;ne<ge.length;ne+=1)ge[ne]&&ge[ne].m(y,null);u(s,z),u(s,Z),u(Z,te),u(Z,ve),u(Z,K);for(let ne=0;ne<ye.length;ne+=1)ye[ne]&&ye[ne].m(K,null);ct(K,((lt=(tt=l[7])==null?void 0:tt.style)==null?void 0:lt.animation)||"pop"),u(s,A),u(s,H),u(H,Q),u(H,Y),u(H,ie);for(let ne=0;ne<4;ne+=1)ze[ne]&&ze[ne].m(ie,null);Fe||(Ne=[G(m,"change",l[25]),G(I,"input",l[26]),G(K,"change",l[28])],Fe=!0)},p(U,he){var oe,et,tt,lt,ne,Nt,Dt,At,Lt,Pt,It,jt;if(he&0){Se=q(Object.entries(xt));let O;for(O=0;O<Se.length;O+=1){const Ce=ml(U,Se,O);fe[O]?fe[O].p(Ce,he):(fe[O]=Bl(Ce),fe[O].c(),fe[O].m(i,null))}for(;O<fe.length;O+=1)fe[O].d(1);fe.length=Se.length}if(he[0]&1024){De=q(U[10]);let O;for(O=0;O<De.length;O+=1){const Ce=gl(U,De,O);pe[O]?pe[O].p(Ce,he):(pe[O]=Tl(Ce),pe[O].c(),pe[O].m(m,null))}for(;O<pe.length;O+=1)pe[O].d(1);pe.length=De.length}if(he[0]&1152&&h!==(h=((et=(oe=U[7])==null?void 0:oe.style)==null?void 0:et.fontFamily)||"Inter")&&ct(m,((lt=(tt=U[7])==null?void 0:tt.style)==null?void 0:lt.fontFamily)||"Inter"),he[0]&128&&R!==(R=(((Nt=(ne=U[7])==null?void 0:ne.style)==null?void 0:Nt.fontSize)||42)+"")&&ue(M,R),he[0]&1152&&E!==(E=((At=(Dt=U[7])==null?void 0:Dt.style)==null?void 0:At.fontSize)||42)&&(I.value=E),he[0]&2176){Ae=q(U[11]);let O;for(O=0;O<Ae.length;O+=1){const Ce=pl(U,Ae,O);ge[O]?ge[O].p(Ce,he):(ge[O]=Rl(Ce),ge[O].c(),ge[O].m(y,null))}for(;O<ge.length;O+=1)ge[O].d(1);ge.length=Ae.length}if(he[0]&4096){Le=q(U[12]);let O;for(O=0;O<Le.length;O+=1){const Ce=hl(U,Le,O);ye[O]?ye[O].p(Ce,he):(ye[O]=zl(Ce),ye[O].c(),ye[O].m(K,null))}for(;O<ye.length;O+=1)ye[O].d(1);ye.length=Le.length}if(he[0]&1152&&de!==(de=((Pt=(Lt=U[7])==null?void 0:Lt.style)==null?void 0:Pt.animation)||"pop")&&ct(K,((jt=(It=U[7])==null?void 0:It.style)==null?void 0:jt.animation)||"pop"),he[0]&128){bt=q(["none","light","medium","heavy"]);let O;for(O=0;O<4;O+=1){const Ce=dl(U,bt,O);ze[O]?ze[O].p(Ce,he):(ze[O]=Wl(Ce),ze[O].c(),ze[O].m(ie,null))}for(;O<4;O+=1)ze[O].d(1)}},i:J,o:J,d(U){U&&D(e),ce(fe,U),ce(pe,U),ce(ge,U),ce(ye,U),ce(ze,U),Fe=!1,we(Ne)}}}function jr(l){var te,ve;let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P,j,R,M,S,x,I,E,W=((ve=(te=l[7])==null?void 0:te.style)==null?void 0:ve.highlightWords)&&Nl(l);function F(K,de){var A,H;return(H=(A=K[7])==null?void 0:A.captions)!=null&&H.length?ti:ei}let B=F(l),v=B(l);function y(K,de){var A,H;return(H=(A=K[7])==null?void 0:A.captions)!=null&&H.length?ni:li}let z=y(l),Z=z(l);return{c(){var K,de,A,H;e=_("div"),t=_("h3"),t.textContent="Caption Settings",n=C(),r=_("div"),i=_("label"),o=_("span"),o.textContent="Word-by-word highlighting",s=C(),c=_("input"),d=C(),p=_("label"),g=_("span"),g.textContent="Highlight active words",m=C(),h=_("input"),w=C(),W&&W.c(),b=C(),$=_("div"),P=_("h3"),P.textContent="Emoji Editor",j=C(),v.c(),R=C(),M=_("div"),S=_("h3"),S.textContent="Keyword Editor",x=C(),Z.c(),f(t,"class","font-semibold text-lg text-white"),f(o,"class","text-dark-text-light"),f(c,"type","checkbox"),c.checked=a=(de=(K=l[7])==null?void 0:K.style)==null?void 0:de.wordByWord,f(c,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(g,"class","text-dark-text-light"),f(h,"type","checkbox"),h.checked=k=(H=(A=l[7])==null?void 0:A.style)==null?void 0:H.highlightWords,f(h,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(p,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(P,"class","font-semibold text-lg text-white"),f($,"class","space-y-4"),f(S,"class","font-semibold text-lg text-white"),f(M,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(K,de){L(K,e,de),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o),u(i,s),u(i,c),u(r,d),u(r,p),u(p,g),u(p,m),u(p,h),u(r,w),W&&W.m(r,null),u(e,b),u(e,$),u($,P),u($,j),v.m($,null),u(e,R),u(e,M),u(M,S),u(M,x),Z.m(M,null),I||(E=[G(c,"change",l[18]),G(h,"change",l[19])],I=!0)},p(K,de){var A,H,Q,Y,ie,Fe;de[0]&1152&&a!==(a=(H=(A=K[7])==null?void 0:A.style)==null?void 0:H.wordByWord)&&(c.checked=a),de[0]&1152&&k!==(k=(Y=(Q=K[7])==null?void 0:Q.style)==null?void 0:Y.highlightWords)&&(h.checked=k),(Fe=(ie=K[7])==null?void 0:ie.style)!=null&&Fe.highlightWords?W?W.p(K,de):(W=Nl(K),W.c(),W.m(r,null)):W&&(W.d(1),W=null),B===(B=F(K))&&v?v.p(K,de):(v.d(1),v=B(K),v&&(v.c(),v.m($,null))),z===(z=y(K))&&Z?Z.p(K,de):(Z.d(1),Z=z(K),Z&&(Z.c(),Z.m(M,null)))},i:J,o:J,d(K){K&&D(e),W&&W.d(),v.d(),Z.d(),I=!1,we(E)}}}function Or(l){let e,t,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),t=V(`
          Generate Viral Content`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Hr(l){let e,t,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),t=V(`
          Generating Viral Content...`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Ur(l){let e,t,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),t=V(`
          Auto-Generate Emojis`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Vr(l){let e,t,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),t=V(`
          Generating Emojis...`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function qr(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),t=V(`
          Generate B-Roll Suggestions`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Gr(l){let e,t,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),t=V(`
          Generating B-Roll...`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Yr(l){let e,t,n;return e=new _t({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),t=V(`
          Auto-Generate Zoom & Sound Effects`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Kr(l){let e,t,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),t=V(`
          Generating Effects...`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function wl(l){let e,t,n,r,i,o=q(l[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=$l(cl(l,o,a));const c=a=>N(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),t=_("h4"),t.textContent="Suggested B-Roll Clips:",n=C(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(t,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(a,d){L(a,e,d),u(e,t),u(e,n),u(e,r);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(r,null);i=!0},p(a,d){if(d[0]&64){o=q(a[6]);let p;for(p=0;p<o.length;p+=1){const g=cl(a,o,p);s[p]?(s[p].p(g,d),T(s[p],1)):(s[p]=$l(g),s[p].c(),T(s[p],1),s[p].m(r,null))}for(me(),p=o.length;p<s.length;p+=1)c(p);_e()}},i(a){if(!i){for(let d=0;d<o.length;d+=1)T(s[d]);i=!0}},o(a){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)N(s[d]);i=!1},d(a){a&&D(e),ce(s,a)}}}function $l(l){let e,t,n,r,i,o,s,c,a=l[63].keyword+"",d,p,g,m,h,k;o=new Rt({props:{class:"w-8 h-8 text-white"}});function w(){return l[34](l[63])}return{c(){e=_("div"),t=_("img"),r=C(),i=_("div"),le(o.$$.fragment),s=C(),c=_("span"),d=V(a),p=C(),je(t.src,n=l[63].thumbnail)||f(t,"src",n),f(t,"alt","B-Roll thumbnail"),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",g="Add to timeline: "+l[63].keyword)},m(b,$){L(b,e,$),u(e,t),u(e,r),u(e,i),X(o,i,null),u(e,s),u(e,c),u(c,d),u(e,p),m=!0,h||(k=G(e,"click",w),h=!0)},p(b,$){l=b,(!m||$[0]&64&&!je(t.src,n=l[63].thumbnail))&&f(t,"src",n),(!m||$[0]&64)&&a!==(a=l[63].keyword+"")&&ue(d,a),(!m||$[0]&64&&g!==(g="Add to timeline: "+l[63].keyword))&&f(e,"title",g)},i(b){m||(T(o.$$.fragment,b),m=!0)},o(b){N(o.$$.fragment,b),m=!1},d(b){b&&D(e),ee(o),h=!1,k()}}}function xl(l){let e,t,n,r,i,o,s,c,a,d,p=l[9].descriptions[0]+"",g,m,h,k,w,b,$=l[9].hashtags.join(" ")+"",P,j=q(l[9].hooks),R=[];for(let M=0;M<j.length;M+=1)R[M]=Cl(al(l,j,M));return{c(){e=_("div"),t=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=C(),i=_("ul");for(let M=0;M<R.length;M+=1)R[M].c();o=C(),s=_("div"),c=_("h4"),c.textContent="Description",a=C(),d=_("p"),g=V(p),m=C(),h=_("div"),k=_("h4"),k.textContent="Hashtags",w=C(),b=_("p"),P=V($),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(i,"class","space-y-2"),f(t,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(c,"class","font-medium text-sm text-dark-text-light mb-2"),f(d,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(h,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(M,S){L(M,e,S),u(e,t),u(t,n),u(t,r),u(t,i);for(let x=0;x<R.length;x+=1)R[x]&&R[x].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,d),u(d,g),u(e,m),u(e,h),u(h,k),u(h,w),u(h,b),u(b,P)},p(M,S){if(S[0]&512){j=q(M[9].hooks);let x;for(x=0;x<j.length;x+=1){const I=al(M,j,x);R[x]?R[x].p(I,S):(R[x]=Cl(I),R[x].c(),R[x].m(i,null))}for(;x<R.length;x+=1)R[x].d(1);R.length=j.length}S[0]&512&&p!==(p=M[9].descriptions[0]+"")&&ue(g,p),S[0]&512&&$!==($=M[9].hashtags.join(" ")+"")&&ue(P,$)},d(M){M&&D(e),ce(R,M)}}}function Cl(l){let e,t=l[68]+"",n;return{c(){e=_("li"),n=V(t),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,i){L(r,e,i),u(e,n)},p(r,i){i[0]&512&&t!==(t=r[68]+"")&&ue(n,t)},d(r){r&&D(e)}}}function Zr(l){let e,t,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){le(e.$$.fragment),t=V(`
          Auto-Generate B-Roll`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Jr(l){let e,t,n;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment),t=V(`
          Generating B-Roll...`)},m(r,i){X(e,r,i),L(r,t,i),n=!0},i(r){n||(T(e.$$.fragment,r),n=!0)},o(r){N(e.$$.fragment,r),n=!1},d(r){r&&D(t),ee(e,r)}}}function Fl(l){let e,t,n,r,i,o=q(l[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=Sl(fl(l,o,a));const c=a=>N(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),t=_("h4"),t.textContent="Suggested B-Roll Clips:",n=C(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(t,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2")},m(a,d){L(a,e,d),u(e,t),u(e,n),u(e,r);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(r,null);i=!0},p(a,d){if(d[0]&64){o=q(a[6]);let p;for(p=0;p<o.length;p+=1){const g=fl(a,o,p);s[p]?(s[p].p(g,d),T(s[p],1)):(s[p]=Sl(g),s[p].c(),T(s[p],1),s[p].m(r,null))}for(me(),p=o.length;p<s.length;p+=1)c(p);_e()}},i(a){if(!i){for(let d=0;d<o.length;d+=1)T(s[d]);i=!0}},o(a){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)N(s[d]);i=!1},d(a){a&&D(e),ce(s,a)}}}function Sl(l){let e,t,n,r,i,o,s,c,a=l[63].keyword+"",d,p,g,m,h,k;o=new Rt({props:{class:"w-8 h-8 text-white"}});function w(){return l[30](l[63])}return{c(){e=_("div"),t=_("img"),r=C(),i=_("div"),le(o.$$.fragment),s=C(),c=_("span"),d=V(a),p=C(),je(t.src,n=l[63].thumbnail)||f(t,"src",n),f(t,"alt","B-Roll thumbnail"),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",g="Add to timeline: "+l[63].keyword)},m(b,$){L(b,e,$),u(e,t),u(e,r),u(e,i),X(o,i,null),u(e,s),u(e,c),u(c,d),u(e,p),m=!0,h||(k=G(e,"click",w),h=!0)},p(b,$){l=b,(!m||$[0]&64&&!je(t.src,n=l[63].thumbnail))&&f(t,"src",n),(!m||$[0]&64)&&a!==(a=l[63].keyword+"")&&ue(d,a),(!m||$[0]&64&&g!==(g="Add to timeline: "+l[63].keyword))&&f(e,"title",g)},i(b){m||(T(o.$$.fragment,b),m=!0)},o(b){N(o.$$.fragment,b),m=!1},d(b){b&&D(e),ee(o),h=!1,k()}}}function Qr(l){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"stroke-width","2"),f(t,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){L(n,e,r),u(e,t)},i:J,o:J,d(n){n&&D(e)}}}function Xr(l){let e,t;return e=new Xe({props:{class:"w-5 h-5 animate-spin"}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function El(l){let e,t,n=q(l[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Ml(ul(l,n,o));const i=o=>N(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(o,s){L(o,e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(o,s){if(s[0]&131088){n=q(o[4]);let c;for(c=0;c<n.length;c+=1){const a=ul(o,n,c);r[c]?(r[c].p(a,s),T(r[c],1)):(r[c]=Ml(a),r[c].c(),T(r[c],1),r[c].m(e,null))}for(me(),c=n.length;c<r.length;c+=1)i(c);_e()}},i(o){if(!t){for(let s=0;s<n.length;s+=1)T(r[s]);t=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)N(r[s]);t=!1},d(o){o&&D(e),ce(r,o)}}}function Ml(l){let e,t,n,r,i,o,s,c,a,d;o=new Rt({props:{class:"w-8 h-8 text-white"}});function p(){return l[33](l[63])}return{c(){e=_("button"),t=_("img"),r=C(),i=_("div"),le(o.$$.fragment),s=C(),je(t.src,n=l[63].thumbnail)||f(t,"src",n),f(t,"alt",""),f(t,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(g,m){L(g,e,m),u(e,t),u(e,r),u(e,i),X(o,i,null),u(e,s),c=!0,a||(d=G(e,"click",p),a=!0)},p(g,m){l=g,(!c||m[0]&16&&!je(t.src,n=l[63].thumbnail))&&f(t,"src",n)},i(g){c||(T(o.$$.fragment,g),c=!0)},o(g){N(o.$$.fragment,g),c=!1},d(g){g&&D(e),ee(o),a=!1,d()}}}function Bl(l){let e,t,n,r,i,o,s;function c(){return l[24](l[59])}return{c(){e=_("button"),t=_("div"),t.textContent=`${l[59].replace("-"," ")}`,n=C(),r=_("div"),r.textContent=`${l[60].fontWeight}  ${l[60].animation}`,i=C(),f(t,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(a,d){L(a,e,d),u(e,t),u(e,n),u(e,r),u(e,i),o||(s=G(e,"click",c),o=!0)},p(a,d){l=a},d(a){a&&D(e),o=!1,s()}}}function Tl(l){let e,t=l[56]+"",n;return{c(){e=_("option"),n=V(t),e.__value=l[56],Ze(e,e.__value)},m(r,i){L(r,e,i),u(e,n)},p:J,d(r){r&&D(e)}}}function Rl(l){let e,t=l[53].label+"",n,r,i,o,s;function c(){return l[27](l[53])}return{c(){var a,d;e=_("button"),n=V(t),r=C(),f(e,"class",i="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(a=l[7])==null?void 0:a.style)==null?void 0:d.position)||"bottom")===l[53].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){L(a,e,d),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,d){var p,g;l=a,d[0]&1152&&i!==(i="flex-1 p-2 rounded-lg border text-sm transition "+((((g=(p=l[7])==null?void 0:p.style)==null?void 0:g.position)||"bottom")===l[53].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&D(e),o=!1,s()}}}function zl(l){let e,t=l[50].label+"",n;return{c(){e=_("option"),n=V(t),e.__value=l[50].id,Ze(e,e.__value)},m(r,i){L(r,e,i),u(e,n)},p:J,d(r){r&&D(e)}}}function Wl(l){let e,t,n,r,i,o;function s(){return l[29](l[47])}return{c(){var c,a;e=_("button"),t=V(l[47]),n=C(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.textShadow)||"medium")===l[47]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){L(c,e,a),u(e,t),u(e,n),i||(o=G(e,"click",s),i=!0)},p(c,a){var d,p;l=c,a[0]&1152&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(d=l[7])==null?void 0:d.style)==null?void 0:p.textShadow)||"medium")===l[47]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&D(e),i=!1,o()}}}function Nl(l){let e,t,n,r,i=q(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),o=[];for(let s=0;s<5;s+=1)o[s]=Dl(yl(l,i,s));return{c(){e=_("div"),t=_("label"),t.textContent="Highlight Color",n=C(),r=_("div");for(let s=0;s<5;s+=1)o[s].c();f(t,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,c){L(s,e,c),u(e,t),u(e,n),u(e,r);for(let a=0;a<5;a+=1)o[a]&&o[a].m(r,null)},p(s,c){if(c[0]&128){i=q(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let a;for(a=0;a<5;a+=1){const d=yl(s,i,a);o[a]?o[a].p(d,c):(o[a]=Dl(d),o[a].c(),o[a].m(r,null))}for(;a<5;a+=1)o[a].d(1)}},d(s){s&&D(e),ce(o,s)}}}function Dl(l){let e,t,n,r;function i(){return l[20](l[44])}return{c(){var o,s;e=_("button"),f(e,"class",t="w-8 h-8 rounded-lg border-2 transition "+((((s=(o=l[7])==null?void 0:o.style)==null?void 0:s.highlightColor)||"#FFD700")===l[44]?"border-primary scale-110":"border-transparent hover:border-primary-light")),se(e,"background-color",l[44])},m(o,s){L(o,e,s),n||(r=G(e,"click",i),n=!0)},p(o,s){var c,a;l=o,s[0]&1152&&t!==(t="w-8 h-8 rounded-lg border-2 transition "+((((a=(c=l[7])==null?void 0:c.style)==null?void 0:a.highlightColor)||"#FFD700")===l[44]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",t)},d(o){o&&D(e),n=!1,r()}}}function ei(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(t,n){L(t,e,n)},p:J,d(t){t&&D(e)}}}function ti(l){let e,t=q(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Ll(kl(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){L(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=q(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=kl(r,t,o);n[o]?n[o].p(s,i):(n[o]=Ll(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&D(e),ce(n,r)}}}function Al(l){let e,t,n=l[38].text+"",r,i,o,s,c,a;function d(){l[21].call(o,l[43],l[40])}function p(...g){return l[22](l[35],l[40],...g)}return{c(){e=_("div"),t=_("span"),r=V(n),i=C(),o=_("input"),s=C(),f(t,"class","text-white text-sm mr-1"),f(o,"type","text"),f(o,"maxlength","2"),f(o,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(o,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(g,m){L(g,e,m),u(e,t),u(t,r),u(e,i),u(e,o),Ze(o,l[38].emoji),u(e,s),c||(a=[G(o,"input",d),G(o,"input",p)],c=!0)},p(g,m){l=g,m[0]&128&&n!==(n=l[38].text+"")&&ue(r,n),m[0]&1152&&o.value!==l[38].emoji&&Ze(o,l[38].emoji)},d(g){g&&D(e),c=!1,we(a)}}}function Ll(l){let e,t,n,r=l[35].start.toFixed(2)+"",i,o,s=l[35].end.toFixed(2)+"",c,a,d,p,g,m=q(l[35].words),h=[];for(let k=0;k<m.length;k+=1)h[k]=Al(vl(l,m,k));return{c(){e=_("div"),t=_("p"),n=V("Segment: "),i=V(r),o=V("s - "),c=V(s),a=V("s"),d=C(),p=_("div");for(let k=0;k<h.length;k+=1)h[k].c();g=C(),f(t,"class","text-xs text-dark-text mb-2"),f(p,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,w){L(k,e,w),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,d),u(e,p);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,null);u(e,g)},p(k,w){if(w[0]&128&&r!==(r=k[35].start.toFixed(2)+"")&&ue(i,r),w[0]&128&&s!==(s=k[35].end.toFixed(2)+"")&&ue(c,s),w[0]&128){m=q(k[35].words);let b;for(b=0;b<m.length;b+=1){const $=vl(k,m,b);h[b]?h[b].p($,w):(h[b]=Al($),h[b].c(),h[b].m(p,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=m.length}},d(k){k&&D(e),ce(h,k)}}}function li(l){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(t,n){L(t,e,n)},p:J,d(t){t&&D(e)}}}function ni(l){let e,t=q(l[7].captions),n=[];for(let r=0;r<t.length;r+=1)n[r]=Il(_l(l,t,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){L(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){t=q(r[7].captions);let o;for(o=0;o<t.length;o+=1){const s=_l(r,t,o);n[o]?n[o].p(s,i):(n[o]=Il(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(r){r&&D(e),ce(n,r)}}}function Pl(l){let e,t,n=l[38].text+"",r,i,o,s,c,a,d;function p(...g){return l[23](l[35],l[40],...g)}return{c(){e=_("div"),t=_("span"),r=V(n),i=C(),o=_("input"),c=C(),f(t,"class","text-white text-sm mr-1"),f(o,"type","checkbox"),o.checked=s=l[38].isKeyword||!1,f(o,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(g,m){L(g,e,m),u(e,t),u(t,r),u(e,i),u(e,o),u(e,c),a||(d=G(o,"change",p),a=!0)},p(g,m){l=g,m[0]&128&&n!==(n=l[38].text+"")&&ue(r,n),m[0]&1152&&s!==(s=l[38].isKeyword||!1)&&(o.checked=s)},d(g){g&&D(e),a=!1,d()}}}function Il(l){let e,t,n,r=l[35].start.toFixed(2)+"",i,o,s=l[35].end.toFixed(2)+"",c,a,d,p,g,m=q(l[35].words),h=[];for(let k=0;k<m.length;k+=1)h[k]=Pl(bl(l,m,k));return{c(){e=_("div"),t=_("p"),n=V("Segment: "),i=V(r),o=V("s - "),c=V(s),a=V("s"),d=C(),p=_("div");for(let k=0;k<h.length;k+=1)h[k].c();g=C(),f(t,"class","text-xs text-dark-text mb-2"),f(p,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,w){L(k,e,w),u(e,t),u(t,n),u(t,i),u(t,o),u(t,c),u(t,a),u(e,d),u(e,p);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(p,null);u(e,g)},p(k,w){if(w[0]&128&&r!==(r=k[35].start.toFixed(2)+"")&&ue(i,r),w[0]&128&&s!==(s=k[35].end.toFixed(2)+"")&&ue(c,s),w[0]&128){m=q(k[35].words);let b;for(b=0;b<m.length;b+=1){const $=bl(k,m,b);h[b]?h[b].p($,w):(h[b]=Pl($),h[b].c(),h[b].m(p,null))}for(;b<h.length;b+=1)h[b].d(1);h.length=m.length}},d(k){k&&D(e),ce(h,k)}}}function ri(l){let e,t,n,r;const i=[jr,Ir,Pr,Lr],o=[];function s(c,a){return c[8]==="captions"?0:c[8]==="style"?1:c[8]==="broll"?2:c[8]==="ai-tools"?3:-1}return~(t=s(l))&&(n=o[t]=i[t](l)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(c,a){L(c,e,a),~t&&o[t].m(e,null),r=!0},p(c,a){let d=t;t=s(c),t===d?~t&&o[t].p(c,a):(n&&(me(),N(o[d],1,1,()=>{o[d]=null}),_e()),~t?(n=o[t],n?n.p(c,a):(n=o[t]=i[t](c),n.c()),T(n,1),n.m(e,null)):n=null)},i(c){r||(T(n),r=!0)},o(c){N(n),r=!1},d(c){c&&D(e),~t&&o[t].d()}}}function ii(l,e,t){let n,r,i;Re(l,ae,A=>t(7,n=A)),Re(l,Ct,A=>t(8,r=A)),Re(l,sl,A=>t(9,i=A));let o=!1,s=!1,c=!1,a="",d=[],p=!1,g=[];const m=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],h=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],k=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function w(){if(n){t(0,o=!0);try{const A=n.captions.map(Q=>Q.text).join(" "),H=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:A})});if(H.ok){const Q=await H.json();sl.set(Q)}}catch(A){console.error("AI generation failed:",A)}finally{t(0,o=!1)}}}async function b(){if(!(!n||!n.captions.length)){t(1,s=!0);try{const A=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(A.ok){const H=await A.json();ae.update(Q=>({...Q,captions:H.captions,updatedAt:new Date}))}}catch(A){console.error("Emoji generation failed:",A)}finally{t(1,s=!1)}}}async function $(){if(!(!n||!n.captions.length)){t(2,c=!0),t(6,g=[]);try{const A=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(A.ok){const H=await A.json();t(6,g=H.broll_clips)}}catch(A){console.error("B-Roll generation failed:",A)}finally{t(2,c=!1)}}}async function P(){if(a){t(5,p=!0);try{const A=await fetch(`/api/broll/search?q=${encodeURIComponent(a)}`);if(A.ok){const H=await A.json();t(4,d=H.results||[])}}catch(A){console.error("B-Roll search failed:",A)}finally{t(5,p=!1)}}}function j(A){n&&ae.addBRoll({id:crypto.randomUUID(),url:A.video_url,thumbnail:A.thumbnail,start:n.videoDuration*.3,duration:5,source:A.source})}const R=A=>ae.updateStyle({wordByWord:A.target.checked}),M=A=>ae.updateStyle({highlightWords:A.target.checked}),S=A=>ae.updateStyle({highlightColor:A});function x(A,H){A[H].emoji=this.value,t(10,m)}const I=(A,H,Q)=>ae.updateWordEmoji(A.id,H,Q.target.value),E=(A,H,Q)=>ae.updateWordIsKeyword(A.id,H,Q.target.checked),W=A=>ae.applyPreset(A),F=A=>ae.updateStyle({fontFamily:A.target.value}),B=A=>ae.updateStyle({fontSize:parseInt(A.target.value)}),v=A=>ae.updateStyle({position:A.id}),y=A=>ae.updateStyle({animation:A.target.value}),z=A=>ae.updateStyle({textShadow:A}),Z=A=>ae.addBRoll({...A,id:crypto.randomUUID()});function te(){a=this.value,t(3,a)}return[o,s,c,a,d,p,g,n,r,i,m,h,k,w,b,$,P,j,R,M,S,x,I,E,W,F,B,v,y,z,Z,te,A=>A.key==="Enter"&&P(),A=>j(A),A=>ae.addBRoll({...A,id:crypto.randomUUID()})]}class oi extends xe{constructor(e){super(),$e(this,e,ii,ri,be,{},null,[-1,-1,-1])}}function jl(l,e,t){const n=l.slice();return n[27]=e[t],n}function Ol(l,e,t){const n=l.slice();return n[27]=e[t],n}function Hl(l,e,t){const n=l.slice();return n[32]=e[t],n}function Ul(l,e,t){const n=l.slice();return n[35]=e[t],n[37]=t,n}function Vl(l,e,t){const n=l.slice();return n[38]=e[t],n[40]=t,n}function ql(l){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),se(e,"top",l[40]*10/l[1]*100+"%")},m(t,n){L(t,e,n)},p(t,n){n[0]&2&&se(e,"top",t[40]*10/t[1]*100+"%")},d(t){t&&D(e)}}}function Gl(l){let e,t,n=en(l[35].start,l[35].end)+"",r,i,o,s=l[35].text+"",c,a,d,p,g,m,h;function k(){return l[16](l[35])}return{c(){e=_("button"),t=_("span"),r=V(n),i=C(),o=_("span"),c=V(s),a=C(),f(t,"class","text-[9px] text-primary-light font-mono mb-1"),f(o,"class","w-full text-center leading-tight text-[11px] font-medium break-words line-clamp-3"),f(e,"class",d="absolute mx-1 rounded bg-primary-dark border-2 border-primary hover:bg-primary transition flex flex-col items-center justify-center px-2 py-2 text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-white z-10":"z-0")),f(e,"style",p=l[12](l[35],l[37])),f(e,"title",g=l[35].text)},m(w,b){L(w,e,b),u(e,t),u(t,r),u(e,i),u(e,o),u(o,c),u(e,a),m||(h=G(e,"click",Mt(k)),m=!0)},p(w,b){l=w,b[0]&64&&n!==(n=en(l[35].start,l[35].end)+"")&&ue(r,n),b[0]&64&&s!==(s=l[35].text+"")&&ue(c,s),b[0]&192&&d!==(d="absolute mx-1 rounded bg-primary-dark border-2 border-primary hover:bg-primary transition flex flex-col items-center justify-center px-2 py-2 text-white "+(l[7].selectedCaptionId===l[35].id?"ring-2 ring-white z-10":"z-0"))&&f(e,"class",d),b[0]&64&&p!==(p=l[12](l[35],l[37]))&&f(e,"style",p),b[0]&64&&g!==(g=l[35].text)&&f(e,"title",g)},d(w){w&&D(e),m=!1,h()}}}function Yl(l){let e,t=[],n=new Map,r,i=q(l[5]);const o=s=>s[32].id;for(let s=0;s<i.length;s+=1){let c=Hl(l,i,s),a=o(c);n.set(a,t[s]=Kl(a,c))}return{c(){e=_("div");for(let s=0;s<t.length;s+=1)t[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,c){L(s,e,c);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null);r=!0},p(s,c){c[0]&2338&&(i=q(s[5]),me(),t=Tt(t,c,o,1,s,i,n,e,jn,Kl,null,Hl),_e())},i(s){if(!r){for(let c=0;c<i.length;c+=1)T(t[c]);r=!0}},o(s){for(let c=0;c<t.length;c+=1)N(t[c]);r=!1},d(s){s&&D(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Kl(l,e){let t,n,r,i,o,s,c,a,d,p;n=new mt({props:{class:"w-3 h-3 text-white"}}),o=new hr({props:{class:"w-3 h-3"}});function g(){return e[17](e[32])}function m(...h){return e[18](e[32],...h)}return{key:l,first:null,c(){t=_("div"),le(n.$$.fragment),r=C(),i=_("button"),le(o.$$.fragment),s=C(),f(i,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(i,"title","Remove B-Roll Clip"),f(t,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),se(t,"top",e[32].start/e[1]*100+"%"),se(t,"height",e[32].duration/e[1]*100+"%"),f(t,"title",c="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=t},m(h,k){L(h,t,k),X(n,t,null),u(t,r),u(t,i),X(o,i,null),u(t,s),a=!0,d||(p=[G(i,"click",Mt(g)),G(t,"mousedown",m)],d=!0)},p(h,k){e=h,(!a||k[0]&34)&&se(t,"top",e[32].start/e[1]*100+"%"),(!a||k[0]&34)&&se(t,"height",e[32].duration/e[1]*100+"%"),(!a||k[0]&32&&c!==(c="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(t,"title",c)},i(h){a||(T(n.$$.fragment,h),T(o.$$.fragment,h),a=!0)},o(h){N(n.$$.fragment,h),N(o.$$.fragment,h),a=!1},d(h){h&&D(t),ee(n),ee(o),d=!1,we(p)}}}function Zl(l){let e,t=[],n=new Map,r=q(l[4]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Ol(l,r,o),c=i(s);n.set(c,t[o]=Jl(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(o,s){L(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&18&&(r=q(o[4]),t=Tt(t,s,i,1,o,r,n,e,bn,Jl,null,Ol))},d(o){o&&D(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Jl(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),se(t,"top",e[27].start/e[1]*100+"%"),se(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),f(t,"title",n="Zoom: "+e[27].type+" at "+Qe(e[27].start)),this.first=t},m(r,i){L(r,t,i)},p(r,i){e=r,i[0]&18&&se(t,"top",e[27].start/e[1]*100+"%"),i[0]&18&&se(t,"height",(e[27].end-e[27].start)/e[1]*100+"%"),i[0]&16&&n!==(n="Zoom: "+e[27].type+" at "+Qe(e[27].start))&&f(t,"title",n)},d(r){r&&D(t)}}}function Ql(l){let e,t=[],n=new Map,r=q(l[3]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=jl(l,r,o),c=i(s);n.set(c,t[o]=Xl(c,s))}return{c(){e=_("div");for(let o=0;o<t.length;o+=1)t[o].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(o,s){L(o,e,s);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(o,s){s[0]&10&&(r=q(o[3]),t=Tt(t,s,i,1,o,r,n,e,bn,Xl,null,jl))},d(o){o&&D(e);for(let s=0;s<t.length;s+=1)t[s].d()}}}function Xl(l,e){let t,n;return{key:l,first:null,c(){t=_("div"),f(t,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),se(t,"top",e[27].start/e[1]*100+"%"),f(t,"title",n="Sound: "+e[27].type+" at "+Qe(e[27].start)),this.first=t},m(r,i){L(r,t,i)},p(r,i){e=r,i[0]&10&&se(t,"top",e[27].start/e[1]*100+"%"),i[0]&8&&n!==(n="Sound: "+e[27].type+" at "+Qe(e[27].start))&&f(t,"title",n)},d(r){r&&D(t)}}}function si(l){let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$=Qe(l[2])+"",P,j,R,M,S=q(Array(Math.max(1,Math.ceil(l[1]/10)))),x=[];for(let v=0;v<S.length;v+=1)x[v]=ql(Vl(l,S,v));let I=q(l[6]),E=[];for(let v=0;v<I.length;v+=1)E[v]=Gl(Ul(l,I,v));let W=l[5].length>0&&Yl(l),F=l[4].length>0&&Zl(l),B=l[3].length>0&&Ql(l);return{c(){e=_("div"),t=_("div"),t.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=C(),r=_("div"),i=_("button"),o=_("div");for(let v=0;v<x.length;v+=1)x[v].c();s=C(),c=_("div");for(let v=0;v<E.length;v+=1)E[v].c();a=C(),W&&W.c(),d=C(),F&&F.c(),p=C(),B&&B.c(),g=C(),m=_("div"),h=_("div"),k=C(),w=_("div"),b=_("span"),P=V($),f(t,"class","h-10 flex items-center justify-center px-2 bg-dark-light"),f(o,"class","absolute inset-0 pointer-events-none"),f(c,"class","absolute top-0 bottom-0 left-2 right-8"),f(h,"class","absolute -left-1 -top-1 w-3 h-3 bg-white rounded-full shadow-md border-2 border-primary"),f(m,"class","absolute left-0 right-0 h-0.5 bg-white z-50 pointer-events-none"),f(m,"style",l[13]()),f(i,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(i,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f(w,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(v,y){L(v,e,y),u(e,t),u(e,n),u(e,r),u(r,i),u(i,o);for(let z=0;z<x.length;z+=1)x[z]&&x[z].m(o,null);u(i,s),u(i,c);for(let z=0;z<E.length;z+=1)E[z]&&E[z].m(c,null);u(i,a),W&&W.m(i,null),u(i,d),F&&F.m(i,null),u(i,p),B&&B.m(i,null),u(i,g),u(i,m),u(m,h),l[19](i),u(e,k),u(e,w),u(w,b),u(b,P),j=!0,R||(M=G(i,"click",l[9]),R=!0)},p(v,y){if(y[0]&2){S=q(Array(Math.max(1,Math.ceil(v[1]/10))));let z;for(z=0;z<S.length;z+=1){const Z=Vl(v,S,z);x[z]?x[z].p(Z,y):(x[z]=ql(Z),x[z].c(),x[z].m(o,null))}for(;z<x.length;z+=1)x[z].d(1);x.length=S.length}if(y[0]&5312){I=q(v[6]);let z;for(z=0;z<I.length;z+=1){const Z=Ul(v,I,z);E[z]?E[z].p(Z,y):(E[z]=Gl(Z),E[z].c(),E[z].m(c,null))}for(;z<E.length;z+=1)E[z].d(1);E.length=I.length}v[5].length>0?W?(W.p(v,y),y[0]&32&&T(W,1)):(W=Yl(v),W.c(),T(W,1),W.m(i,d)):W&&(me(),N(W,1,1,()=>{W=null}),_e()),v[4].length>0?F?F.p(v,y):(F=Zl(v),F.c(),F.m(i,p)):F&&(F.d(1),F=null),v[3].length>0?B?B.p(v,y):(B=Ql(v),B.c(),B.m(i,g)):B&&(B.d(1),B=null),(!j||y[0]&4)&&$!==($=Qe(v[2])+"")&&ue(P,$)},i(v){j||(T(W),j=!0)},o(v){N(W),j=!1},d(v){v&&D(e),ce(x,v),ce(E,v),W&&W.d(),F&&F.d(),B&&B.d(),l[19](null),R=!1,M()}}}function en(l,e){const t=n=>{const r=Math.floor(n/60),i=Math.floor(n%60);return`${r}:${i.toString().padStart(2,"0")}`};return`${t(l)} - ${t(e)}`}function ai(l,e,t){let n,r,i,o,s,c,a,d,p;Re(l,ae,v=>t(14,a=v)),Re(l,We,v=>t(15,d=v)),Re(l,ot,v=>t(7,p=v));let g,m=!1,h=null,k=0,w=0,b;Bt(()=>(b=g.getBoundingClientRect(),window.addEventListener("mousemove",P),window.addEventListener("mouseup",j),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",j)}));function $(v,y,z){v.button===0&&(m=!0,h=y,k=v.clientY,w=z,b=g.getBoundingClientRect(),v.preventDefault())}function P(v){var ve;if(!m||!h||!g)return;const Z=(v.clientY-k)/b.height*n;let te=w+Z;te=Math.max(0,Math.min(te,n-(((ve=a.bRollClips.find(K=>K.id===h))==null?void 0:ve.duration)||0))),ae.updateBRollClipStart(h,te)}function j(){m=!1,h=null}function R(v){if(!g||n<=0||m)return;const y=g.getBoundingClientRect(),z=v.clientY-y.top,te=Math.max(0,Math.min(1,z/y.height))*n;We.setCurrentTime(te),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:te}}))}function M(v){ot.update(y=>({...y,selectedCaptionId:v.id})),We.setCurrentTime(v.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:v.start}}))}function S(v){ae.removeBRoll(v)}function x(v,y){const z=v.start/n*100,Z=Math.max(4,(v.end-v.start)/n*100),te=y%3*30;return`top: ${z}%; height: ${Z}%; left: ${te}px; right: ${30-te}px;`}function I(){if(!n||n<=0)return"top: 0%;";const v=c/n*100;return`top: ${Math.max(0,Math.min(100,v))}%;`}const E=v=>M(v),W=v=>S(v.id),F=(v,y)=>$(y,v.id,v.start);function B(v){gt[v?"unshift":"push"](()=>{g=v,t(0,g)})}return l.$$.update=()=>{l.$$.dirty[0]&16384&&t(1,n=(a==null?void 0:a.videoDuration)||1),l.$$.dirty[0]&16384&&t(6,r=(a==null?void 0:a.captions)||[]),l.$$.dirty[0]&16384&&t(5,i=(a==null?void 0:a.bRollClips)||[]),l.$$.dirty[0]&16384&&t(4,o=(a==null?void 0:a.zoomEffects)||[]),l.$$.dirty[0]&16384&&t(3,s=(a==null?void 0:a.soundEffects)||[]),l.$$.dirty[0]&32768&&t(2,c=d.currentTime)},[g,n,c,s,o,i,r,p,$,R,M,S,x,I,a,d,E,W,F,B]}class ci extends xe{constructor(e){super(),$e(this,e,ai,si,be,{},null,[-1,-1])}}function ui(l){const e=l-1;return e*e*e+1}function tn(l,{delay:e=0,duration:t=400,easing:n=fn}={}){const r=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*r}`}}function ln(l,{delay:e=0,duration:t=400,easing:n=ui,start:r=0,opacity:i=0}={}){const o=getComputedStyle(l),s=+o.opacity,c=o.transform==="none"?"":o.transform,a=1-r,d=s*(1-i);return{delay:e,duration:t,easing:n,css:(p,g)=>`
			transform: ${c} scale(${1-a*g});
			opacity: ${s-d*g}
		`}}function nn(l,e,t){const n=l.slice();return n[14]=e[t],n}function rn(l,e,t){const n=l.slice();return n[17]=e[t],n}function on(l,e,t){const n=l.slice();return n[20]=e[t],n}function sn(l){let e,t,n,r,i,o,s,c,a;function d(m,h){return m[1]?di:fi}let p=d(l),g=p(l);return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="Export Video",r=C(),g.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(t,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(m,h){L(m,e,h),u(e,t),u(t,n),u(t,r),g.m(t,null),s=!0,c||(a=[G(t,"click",Mt(l[8])),G(e,"click",l[6]),G(e,"keydown",l[12])],c=!0)},p(m,h){p===(p=d(m))&&g?g.p(m,h):(g.d(1),g=p(m),g&&(g.c(),g.m(t,null)))},i(m){s||(m&&Je(()=>{s&&(i||(i=ut(t,ln,{duration:200,start:.95},!0)),i.run(1))}),m&&Je(()=>{s&&(o||(o=ut(e,tn,{duration:200},!0)),o.run(1))}),s=!0)},o(m){m&&(i||(i=ut(t,ln,{duration:200,start:.95},!1)),i.run(0)),m&&(o||(o=ut(e,tn,{duration:200},!1)),o.run(0)),s=!1},d(m){m&&D(e),g.d(),m&&i&&i.end(),m&&o&&o.end(),c=!1,we(a)}}}function fi(l){let e,t,n,r,i,o,s,c,a,d,p,g,m,h,k,w,b,$,P,j,R,M,S=q(["1080x1920","1920x1080","1080x1080"]),x=[];for(let B=0;B<3;B+=1)x[B]=an(on(l,S,B));let I=q([24,30,60]),E=[];for(let B=0;B<3;B+=1)E[B]=cn(rn(l,I,B));let W=q(["standard","high","ultra"]),F=[];for(let B=0;B<3;B+=1)F[B]=un(nn(l,W,B));return{c(){e=_("div"),t=_("div"),n=_("label"),n.textContent="Resolution",r=C(),i=_("div");for(let B=0;B<3;B+=1)x[B].c();o=C(),s=_("div"),c=_("label"),c.textContent="Frame Rate",a=C(),d=_("div");for(let B=0;B<3;B+=1)E[B].c();p=C(),g=_("div"),m=_("label"),m.textContent="Quality",h=C(),k=_("div");for(let B=0;B<3;B+=1)F[B].c();w=C(),b=_("div"),$=_("button"),$.textContent="Cancel",P=C(),j=_("button"),j.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(c,"class","text-sm text-dark-text-light mb-2 block"),f(d,"class","flex gap-2"),f(m,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f($,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(j,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(B,v){L(B,e,v),u(e,t),u(t,n),u(t,r),u(t,i);for(let y=0;y<3;y+=1)x[y]&&x[y].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,d);for(let y=0;y<3;y+=1)E[y]&&E[y].m(d,null);u(e,p),u(e,g),u(g,m),u(g,h),u(g,k);for(let y=0;y<3;y+=1)F[y]&&F[y].m(k,null);u(e,w),u(e,b),u(b,$),u(b,P),u(b,j),R||(M=[G($,"click",l[6]),G(j,"click",l[5])],R=!0)},p(B,v){if(v&1){S=q(["1080x1920","1920x1080","1080x1080"]);let y;for(y=0;y<3;y+=1){const z=on(B,S,y);x[y]?x[y].p(z,v):(x[y]=an(z),x[y].c(),x[y].m(i,null))}for(;y<3;y+=1)x[y].d(1)}if(v&1){I=q([24,30,60]);let y;for(y=0;y<3;y+=1){const z=rn(B,I,y);E[y]?E[y].p(z,v):(E[y]=cn(z),E[y].c(),E[y].m(d,null))}for(;y<3;y+=1)E[y].d(1)}if(v&1){W=q(["standard","high","ultra"]);let y;for(y=0;y<3;y+=1){const z=nn(B,W,y);F[y]?F[y].p(z,v):(F[y]=un(z),F[y].c(),F[y].m(k,null))}for(;y<3;y+=1)F[y].d(1)}},d(B){B&&D(e),ce(x,B),ce(E,B),ce(F,B),R=!1,we(M)}}}function di(l){let e,t,n,r,i,o,s,c,a,d,p,g,m;return{c(){e=_("div"),t=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=C(),i=_("p"),o=V(l[3]),s=C(),c=_("p"),a=V(l[2]),d=V("% complete"),p=C(),g=_("div"),m=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(i,"class","text-lg font-medium text-white"),f(c,"class","text-sm text-dark-text-light mt-1"),f(t,"class","text-center"),f(m,"class","h-full bg-primary transition-all duration-300"),se(m,"width",l[2]+"%"),f(g,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(h,k){L(h,e,k),u(e,t),u(t,n),u(t,r),u(t,i),u(i,o),u(t,s),u(t,c),u(c,a),u(c,d),u(e,p),u(e,g),u(g,m)},p(h,k){k&8&&ue(o,h[3]),k&4&&ue(a,h[2]),k&4&&se(m,"width",h[2]+"%")},d(h){h&&D(e)}}}function an(l){let e,t=l[20].split("x")[0]==="1080"&&l[20].split("x")[1]==="1920"?"9:16":l[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,i,o,s;function c(){return l[9](l[20])}return{c(){e=_("button"),n=V(t),r=C(),f(e,"class",i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){L(a,e,d),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,d){l=a,d&1&&i!==(i="p-2 rounded-lg border transition "+(l[0].resolution===l[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&D(e),o=!1,s()}}}function cn(l){let e,t,n,r,i,o;function s(){return l[10](l[17])}return{c(){e=_("button"),t=V(l[17]),n=V(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){L(c,e,a),u(e,t),u(e,n),i||(o=G(e,"click",s),i=!0)},p(c,a){l=c,a&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(l[0].fps===l[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&D(e),i=!1,o()}}}function un(l){let e,t=l[14].charAt(0).toUpperCase()+l[14].slice(1)+"",n,r,i,o,s;function c(){return l[11](l[14])}return{c(){e=_("button"),n=V(t),r=C(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,d){L(a,e,d),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,d){l=a,d&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(l[0].quality===l[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&D(e),o=!1,s()}}}function hi(l){let e,t=l[4]&&sn(l);return{c(){t&&t.c(),e=Et()},m(n,r){t&&t.m(n,r),L(n,e,r)},p(n,[r]){n[4]?t?(t.p(n,r),r&16&&T(t,1)):(t=sn(n),t.c(),T(t,1),t.m(e.parentNode,e)):t&&(me(),N(t,1,1,()=>{t=null}),_e())},i(n){T(t)},o(n){N(t)},d(n){n&&D(e),t&&t.d(n)}}}function pi(l,e,t){let n,r,i;Re(l,ae,b=>t(13,r=b)),Re(l,ot,b=>t(7,i=b));let o={resolution:"1080x1920",fps:30,quality:"high"},s=!1,c=0,a="";async function d(){if(r){t(1,s=!0),t(3,a="Preparing..."),t(2,c=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:o,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const $=await b.json(),P=setInterval(async()=>{const R=await(await fetch(`/api/export/status/${$.export_id}`)).json();t(2,c=R.progress||0),t(3,a=R.message||"Processing..."),R.status==="completed"?(clearInterval(P),t(1,s=!1),window.open(R.download_url,"_blank"),p()):R.status==="failed"&&(clearInterval(P),t(1,s=!1),t(3,a="Export failed"))},2e3)}catch(b){t(1,s=!1),t(3,a="Export failed"),console.error("Export error:",b)}}}function p(){s||ot.update(b=>({...b,isExporting:!1}))}function g(b){Wn.call(this,l,b)}const m=b=>t(0,o.resolution=b,o),h=b=>t(0,o.fps=b,o),k=b=>t(0,o.quality=b,o),w=b=>b.key==="Escape"&&p();return l.$$.update=()=>{l.$$.dirty&128&&t(4,n=i.isExporting)},[o,s,c,a,n,d,p,i,g,m,h,k,w]}class gi extends xe{constructor(e){super(),$e(this,e,pi,hi,be,{})}}function mi(l){let e,t;return e=new Er({props:{$$slots:{timeline:[$i],panel:[wi],preview:[yi],sidebar:[vi]},$$scope:{ctx:l}}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p(n,r){const i={};r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function _i(l){let e,t,n,r,i,o,s,c,a,d,p,g,m;return{c(){e=_("div"),t=_("h2"),t.textContent="Start Creating Magic",n=C(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,i=C(),o=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,c=C(),a=_("a"),a.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,d=C(),p=_("p"),p.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(t,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(a,"href","/dashboard"),f(a,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(o,"class","flex gap-4 mb-12 animate-bounce-in"),f(p,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(h,k){L(h,e,k),u(e,t),u(e,n),u(e,r),u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),u(e,d),u(e,p),g||(m=G(s,"click",l[3]),g=!0)},p:J,i:J,o:J,d(h){h&&D(e),g=!1,m()}}}function bi(l){let e,t;return{c(){e=_("div"),t=V(l[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){L(n,e,r),u(e,t)},p(n,r){r&2&&ue(t,n[1])},i:J,o:J,d(n){n&&D(e)}}}function ki(l){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(t,n){L(t,e,n)},p:J,i:J,o:J,d(t){t&&D(e)}}}function vi(l){let e,t;return e=new yr({props:{slot:"sidebar"}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p:J,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function yi(l){let e,t;return e=new Ar({props:{slot:"preview"}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p:J,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function wi(l){let e,t;return e=new oi({props:{slot:"panel"}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p:J,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function $i(l){let e,t;return e=new ci({props:{slot:"timeline"}}),{c(){le(e.$$.fragment)},m(n,r){X(e,n,r),t=!0},p:J,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){N(e.$$.fragment,n),t=!1},d(n){ee(e,n)}}}function xi(l){let e,t,n,r,i,o;const s=[ki,bi,_i,mi],c=[];function a(d,p){return d[0]?0:d[1]?1:d[2]?3:2}return t=a(l),n=c[t]=s[t](l),i=new gi({}),{c(){e=_("main"),n.c(),r=C(),le(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(d,p){L(d,e,p),c[t].m(e,null),L(d,r,p),X(i,d,p),o=!0},p(d,[p]){let g=t;t=a(d),t===g?c[t].p(d,p):(me(),N(c[g],1,1,()=>{c[g]=null}),_e(),n=c[t],n?n.p(d,p):(n=c[t]=s[t](d),n.c()),T(n,1),n.m(e,null))},i(d){o||(T(n),T(i.$$.fragment,d),o=!0)},o(d){N(n),N(i.$$.fragment,d),o=!1},d(d){d&&(D(e),D(r)),c[t].d(),ee(i,d)}}}function Ci(l,e,t){let n;Re(l,ae,a=>t(2,n=a));let r=null,i=!0,o=null;Bt(async()=>{const a=window.location.pathname.split("/"),d=a.indexOf("edit");d>-1&&a.length>d+1?(r=a[d+1],await s(r)):t(0,i=!1)});async function s(a){try{t(0,i=!0),console.log("Loading project:",a);const d=await fetch(`/api/editor_data/${a}`);if(console.log("Response status:",d.status),!d.ok)throw new Error("Failed to load project");const p=await d.json();console.log("Project data received:",p),console.log("Video URL:",p.video_url),console.log("Captions:",p.captions);const g=p.captions||[];console.log("Processing captions:",g.length,"items");let m=0;if(g.length>0){const k=g[g.length-1];if(k!=null&&k.words&&k.words.length>0){const w=k.words[k.words.length-1];m=(w==null?void 0:w.end)||0}else k!=null&&k.end&&(m=k.end)}console.log("Calculated duration:",m);const h={id:p.job_id,name:p.original_filename||"Untitled",videoUrl:p.video_url,videoDuration:m,captions:g,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:p.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date};console.log("Setting project store with:",h),ae.set(h),m&&We.update(k=>({...k,duration:m})),console.log("Project loaded successfully")}catch(d){console.error("Error loading project:",d),t(1,o=d instanceof Error?d.message:"Failed to load project")}finally{t(0,i=!1),console.log("Loading finished. currentProject:",n)}}return[i,o,n,()=>window.location.href="/upload"]}class Fi extends xe{constructor(e){super(),$e(this,e,Ci,xi,be,{})}}new Fi({target:document.getElementById("app")});
