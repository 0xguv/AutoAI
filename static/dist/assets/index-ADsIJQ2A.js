var _n=Object.defineProperty;var bn=(t,e,l)=>e in t?_n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var bt=(t,e,l)=>bn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=l(r);fetch(r.href,i)}})();function Z(){}const an=t=>t;function ne(t,e){for(const l in e)t[l]=e[l];return t}function cn(t){return t()}function jt(){return Object.create(null)}function ye(t){t.forEach(cn)}function Ct(t){return typeof t=="function"}function me(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let st;function Ge(t,e){return t===e?!0:(st||(st=document.createElement("a")),st.href=e,t===st.href)}function kn(t){return Object.keys(t).length===0}function vn(t,...e){if(t==null){for(const n of e)n(void 0);return Z}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Re(t,e,l){t.$$.on_destroy.push(vn(e,l))}function Ee(t,e,l,n){if(t){const r=un(t,e,l,n);return t[0](r)}}function un(t,e,l,n){return t[1]&&n?ne(l.ctx.slice(),t[1](n(e))):l.ctx}function Me(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)i[s]=e.dirty[s]|r[s];return i}return e.dirty|r}return e.dirty}function Te(t,e,l,n,r,i){if(r){const o=un(e,l,n,i);t.p(o,r)}}function Be(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function _e(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Ot(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const fn=typeof window<"u";let yn=fn?()=>window.performance.now():()=>Date.now(),Ft=fn?t=>requestAnimationFrame(t):Z;const qe=new Set;function dn(t){qe.forEach(e=>{e.c(t)||(qe.delete(e),e.f())}),qe.size!==0&&Ft(dn)}function wn(t){let e;return qe.size===0&&Ft(dn),{promise:new Promise(l=>{qe.add(e={c:t,f:l})}),abort(){qe.delete(e)}}}function u(t,e){t.appendChild(e)}function hn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $n(t){const e=_("style");return e.textContent="/* empty */",xn(hn(t),e),e.sheet}function xn(t,e){return u(t.head||t,e),e.sheet}function D(t,e,l){t.insertBefore(e,l||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function de(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function ft(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function U(t){return document.createTextNode(t)}function $(){return U(" ")}function St(){return U("")}function G(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Et(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function dt(t,e){for(const l in e)f(t,l,e[l])}function Cn(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ke(t,e){t.value=e??""}function oe(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function at(t,e,l){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function Fn(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function Ht(t,e){return new t(e)}const ht=new Map;let pt=0;function Sn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function En(t,e){const l={stylesheet:$n(e),rules:{}};return ht.set(t,l),l}function Ut(t,e,l,n,r,i,o,s=0){const c=16.666/n;let a=`{
`;for(let v=0;v<=1;v+=c){const b=e+(l-e)*i(v);a+=v*100+`%{${o(b,1-b)}}
`}const h=a+`100% {${o(l,1-l)}}
}`,m=`__svelte_${Sn(h)}_${s}`,p=hn(t),{stylesheet:g,rules:d}=ht.get(p)||En(p,t);d[m]||(d[m]=!0,g.insertRule(`@keyframes ${m} ${h}`,g.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${m} ${n}ms linear ${r}ms 1 both`,pt+=1,m}function Mn(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=l.length-n.length;r&&(t.style.animation=n.join(", "),pt-=r,pt||Tn())}function Tn(){Ft(()=>{pt||(ht.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&N(e)}),ht.clear())})}let nt;function lt(t){nt=t}function Bn(){if(!nt)throw new Error("Function called outside component initialization");return nt}function Mt(t){Bn().$$.on_mount.push(t)}function Rn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const Ve=[],gt=[];let Ye=[];const Vt=[],zn=Promise.resolve();let wt=!1;function Wn(){wt||(wt=!0,zn.then(pn))}function Ze(t){Ye.push(t)}const kt=new Set;let He=0;function pn(){if(He!==0)return;const t=nt;do{try{for(;He<Ve.length;){const e=Ve[He];He++,lt(e),Nn(e.$$)}}catch(e){throw Ve.length=0,He=0,e}for(lt(null),Ve.length=0,He=0;gt.length;)gt.pop()();for(let e=0;e<Ye.length;e+=1){const l=Ye[e];kt.has(l)||(kt.add(l),l())}Ye.length=0}while(Ve.length);for(;Vt.length;)Vt.pop()();wt=!1,kt.clear(),lt(t)}function Nn(t){if(t.fragment!==null){t.update(),ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function Dn(t){const e=[],l=[];Ye.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Ye=e}let tt;function Ln(){return tt||(tt=Promise.resolve(),tt.then(()=>{tt=null})),tt}function vt(t,e,l){t.dispatchEvent(Fn(`${e?"intro":"outro"}${l}`))}const ut=new Set;let Ae;function ke(){Ae={r:0,c:[],p:Ae}}function ve(){Ae.r||ye(Ae.c),Ae=Ae.p}function z(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function L(t,e,l,n){if(t&&t.o){if(ut.has(t))return;ut.add(t),Ae.c.push(()=>{ut.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const Pn={duration:0};function ct(t,e,l,n){let i=e(t,l,{direction:"both"}),o=n?0:1,s=null,c=null,a=null,h;function m(){a&&Mn(t,a)}function p(d,k){const v=d.b-o;return k*=Math.abs(v),{a:o,b:d.b,d:v,duration:k,start:d.start,end:d.start+k,group:d.group}}function g(d){const{delay:k=0,duration:v=300,easing:b=an,tick:y=Z,css:W}=i||Pn,M={start:yn()+k,b:d};d||(M.group=Ae,Ae.r+=1),"inert"in t&&(d?h!==void 0&&(t.inert=h):(h=t.inert,t.inert=!0)),s||c?c=M:(W&&(m(),a=Ut(t,o,d,v,k,b,W)),d&&y(0,1),s=p(M,v),Ze(()=>vt(t,d,"start")),wn(T=>{if(c&&T>c.start&&(s=p(c,v),c=null,vt(t,s.b,"start"),W&&(m(),a=Ut(t,o,s.b,s.duration,0,b,i.css))),s){if(T>=s.end)y(o=s.b,1-o),vt(t,s.b,"end"),c||(s.b?m():--s.group.r||ye(s.group.c)),s=null;else if(T>=s.start){const F=T-s.start;o=s.a+s.d*b(F/s.duration),y(o,1-o)}}return!!(s||c)}))}return{run(d){Ct(i)?Ln().then(()=>{i=i({direction:d?"in":"out"}),g(d)}):g(d)},end(){m(),s=c=null}}}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gn(t,e){t.d(1),e.delete(t.key)}function An(t,e){L(t,1,1,()=>{e.delete(t.key)})}function Tt(t,e,l,n,r,i,o,s,c,a,h,m){let p=t.length,g=i.length,d=p;const k={};for(;d--;)k[t[d].key]=d;const v=[],b=new Map,y=new Map,W=[];for(d=g;d--;){const E=m(r,i,d),C=l(E);let P=o.get(C);P?W.push(()=>P.p(E,e)):(P=a(C,E),P.c()),b.set(C,v[d]=P),C in k&&y.set(C,Math.abs(d-k[C]))}const M=new Set,T=new Set;function F(E){z(E,1),E.m(s,h),o.set(E.key,E),h=E.first,g--}for(;p&&g;){const E=v[g-1],C=t[p-1],P=E.key,O=C.key;E===C?(h=E.first,p--,g--):b.has(O)?!o.has(P)||M.has(P)?F(E):T.has(O)?p--:y.get(P)>y.get(O)?(T.add(P),F(E)):(M.add(O),p--):(c(C,o),p--)}for(;p--;){const E=t[p];b.has(E.key)||c(E,o)}for(;g;)F(v[g-1]);return ye(W),v}function Ie(t,e){const l={},n={},r={$$scope:1};let i=t.length;for(;i--;){const o=t[i],s=e[i];if(s){for(const c in o)c in s||(n[c]=1);for(const c in s)r[c]||(l[c]=s[c],r[c]=1);t[i]=s}else for(const c in o)r[c]=1}for(const o in n)o in l||(l[o]=void 0);return l}function je(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function X(t,e,l){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,l),Ze(()=>{const i=t.$$.on_mount.map(cn).filter(Ct);t.$$.on_destroy?t.$$.on_destroy.push(...i):ye(i),t.$$.on_mount=[]}),r.forEach(Ze)}function ee(t,e){const l=t.$$;l.fragment!==null&&(Dn(l.after_update),ye(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function In(t,e){t.$$.dirty[0]===-1&&(Ve.push(t),Wn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function we(t,e,l,n,r,i,o=null,s=[-1]){const c=nt;lt(t);const a=t.$$={fragment:null,ctx:[],props:i,update:Z,not_equal:r,bound:jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:jt(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(a.root);let h=!1;if(a.ctx=l?l(t,e.props||{},(m,p,...g)=>{const d=g.length?g[0]:p;return a.ctx&&r(a.ctx[m],a.ctx[m]=d)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](d),h&&In(t,m)),p}):[],a.update(),h=!0,ye(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const m=Cn(e.target);a.fragment&&a.fragment.l(m),m.forEach(N)}else a.fragment&&a.fragment.c();e.intro&&z(t.$$.fragment),X(t,e.target,e.anchor),pn()}lt(c)}class $e{constructor(){bt(this,"$$");bt(this,"$$set")}$destroy(){ee(this,1),this.$destroy=Z}$on(e,l){if(!Ct(l))return Z;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!kn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const jn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jn);const Ue=[];function it(t,e=Z){let l;const n=new Set;function r(s){if(me(t,s)&&(t=s,l)){const c=!Ue.length;for(const a of n)a[1](),Ue.push(a,t);if(c){for(let a=0;a<Ue.length;a+=2)Ue[a][0](Ue[a+1]);Ue.length=0}}}function i(s){r(s(t))}function o(s,c=Z){const a=[s,c];return n.add(a),n.size===1&&(l=e(r,i)||Z),s(t),()=>{n.delete(a),n.size===0&&l&&(l(),l=null)}}return{set:r,update:i,subscribe:o}}const $t={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},qt={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1};function On(){const{subscribe:t,set:e,update:l}=it({id:null,name:"",videoUrl:"",videoDuration:0,captions:[],bRollClips:[],zoomEffects:[],soundEffects:[],style:qt,resolution:"1080x1920",createdAt:new Date,updatedAt:new Date});return{subscribe:t,set:e,update:l,updateCaption:(n,r)=>{l(i=>{if(!i)return i;const o=i.captions.map(s=>s.id===n?{...s,...r}:s);return{...i,captions:o,updatedAt:new Date}})},updateStyle:n=>{l(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{l(r=>{if(!r)return r;const i=$t[n];return i?{...r,style:{...qt,...i},updatedAt:new Date}:r})},addBRoll:n=>{l(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{l(r=>r&&{...r,bRollClips:r.bRollClips.filter(i=>i.id!==n),updatedAt:new Date})},updateWordEmoji:(n,r,i)=>{l(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((h,m)=>m===r?{...h,emoji:i||null}:h);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateWordIsKeyword:(n,r,i)=>{l(o=>{if(!o)return o;const s=o.captions.map(c=>{if(c.id===n){const a=c.words.map((h,m)=>m===r?{...h,isKeyword:i}:h);return{...c,words:a}}return c});return{...o,captions:s,updatedAt:new Date}})},updateBRollClipStart:(n,r)=>{l(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(0,r);return{...s,start:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},updateBRollClipDuration:(n,r)=>{l(i=>{if(!i)return i;const o=i.bRollClips.map(s=>{if(s.id===n){const c=Math.max(.1,r);return{...s,duration:c}}return s});return{...i,bRollClips:o,updatedAt:new Date}})},addZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:[...r.zoomEffects,n],updatedAt:new Date})},removeZoomEffect:n=>{l(r=>r&&{...r,zoomEffects:r.zoomEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateZoomEffect:(n,r)=>{l(i=>{if(!i)return i;const o=i.zoomEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,zoomEffects:o,updatedAt:new Date}})},addSoundEffect:n=>{l(r=>r&&{...r,soundEffects:[...r.soundEffects,n],updatedAt:new Date})},removeSoundEffect:n=>{l(r=>r&&{...r,soundEffects:r.soundEffects.filter(i=>i.id!==n),updatedAt:new Date})},updateSoundEffect:(n,r)=>{l(i=>{if(!i)return i;const o=i.soundEffects.map(s=>s.id===n?{...s,...r}:s);return{...i,soundEffects:o,updatedAt:new Date}})}}}const ce=On();function Hn(){const{subscribe:t,set:e,update:l}=it({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:l,setCurrentTime:n=>l(r=>({...r,currentTime:n})),setPlaying:n=>l(r=>({...r,isPlaying:n})),togglePlay:()=>l(n=>({...n,isPlaying:!n.isPlaying}))}}const We=Hn(),xt=it("captions"),rt=it({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1});/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Gt(t,e,l){const n=t.slice();return n[10]=e[l][0],n[11]=e[l][1],n}function yt(t){let e,l=[t[11]],n={};for(let r=0;r<l.length;r+=1)n=ne(n,l[r]);return{c(){e=ft(t[10]),dt(e,n)},m(r,i){D(r,e,i)},p(r,i){dt(e,n=Ie(l,[i&32&&r[11]]))},d(r){r&&N(e)}}}function Kt(t){let e=t[10],l,n=t[10]&&yt(t);return{c(){n&&n.c(),l=St()},m(r,i){n&&n.m(r,i),D(r,l,i)},p(r,i){r[10]?e?me(e,r[10])?(n.d(1),n=yt(r),e=r[10],n.c(),n.m(l.parentNode,l)):n.p(r,i):(n=yt(r),e=r[10],n.c(),n.m(l.parentNode,l)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&N(l),n&&n.d(r)}}}function Un(t){let e,l,n,r,i,o=V(t[5]),s=[];for(let p=0;p<o.length;p+=1)s[p]=Kt(Gt(t,o,p));const c=t[9].default,a=Ee(c,t,t[8],null);let h=[Yt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],m={};for(let p=0;p<h.length;p+=1)m=ne(m,h[p]);return{c(){e=ft("svg");for(let p=0;p<s.length;p+=1)s[p].c();l=St(),a&&a.c(),dt(e,m)},m(p,g){D(p,e,g);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);u(e,l),a&&a.m(e,null),i=!0},p(p,[g]){if(g&32){o=V(p[5]);let d;for(d=0;d<o.length;d+=1){const k=Gt(p,o,d);s[d]?s[d].p(k,g):(s[d]=Kt(k),s[d].c(),s[d].m(e,l))}for(;d<s.length;d+=1)s[d].d(1);s.length=o.length}a&&a.p&&(!i||g&256)&&Te(a,c,p,p[8],i?Me(c,p[8],g,null):Be(p[8]),null),dt(e,m=Ie(h,[Yt,g&64&&p[6],(!i||g&4)&&{width:p[2]},(!i||g&4)&&{height:p[2]},(!i||g&2)&&{stroke:p[1]},(!i||g&28&&n!==(n=p[4]?Number(p[3])*24/Number(p[2]):p[3]))&&{"stroke-width":n},(!i||g&129&&r!==(r=`lucide-icon lucide lucide-${p[0]} ${p[7].class??""}`))&&{class:r}]))},i(p){i||(z(a,p),i=!0)},o(p){L(a,p),i=!1},d(p){p&&N(e),de(s,p),a&&a.d(p)}}}function Vn(t,e,l){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=Ot(e,n),{$$slots:i={},$$scope:o}=e,{name:s}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:h=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:p}=e;return t.$$set=g=>{l(7,e=ne(ne({},e),_e(g))),l(6,r=Ot(e,n)),"name"in g&&l(0,s=g.name),"color"in g&&l(1,c=g.color),"size"in g&&l(2,a=g.size),"strokeWidth"in g&&l(3,h=g.strokeWidth),"absoluteStrokeWidth"in g&&l(4,m=g.absoluteStrokeWidth),"iconNode"in g&&l(5,p=g.iconNode),"$$scope"in g&&l(8,o=g.$$scope)},e=_e(e),[s,c,a,h,m,p,r,e,o,i]}class Oe extends $e{constructor(e){super(),we(this,e,Vn,Un,me,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function qn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function Yn(t){let e,l;const n=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[qn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Gn(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class Bt extends $e{constructor(e){super(),we(this,e,Gn,Yn,me,{})}}function Kn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function Zn(t){let e,l;const n=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Kn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function Jn(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class ot extends $e{constructor(e){super(),we(this,e,Jn,Zn,me,{})}}function Qn(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function Xn(t){let e,l;const n=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Qn]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function er(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class tr extends $e{constructor(e){super(),we(this,e,er,Xn,me,{})}}function lr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function nr(t){let e,l;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[lr]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function rr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class mn extends $e{constructor(e){super(),we(this,e,rr,nr,me,{})}}function ir(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function or(t){let e,l;const n=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[ir]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function sr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class mt extends $e{constructor(e){super(),we(this,e,sr,or,me,{})}}function ar(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function cr(t){let e,l;const n=[{name:"trash-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[ar]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function ur(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class fr extends $e{constructor(e){super(),we(this,e,ur,cr,me,{})}}function dr(t){let e;const l=t[2].default,n=Ee(l,t,t[3],null);return{c(){n&&n.c()},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&8)&&Te(n,l,r,r[3],e?Me(l,r[3],i,null):Be(r[3]),null)},i(r){e||(z(n,r),e=!0)},o(r){L(n,r),e=!1},d(r){n&&n.d(r)}}}function hr(t){let e,l;const n=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[dr]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)r=ne(r,n[i]);return e=new Oe({props:r}),{c(){te(e.$$.fragment)},m(i,o){X(e,i,o),l=!0},p(i,[o]){const s=o&3?Ie(n,[n[0],o&2&&je(i[1]),o&1&&{iconNode:i[0]}]):{};o&8&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(z(e.$$.fragment,i),l=!0)},o(i){L(e.$$.fragment,i),l=!1},d(i){ee(e,i)}}}function pr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=o=>{l(1,e=ne(ne({},e),_e(o))),"$$scope"in o&&l(3,r=o.$$scope)},e=_e(e),[i,e,n,r]}class gr extends $e{constructor(e){super(),we(this,e,pr,hr,me,{})}}function Zt(t,e,l){const n=t.slice();return n[3]=e[l],n}function Jt(t){let e,l,n,r,i,o,s,c,a;var h=t[3].icon;function m(g,d){return{props:{class:"w-5 h-5"}}}h&&(l=Ht(h,m()));function p(){return t[2](t[3])}return{c(){e=_("button"),l&&te(l.$$.fragment),n=$(),r=_("span"),r.textContent=`${t[3].label}`,i=$(),f(r,"class","absolute left-14 px-2 py-1 bg-dark-lighter text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")),f(e,"title",t[3].label)},m(g,d){D(g,e,d),l&&X(l,e,null),u(e,n),u(e,r),u(e,i),s=!0,c||(a=G(e,"click",p),c=!0)},p(g,d){if(t=g,h!==(h=t[3].icon)){if(l){ke();const k=l;L(k.$$.fragment,1,0,()=>{ee(k,1)}),ve()}h?(l=Ht(h,m()),te(l.$$.fragment),z(l.$$.fragment,1),X(l,e,n)):l=null}(!s||d&1&&o!==(o="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-primary-dark text-white":"text-dark-text-light hover:text-white hover:bg-dark-lighter")))&&f(e,"class",o)},i(g){s||(l&&z(l.$$.fragment,g),s=!0)},o(g){l&&L(l.$$.fragment,g),s=!1},d(g){g&&N(e),l&&ee(l),c=!1,a()}}}function mr(t){let e,l,n,r,i,o,s,c,a,h,m,p,g=V(t[1]),d=[];for(let v=0;v<g.length;v+=1)d[v]=Jt(Zt(t,g,v));const k=v=>L(d[v],1,1,()=>{d[v]=null});return{c(){e=_("div"),l=_("div"),l.innerHTML='<a href="/" class="text-primary"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=$(),r=_("nav");for(let v=0;v<d.length;v+=1)d[v].c();i=$(),o=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',c=$(),a=_("button"),a.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(l,"class","h-14 flex items-center justify-center border-b border-dark-lighter"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-white hover:bg-dark-lighter transition"),f(s,"title","Profile"),f(a,"class","w-12 h-12 rounded-xl text-dark-text-light flex items-center justify-center hover:text-danger hover:bg-dark-lighter transition"),f(a,"title","Logout"),f(o,"class","flex flex-col items-center py-4 gap-2 border-t border-dark-lighter"),f(e,"class","flex flex-col h-full bg-dark-light text-dark-text")},m(v,b){D(v,e,b),u(e,l),u(e,n),u(e,r);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(r,null);u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),h=!0,m||(p=G(a,"click",_r),m=!0)},p(v,[b]){if(b&3){g=V(v[1]);let y;for(y=0;y<g.length;y+=1){const W=Zt(v,g,y);d[y]?(d[y].p(W,b),z(d[y],1)):(d[y]=Jt(W),d[y].c(),z(d[y],1),d[y].m(r,null))}for(ke(),y=g.length;y<d.length;y+=1)k(y);ve()}},i(v){if(!h){for(let b=0;b<g.length;b+=1)z(d[b]);h=!0}},o(v){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)L(d[b]);h=!1},d(v){v&&N(e),de(d,v),m=!1,p()}}}function _r(){window.location.href="/logout"}function br(t,e,l){let n;return Re(t,xt,o=>l(0,n=o)),[n,[{id:"captions",label:"Captions",icon:gr},{id:"style",label:"Style",icon:tr},{id:"broll",label:"B-Roll",icon:Bt},{id:"ai-tools",label:"AI Tools",icon:mt}],o=>xt.set(o.id)]}class kr extends $e{constructor(e){super(),we(this,e,br,mr,me,{})}}const vr=t=>({}),Qt=t=>({}),yr=t=>({}),Xt=t=>({}),wr=t=>({}),el=t=>({}),$r=t=>({}),tl=t=>({});function xr(t){let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y,W;const M=t[1].sidebar,T=Ee(M,t,t[0],tl),F=t[1].panel,E=Ee(F,t,t[0],el),C=t[1].preview,P=Ee(C,t,t[0],Xt),O=t[1].timeline,A=Ee(O,t,t[0],Qt);return{c(){e=_("div"),l=_("aside"),T&&T.c(),n=$(),r=_("aside"),E&&E.c(),i=$(),o=_("div"),s=_("div"),c=_("header"),a=_("div"),a.innerHTML='<h1 class="font-semibold text-lg text-dark-text-light">Video Editor</h1> <span class="text-xs text-dark-text">Auto-save enabled</span>',h=$(),m=_("div"),p=_("button"),p.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            Export Video`,g=$(),d=_("div"),P&&P.c(),k=$(),v=_("aside"),A&&A.c(),f(l,"class","w-16 flex-shrink-0 border-r border-dark-lighter bg-dark-light"),f(r,"class","w-80 flex-shrink-0 border-r border-dark-lighter bg-dark-light overflow-y-auto"),f(a,"class","flex items-center gap-4"),f(p,"class","px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark transition flex items-center gap-2"),f(m,"class","flex items-center gap-2"),f(c,"class","h-14 border-b border-dark-lighter flex items-center justify-between px-4 bg-dark-light"),f(d,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(s,"class","flex-1 flex flex-col min-w-0 bg-dark"),f(v,"class","w-72 flex-shrink-0 border-l border-dark-lighter bg-dark-light"),f(o,"class","flex-1 flex min-w-0"),f(e,"class","flex h-screen w-full bg-dark")},m(S,B){D(S,e,B),u(e,l),T&&T.m(l,null),u(e,n),u(e,r),E&&E.m(r,null),u(e,i),u(e,o),u(o,s),u(s,c),u(c,a),u(c,h),u(c,m),u(m,p),u(s,g),u(s,d),P&&P.m(d,null),u(o,k),u(o,v),A&&A.m(v,null),b=!0,y||(W=G(p,"click",t[2]),y=!0)},p(S,[B]){T&&T.p&&(!b||B&1)&&Te(T,M,S,S[0],b?Me(M,S[0],B,$r):Be(S[0]),tl),E&&E.p&&(!b||B&1)&&Te(E,F,S,S[0],b?Me(F,S[0],B,wr):Be(S[0]),el),P&&P.p&&(!b||B&1)&&Te(P,C,S,S[0],b?Me(C,S[0],B,yr):Be(S[0]),Xt),A&&A.p&&(!b||B&1)&&Te(A,O,S,S[0],b?Me(O,S[0],B,vr):Be(S[0]),Qt)},i(S){b||(z(T,S),z(E,S),z(P,S),z(A,S),b=!0)},o(S){L(T,S),L(E,S),L(P,S),L(A,S),b=!1},d(S){S&&N(e),T&&T.d(S),E&&E.d(S),P&&P.d(S),A&&A.d(S),y=!1,W()}}}function Cr(t,e,l){let{$$slots:n={},$$scope:r}=e;const i=()=>rt.update(o=>({...o,isExporting:!0}));return t.$$set=o=>{"$$scope"in o&&l(0,r=o.$$scope)},[r,n,i]}class Fr extends $e{constructor(e){super(),we(this,e,Cr,xr,me,{})}}function ll(t,e,l){const n=t.slice();return n[21]=e[l],n}function Sr(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="text-center"><svg class="w-16 h-16 text-gray-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-white text-lg">No video loaded</p></div>',f(e,"class","w-full h-full flex items-center justify-center bg-black")},m(l,n){D(l,e,n)},p:Z,d(l){l&&N(e)}}}function Er(t){let e,l,n;return{c(){e=_("video"),l=_("track"),f(l,"kind","captions"),Ge(e.src,n=t[0].videoUrl)||f(e,"src",n),f(e,"class","w-full h-full object-contain"),f(e,"crossorigin","anonymous"),e.playsInline=!0,e.controls=!0},m(r,i){D(r,e,i),u(e,l),t[12](e)},p(r,i){i&1&&!Ge(e.src,n=r[0].videoUrl)&&f(e,"src",n)},d(r){r&&N(e),t[12](null)}}}function nl(t){let e,l;function n(o,s){var c,a;return(a=(c=o[0])==null?void 0:c.style)!=null&&a.wordByWord&&o[2].words?Tr:Mr}let r=n(t),i=r(t);return{c(){var o,s,c,a;e=_("div"),i.c(),f(e,"class","absolute left-4 right-4 text-center pointer-events-none"),f(e,"style",l=t[7]()+" "+(((s=(o=t[0])==null?void 0:o.style)==null?void 0:s.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((a=(c=t[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))},m(o,s){D(o,e,s),i.m(e,null)},p(o,s){var c,a,h,m;r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e,null))),s&1&&l!==(l=o[7]()+" "+(((a=(c=o[0])==null?void 0:c.style)==null?void 0:a.textShadow)==="heavy"?"text-shadow: 3px 3px 6px rgba(0,0,0,0.9);":((m=(h=o[0])==null?void 0:h.style)==null?void 0:m.textShadow)==="light"?"text-shadow: 1px 1px 2px rgba(0,0,0,0.5);":"text-shadow: 2px 2px 4px rgba(0,0,0,0.7);"))&&f(e,"style",l)},d(o){o&&N(e),i.d()}}}function Mr(t){let e,l=t[2].text+"",n;return{c(){var r,i,o,s,c,a,h,m;e=_("p"),n=U(l),f(e,"class","leading-tight"),oe(e,"font-family",(((i=(r=t[0])==null?void 0:r.style)==null?void 0:i.fontFamily)||"Inter")+", sans-serif"),oe(e,"font-size",(((s=(o=t[0])==null?void 0:o.style)==null?void 0:s.fontSize)||42)+"px"),oe(e,"font-weight",((a=(c=t[0])==null?void 0:c.style)==null?void 0:a.fontWeight)||"bold"),oe(e,"color",((m=(h=t[0])==null?void 0:h.style)==null?void 0:m.color)||"#FFFFFF")},m(r,i){D(r,e,i),u(e,n)},p(r,i){var o,s,c,a,h,m,p,g;i&4&&l!==(l=r[2].text+"")&&ue(n,l),i&1&&oe(e,"font-family",(((s=(o=r[0])==null?void 0:o.style)==null?void 0:s.fontFamily)||"Inter")+", sans-serif"),i&1&&oe(e,"font-size",(((a=(c=r[0])==null?void 0:c.style)==null?void 0:a.fontSize)||42)+"px"),i&1&&oe(e,"font-weight",((m=(h=r[0])==null?void 0:h.style)==null?void 0:m.fontWeight)||"bold"),i&1&&oe(e,"color",((g=(p=r[0])==null?void 0:p.style)==null?void 0:g.color)||"#FFFFFF")},d(r){r&&N(e)}}}function Tr(t){let e,l=V(t[2].words),n=[];for(let r=0;r<l.length;r+=1)n[r]=rl(ll(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","flex flex-wrap justify-center gap-1")},m(r,i){D(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i&773){l=V(r[2].words);let o;for(o=0;o<l.length;o+=1){const s=ll(r,l,o);n[o]?n[o].p(s,i):(n[o]=rl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&N(e),de(n,r)}}}function rl(t){let e,l=t[21].text+"",n,r,i,o;return{c(){var s,c,a,h,m,p,g,d,k,v,b,y,W,M,T,F,E,C,P,O,A,S;e=_("span"),n=U(l),r=$(),f(e,"class",i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+t[9](t[21])+" svelte-1q1neid"),f(e,"style",o="font-family: "+(((c=(s=t[0])==null?void 0:s.style)==null?void 0:c.fontFamily)||"Inter")+", sans-serif; font-size: "+(((h=(a=t[0])==null?void 0:a.style)==null?void 0:h.fontSize)||42)+"px; font-weight: "+(((p=(m=t[0])==null?void 0:m.style)==null?void 0:p.fontWeight)||"bold")+"; color: "+(t[8](t[21])&&((d=(g=t[0])==null?void 0:g.style)!=null&&d.highlightWords)?((v=(k=t[0])==null?void 0:k.style)==null?void 0:v.highlightColor)||"#FFD700":((y=(b=t[0])==null?void 0:b.style)==null?void 0:y.color)||"#FFFFFF")+"; background-color: "+(t[8](t[21])&&((M=(W=t[0])==null?void 0:W.style)!=null&&M.highlightWords)?((F=(T=t[0])==null?void 0:T.style)==null?void 0:F.highlightColor)||"#FFD700":"transparent")+"; "+(t[8](t[21])&&((C=(E=t[0])==null?void 0:E.style)!=null&&C.highlightWords)&&((O=(P=t[0])==null?void 0:P.style)==null?void 0:O.color)===((S=(A=t[0])==null?void 0:A.style)==null?void 0:S.highlightColor)?"color: #000000;":""))},m(s,c){D(s,e,c),u(e,n),u(e,r)},p(s,c){var a,h,m,p,g,d,k,v,b,y,W,M,T,F,E,C,P,O,A,S,B,w;c&4&&l!==(l=s[21].text+"")&&ue(n,l),c&4&&i!==(i="inline-block px-1 py-0.5 rounded transition-all duration-150 "+s[9](s[21])+" svelte-1q1neid")&&f(e,"class",i),c&5&&o!==(o="font-family: "+(((h=(a=s[0])==null?void 0:a.style)==null?void 0:h.fontFamily)||"Inter")+", sans-serif; font-size: "+(((p=(m=s[0])==null?void 0:m.style)==null?void 0:p.fontSize)||42)+"px; font-weight: "+(((d=(g=s[0])==null?void 0:g.style)==null?void 0:d.fontWeight)||"bold")+"; color: "+(s[8](s[21])&&((v=(k=s[0])==null?void 0:k.style)!=null&&v.highlightWords)?((y=(b=s[0])==null?void 0:b.style)==null?void 0:y.highlightColor)||"#FFD700":((M=(W=s[0])==null?void 0:W.style)==null?void 0:M.color)||"#FFFFFF")+"; background-color: "+(s[8](s[21])&&((F=(T=s[0])==null?void 0:T.style)!=null&&F.highlightWords)?((C=(E=s[0])==null?void 0:E.style)==null?void 0:C.highlightColor)||"#FFD700":"transparent")+"; "+(s[8](s[21])&&((O=(P=s[0])==null?void 0:P.style)!=null&&O.highlightWords)&&((S=(A=s[0])==null?void 0:A.style)==null?void 0:S.color)===((w=(B=s[0])==null?void 0:B.style)==null?void 0:w.highlightColor)?"color: #000000;":""))&&f(e,"style",o)},d(s){s&&N(e)}}}function il(t){let e,l,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40 z-10")},m(r,i){D(r,e,i),l||(n=G(e,"click",t[6]),l=!0)},p:Z,d(r){r&&N(e),l=!1,n()}}}function ol(t){let e,l,n,r;return{c(){e=_("div"),l=_("div"),f(l,"class","h-full bg-primary transition-all duration-75"),oe(l,"width",t[4]+"%"),f(e,"class","absolute bottom-0 left-0 right-0 h-1.5 bg-gray-700 cursor-pointer z-20 hover:h-2 transition-all")},m(i,o){D(i,e,o),u(e,l),n||(r=G(e,"click",t[5]),n=!0)},p(i,o){o&16&&oe(l,"width",i[4]+"%")},d(i){i&&N(e),n=!1,r()}}}function Br(t){var y,W;let e,l,n,r,i,o=Math.floor(t[1].currentTime/60)+"",s,c,a=(Math.floor(t[1].currentTime)%60).toString().padStart(2,"0")+"",h,m;function p(M,T){var F;return(F=M[0])!=null&&F.videoUrl?Er:Sr}let g=p(t),d=g(t),k=t[2]&&nl(t),v=!t[1].isPlaying&&il(t),b=((y=t[0])==null?void 0:y.videoUrl)&&((W=t[1])==null?void 0:W.duration)>0&&ol(t);return{c(){e=_("div"),d.c(),l=$(),k&&k.c(),n=$(),v&&v.c(),r=$(),i=_("div"),s=U(o),c=U(":"),h=U(a),m=$(),b&&b.c(),f(i,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded z-10"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(M,T){D(M,e,T),d.m(e,null),u(e,l),k&&k.m(e,null),u(e,n),v&&v.m(e,null),u(e,r),u(e,i),u(i,s),u(i,c),u(i,h),u(e,m),b&&b.m(e,null)},p(M,[T]){var F,E;g===(g=p(M))&&d?d.p(M,T):(d.d(1),d=g(M),d&&(d.c(),d.m(e,l))),M[2]?k?k.p(M,T):(k=nl(M),k.c(),k.m(e,n)):k&&(k.d(1),k=null),M[1].isPlaying?v&&(v.d(1),v=null):v?v.p(M,T):(v=il(M),v.c(),v.m(e,r)),T&2&&o!==(o=Math.floor(M[1].currentTime/60)+"")&&ue(s,o),T&2&&a!==(a=(Math.floor(M[1].currentTime)%60).toString().padStart(2,"0")+"")&&ue(h,a),(F=M[0])!=null&&F.videoUrl&&((E=M[1])==null?void 0:E.duration)>0?b?b.p(M,T):(b=ol(M),b.c(),b.m(e,null)):b&&(b.d(1),b=null)},i:Z,o:Z,d(M){M&&N(e),d.d(),k&&k.d(),v&&v.d(),b&&b.d()}}}function Rr(t,e,l){let n,r,i,o,s,c;Re(t,We,F=>l(10,s=F)),Re(t,ce,F=>l(11,c=F));let a;function h(){We.setPlaying(!0)}function m(){We.setPlaying(!1)}function p(){a&&We.setCurrentTime(a.currentTime)}function g(){a&&We.update(F=>({...F,duration:a.duration}))}function d(F){var E;a&&((E=F.detail)==null?void 0:E.time)!=null&&l(3,a.currentTime=F.detail.time,a)}function k(F){F.code==="Space"&&F.target===document.body&&(F.preventDefault(),b())}function v(F){if(!a||!r.duration)return;const E=F.currentTarget.getBoundingClientRect(),O=(F.clientX-E.left)/E.width*r.duration;l(3,a.currentTime=O,a),We.setCurrentTime(O)}Mt(()=>(window.addEventListener("timeline-seek",d),window.addEventListener("keydown",k),a&&(a.addEventListener("timeupdate",p),a.addEventListener("loadedmetadata",g),a.addEventListener("play",h),a.addEventListener("pause",m)),()=>{window.removeEventListener("timeline-seek",d),window.removeEventListener("keydown",k),a&&(a.removeEventListener("timeupdate",p),a.removeEventListener("loadedmetadata",g),a.removeEventListener("play",h),a.removeEventListener("pause",m))}));function b(){a&&(a.paused?a.play():a.pause())}function y(){var E;switch(((E=n==null?void 0:n.style)==null?void 0:E.position)||"bottom"){case"top":return"top: 10%;";case"middle":return"top: 50%; transform: translateY(-50%);";case"bottom":default:return"bottom: 10%;"}}function W(F){return(r==null?void 0:r.currentTime)>=F.start&&(r==null?void 0:r.currentTime)<=F.end}function M(F){var C;if(!W(F))return"";switch(((C=n==null?void 0:n.style)==null?void 0:C.animation)||"none"){case"pop":return"animate-pop";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade";case"bounce":return"animate-bounce";default:return""}}function T(F){gt[F?"unshift":"push"](()=>{a=F,l(3,a)})}return t.$$.update=()=>{var F,E;t.$$.dirty&2048&&l(0,n=c),t.$$.dirty&1024&&l(1,r=s),t.$$.dirty&2&&l(4,i=(r==null?void 0:r.duration)>0?r.currentTime/r.duration*100:0),t.$$.dirty&3&&l(2,o=(F=n==null?void 0:n.captions)==null?void 0:F.find(C=>(r==null?void 0:r.currentTime)>=C.start&&(r==null?void 0:r.currentTime)<=C.end)),t.$$.dirty&6&&(E=o==null?void 0:o.words)!=null&&E.filter(C=>(r==null?void 0:r.currentTime)>=C.start&&(r==null?void 0:r.currentTime)<=C.end)},[n,r,o,a,i,v,b,y,W,M,s,c,T]}class zr extends $e{constructor(e){super(),we(this,e,Rr,Br,me,{})}}const sl=it(null);function Je(t){const e=Math.floor(t/60),l=Math.floor(t%60),n=Math.floor(t%1*100);return`${e}:${l.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function al(t,e,l){const n=t.slice();return n[65]=e[l],n}function cl(t,e,l){const n=t.slice();return n[62]=e[l],n}function ul(t,e,l){const n=t.slice();return n[62]=e[l],n}function fl(t,e,l){const n=t.slice();return n[46]=e[l],n}function dl(t,e,l){const n=t.slice();return n[49]=e[l],n}function hl(t,e,l){const n=t.slice();return n[52]=e[l],n}function pl(t,e,l){const n=t.slice();return n[55]=e[l],n}function gl(t,e,l){const n=t.slice();return n[58]=e[l][0],n[59]=e[l][1],n}function ml(t,e,l){const n=t.slice();return n[34]=e[l],n}function _l(t,e,l){const n=t.slice();return n[37]=e[l],n[39]=l,n}function bl(t,e,l){const n=t.slice();return n[34]=e[l],n}function kl(t,e,l){const n=t.slice();return n[37]=e[l],n[42]=e,n[39]=l,n}function vl(t,e,l){const n=t.slice();return n[43]=e[l],n}function Wr(t){let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y,W,M,T,F,E,C,P,O;const A=[Ar,Pr],S=[];function B(Y,re){return Y[0]?0:1}i=B(t),o=S[i]=A[i](t);const w=[jr,Ir],x=[];function I(Y,re){return Y[1]?0:1}a=I(t),h=x[a]=w[a](t);const J=[Hr,Or],se=[];function Se(Y,re){return Y[2]?0:1}d=Se(t),k=se[d]=J[d](t);const K=[Vr,Ur],R=[];function Q(Y,re){return generatingEffects?0:1}W=Q(),M=R[W]=K[W](t);let q=t[6].length>0&&yl(t),ae=t[9]&&$l(t);return{c(){var Y,re,Ce,Ne,Fe,fe;e=_("div"),l=_("h3"),l.textContent="AI Magic Tools",n=$(),r=_("button"),o.c(),s=$(),c=_("button"),h.c(),p=$(),g=_("button"),k.c(),b=$(),y=_("button"),M.c(),F=$(),q&&q.c(),E=$(),ae&&ae.c(),f(l,"class","font-semibold text-lg text-white"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-primary to-secondary rounded-lg font-medium text-white hover:from-primary-dark hover:to-secondary-dark transition disabled:opacity-50 flex items-center justify-center gap-2"),c.disabled=m=t[1]||!((re=(Y=t[7])==null?void 0:Y.captions)!=null&&re.length),f(c,"class","w-full p-4 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg font-medium text-white hover:from-green-600 hover:to-teal-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),g.disabled=v=t[2]||!((Ne=(Ce=t[7])==null?void 0:Ce.captions)!=null&&Ne.length),f(g,"class","w-full p-4 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg font-medium text-white hover:from-yellow-600 hover:to-orange-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),y.disabled=T=generatingEffects||!((fe=(Fe=t[7])==null?void 0:Fe.captions)!=null&&fe.length),f(y,"class","w-full p-4 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg font-medium text-white hover:from-purple-600 hover:to-indigo-600 transition disabled:opacity-50 flex items-center justify-center gap-2 mt-4"),f(e,"class","p-4 space-y-4")},m(Y,re){D(Y,e,re),u(e,l),u(e,n),u(e,r),S[i].m(r,null),u(e,s),u(e,c),x[a].m(c,null),u(e,p),u(e,g),se[d].m(g,null),u(e,b),u(e,y),R[W].m(y,null),u(e,F),q&&q.m(e,null),u(e,E),ae&&ae.m(e,null),C=!0,P||(O=[G(r,"click",t[13]),G(c,"click",t[14]),G(g,"click",t[15]),G(y,"click",generateEffectsSuggestions)],P=!0)},p(Y,re){var fe,De,pe,Le,ge,Pe;let Ce=i;i=B(Y),i!==Ce&&(ke(),L(S[Ce],1,1,()=>{S[Ce]=null}),ve(),o=S[i],o||(o=S[i]=A[i](Y),o.c()),z(o,1),o.m(r,null)),(!C||re[0]&1)&&(r.disabled=Y[0]);let Ne=a;a=I(Y),a!==Ne&&(ke(),L(x[Ne],1,1,()=>{x[Ne]=null}),ve(),h=x[a],h||(h=x[a]=w[a](Y),h.c()),z(h,1),h.m(c,null)),(!C||re[0]&1154&&m!==(m=Y[1]||!((De=(fe=Y[7])==null?void 0:fe.captions)!=null&&De.length)))&&(c.disabled=m);let Fe=d;d=Se(Y),d!==Fe&&(ke(),L(se[Fe],1,1,()=>{se[Fe]=null}),ve(),k=se[d],k||(k=se[d]=J[d](Y),k.c()),z(k,1),k.m(g,null)),(!C||re[0]&1156&&v!==(v=Y[2]||!((Le=(pe=Y[7])==null?void 0:pe.captions)!=null&&Le.length)))&&(g.disabled=v),(!C||re[0]&1152&&T!==(T=generatingEffects||!((Pe=(ge=Y[7])==null?void 0:ge.captions)!=null&&Pe.length)))&&(y.disabled=T),Y[6].length>0?q?(q.p(Y,re),re[0]&64&&z(q,1)):(q=yl(Y),q.c(),z(q,1),q.m(e,E)):q&&(ke(),L(q,1,1,()=>{q=null}),ve()),Y[9]?ae?ae.p(Y,re):(ae=$l(Y),ae.c(),ae.m(e,null)):ae&&(ae.d(1),ae=null)},i(Y){C||(z(o),z(h),z(k),z(M),z(q),C=!0)},o(Y){L(o),L(h),L(k),L(M),L(q),C=!1},d(Y){Y&&N(e),S[i].d(),x[a].d(),se[d].d(),R[W].d(),q&&q.d(),ae&&ae.d(),P=!1,ye(O)}}}function Nr(t){let e,l,n,r,i,o,s,c,a,h,m,p,g;const d=[Yr,qr],k=[];function v(y,W){return y[5]?0:1}c=v(t),a=k[c]=d[c](t);let b=t[4].length>0&&Cl(t);return{c(){e=_("div"),l=_("h3"),l.textContent="B-Roll Library",n=$(),r=_("div"),i=_("input"),o=$(),s=_("button"),a.c(),h=$(),b&&b.c(),f(l,"class","font-semibold text-lg text-white"),f(i,"type","text"),f(i,"placeholder","Search stock footage..."),f(i,"class","flex-1 p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white placeholder-dark-text-light focus:border-primary focus:ring-1 focus:ring-primary"),s.disabled=t[5],f(s,"class","p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(y,W){D(y,e,W),u(e,l),u(e,n),u(e,r),u(r,i),Ke(i,t[3]),u(r,o),u(r,s),k[c].m(s,null),u(e,h),b&&b.m(e,null),m=!0,p||(g=[G(i,"input",t[30]),G(i,"keydown",t[31]),G(s,"click",t[16])],p=!0)},p(y,W){W[0]&8&&i.value!==y[3]&&Ke(i,y[3]);let M=c;c=v(y),c!==M&&(ke(),L(k[M],1,1,()=>{k[M]=null}),ve(),a=k[c],a||(a=k[c]=d[c](y),a.c()),z(a,1),a.m(s,null)),(!m||W[0]&32)&&(s.disabled=y[5]),y[4].length>0?b?(b.p(y,W),W[0]&16&&z(b,1)):(b=Cl(y),b.c(),z(b,1),b.m(e,null)):b&&(ke(),L(b,1,1,()=>{b=null}),ve())},i(y){m||(z(a),z(b),m=!0)},o(y){L(a),L(b),m=!1},d(y){y&&N(e),k[c].d(),b&&b.d(),p=!1,ye(g)}}}function Dr(t){var Rt,zt;let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y,W,M,T=(((zt=(Rt=t[7])==null?void 0:Rt.style)==null?void 0:zt.fontSize)||42)+"",F,E,C,P,O,A,S,B,w,x,I,J,se,Se,K,R,Q,q,ae,Y,re,Ce,Ne,Fe=V(Object.entries($t)),fe=[];for(let H=0;H<Fe.length;H+=1)fe[H]=Sl(gl(t,Fe,H));let De=V(t[10]),pe=[];for(let H=0;H<De.length;H+=1)pe[H]=El(pl(t,De,H));let Le=V(t[11]),ge=[];for(let H=0;H<Le.length;H+=1)ge[H]=Ml(hl(t,Le,H));let Pe=V(t[12]),be=[];for(let H=0;H<Pe.length;H+=1)be[H]=Tl(dl(t,Pe,H));let _t=V(["none","light","medium","heavy"]),ze=[];for(let H=0;H<4;H+=1)ze[H]=Bl(fl(t,_t,H));return{c(){var H,he;e=_("div"),l=_("div"),n=_("h3"),n.textContent="Style Presets",r=$(),i=_("div");for(let ie=0;ie<fe.length;ie+=1)fe[ie].c();o=$(),s=_("div"),c=_("h3"),c.textContent="Typography",a=$(),h=_("div"),m=_("label"),m.textContent="Font Family",p=$(),g=_("select");for(let ie=0;ie<pe.length;ie+=1)pe[ie].c();k=$(),v=_("div"),b=_("label"),y=_("span"),y.textContent="Font Size",W=$(),M=_("span"),F=U(T),E=U("px"),C=$(),P=_("input"),A=$(),S=_("div"),B=_("label"),B.textContent="Position",w=$(),x=_("div");for(let ie=0;ie<ge.length;ie+=1)ge[ie].c();I=$(),J=_("div"),se=_("label"),se.textContent="Animation",Se=$(),K=_("select");for(let ie=0;ie<be.length;ie+=1)be[ie].c();Q=$(),q=_("div"),ae=_("label"),ae.textContent="Text Shadow",Y=$(),re=_("div");for(let ie=0;ie<4;ie+=1)ze[ie].c();f(n,"class","font-semibold text-lg text-white mb-3"),f(i,"class","grid grid-cols-2 gap-2"),f(c,"class","font-semibold text-lg text-white"),f(m,"class","text-sm text-dark-text-light"),f(g,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(h,"class","space-y-2"),f(M,"class","text-white"),f(b,"class","text-sm text-dark-text-light flex justify-between"),f(P,"type","range"),f(P,"min","20"),f(P,"max","80"),P.value=O=((he=(H=t[7])==null?void 0:H.style)==null?void 0:he.fontSize)||42,f(P,"class","w-full"),f(v,"class","space-y-2"),f(B,"class","text-sm text-dark-text-light"),f(x,"class","flex gap-2"),f(S,"class","space-y-2"),f(se,"class","text-sm text-dark-text-light"),f(K,"class","w-full p-2 bg-dark-lighter rounded-lg border border-dark-lighter text-white focus:border-primary focus:ring-1 focus:ring-primary"),f(J,"class","space-y-2"),f(ae,"class","text-sm text-dark-text-light"),f(re,"class","flex gap-2"),f(q,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(H,he){var ie,Qe,Xe,et;D(H,e,he),u(e,l),u(l,n),u(l,r),u(l,i);for(let le=0;le<fe.length;le+=1)fe[le]&&fe[le].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h),u(h,m),u(h,p),u(h,g);for(let le=0;le<pe.length;le+=1)pe[le]&&pe[le].m(g,null);at(g,((Qe=(ie=t[7])==null?void 0:ie.style)==null?void 0:Qe.fontFamily)||"Inter"),u(s,k),u(s,v),u(v,b),u(b,y),u(b,W),u(b,M),u(M,F),u(M,E),u(v,C),u(v,P),u(s,A),u(s,S),u(S,B),u(S,w),u(S,x);for(let le=0;le<ge.length;le+=1)ge[le]&&ge[le].m(x,null);u(s,I),u(s,J),u(J,se),u(J,Se),u(J,K);for(let le=0;le<be.length;le+=1)be[le]&&be[le].m(K,null);at(K,((et=(Xe=t[7])==null?void 0:Xe.style)==null?void 0:et.animation)||"pop"),u(s,Q),u(s,q),u(q,ae),u(q,Y),u(q,re);for(let le=0;le<4;le+=1)ze[le]&&ze[le].m(re,null);Ce||(Ne=[G(g,"change",t[25]),G(P,"input",t[26]),G(K,"change",t[28])],Ce=!0)},p(H,he){var ie,Qe,Xe,et,le,Wt,Nt,Dt,Lt,Pt,At,It;if(he&0){Fe=V(Object.entries($t));let j;for(j=0;j<Fe.length;j+=1){const xe=gl(H,Fe,j);fe[j]?fe[j].p(xe,he):(fe[j]=Sl(xe),fe[j].c(),fe[j].m(i,null))}for(;j<fe.length;j+=1)fe[j].d(1);fe.length=Fe.length}if(he[0]&1024){De=V(H[10]);let j;for(j=0;j<De.length;j+=1){const xe=pl(H,De,j);pe[j]?pe[j].p(xe,he):(pe[j]=El(xe),pe[j].c(),pe[j].m(g,null))}for(;j<pe.length;j+=1)pe[j].d(1);pe.length=De.length}if(he[0]&1152&&d!==(d=((Qe=(ie=H[7])==null?void 0:ie.style)==null?void 0:Qe.fontFamily)||"Inter")&&at(g,((et=(Xe=H[7])==null?void 0:Xe.style)==null?void 0:et.fontFamily)||"Inter"),he[0]&128&&T!==(T=(((Wt=(le=H[7])==null?void 0:le.style)==null?void 0:Wt.fontSize)||42)+"")&&ue(F,T),he[0]&1152&&O!==(O=((Dt=(Nt=H[7])==null?void 0:Nt.style)==null?void 0:Dt.fontSize)||42)&&(P.value=O),he[0]&2176){Le=V(H[11]);let j;for(j=0;j<Le.length;j+=1){const xe=hl(H,Le,j);ge[j]?ge[j].p(xe,he):(ge[j]=Ml(xe),ge[j].c(),ge[j].m(x,null))}for(;j<ge.length;j+=1)ge[j].d(1);ge.length=Le.length}if(he[0]&4096){Pe=V(H[12]);let j;for(j=0;j<Pe.length;j+=1){const xe=dl(H,Pe,j);be[j]?be[j].p(xe,he):(be[j]=Tl(xe),be[j].c(),be[j].m(K,null))}for(;j<be.length;j+=1)be[j].d(1);be.length=Pe.length}if(he[0]&1152&&R!==(R=((Pt=(Lt=H[7])==null?void 0:Lt.style)==null?void 0:Pt.animation)||"pop")&&at(K,((It=(At=H[7])==null?void 0:At.style)==null?void 0:It.animation)||"pop"),he[0]&128){_t=V(["none","light","medium","heavy"]);let j;for(j=0;j<4;j+=1){const xe=fl(H,_t,j);ze[j]?ze[j].p(xe,he):(ze[j]=Bl(xe),ze[j].c(),ze[j].m(re,null))}for(;j<4;j+=1)ze[j].d(1)}},i:Z,o:Z,d(H){H&&N(e),de(fe,H),de(pe,H),de(ge,H),de(be,H),de(ze,H),Ce=!1,ye(Ne)}}}function Lr(t){var se,Se;let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y,W,M,T,F,E,C,P,O,A=((Se=(se=t[7])==null?void 0:se.style)==null?void 0:Se.highlightWords)&&Rl(t);function S(K,R){var Q,q;return(q=(Q=K[7])==null?void 0:Q.captions)!=null&&q.length?Kr:Gr}let B=S(t),w=B(t);function x(K,R){var Q,q;return(q=(Q=K[7])==null?void 0:Q.captions)!=null&&q.length?Jr:Zr}let I=x(t),J=I(t);return{c(){var K,R,Q,q;e=_("div"),l=_("h3"),l.textContent="Caption Settings",n=$(),r=_("div"),i=_("label"),o=_("span"),o.textContent="Word-by-word highlighting",s=$(),c=_("input"),h=$(),m=_("label"),p=_("span"),p.textContent="Highlight active words",g=$(),d=_("input"),v=$(),A&&A.c(),b=$(),y=_("div"),W=_("h3"),W.textContent="Emoji Editor",M=$(),w.c(),T=$(),F=_("div"),E=_("h3"),E.textContent="Keyword Editor",C=$(),J.c(),f(l,"class","font-semibold text-lg text-white"),f(o,"class","text-dark-text-light"),f(c,"type","checkbox"),c.checked=a=(R=(K=t[7])==null?void 0:K.style)==null?void 0:R.wordByWord,f(c,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(i,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(p,"class","text-dark-text-light"),f(d,"type","checkbox"),d.checked=k=(q=(Q=t[7])==null?void 0:Q.style)==null?void 0:q.highlightWords,f(d,"class","w-5 h-5 rounded border-dark-lighter text-primary focus:ring-primary"),f(m,"class","flex items-center justify-between p-3 bg-dark-lighter rounded-lg border border-dark-lighter cursor-pointer hover:border-primary transition"),f(r,"class","space-y-3"),f(W,"class","font-semibold text-lg text-white"),f(y,"class","space-y-4"),f(E,"class","font-semibold text-lg text-white"),f(F,"class","space-y-4"),f(e,"class","p-4 space-y-4")},m(K,R){D(K,e,R),u(e,l),u(e,n),u(e,r),u(r,i),u(i,o),u(i,s),u(i,c),u(r,h),u(r,m),u(m,p),u(m,g),u(m,d),u(r,v),A&&A.m(r,null),u(e,b),u(e,y),u(y,W),u(y,M),w.m(y,null),u(e,T),u(e,F),u(F,E),u(F,C),J.m(F,null),P||(O=[G(c,"change",t[18]),G(d,"change",t[19])],P=!0)},p(K,R){var Q,q,ae,Y,re,Ce;R[0]&1152&&a!==(a=(q=(Q=K[7])==null?void 0:Q.style)==null?void 0:q.wordByWord)&&(c.checked=a),R[0]&1152&&k!==(k=(Y=(ae=K[7])==null?void 0:ae.style)==null?void 0:Y.highlightWords)&&(d.checked=k),(Ce=(re=K[7])==null?void 0:re.style)!=null&&Ce.highlightWords?A?A.p(K,R):(A=Rl(K),A.c(),A.m(r,null)):A&&(A.d(1),A=null),B===(B=S(K))&&w?w.p(K,R):(w.d(1),w=B(K),w&&(w.c(),w.m(y,null))),I===(I=x(K))&&J?J.p(K,R):(J.d(1),J=I(K),J&&(J.c(),J.m(F,null)))},i:Z,o:Z,d(K){K&&N(e),A&&A.d(),w.d(),J.d(),P=!1,ye(O)}}}function Pr(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=U(`
          Generate Viral Content`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Ar(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=U(`
          Generating Viral Content...`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Ir(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=U(`
          Auto-Generate Emojis`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function jr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=U(`
          Generating Emojis...`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Or(t){let e,l,n;return e=new Bt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=U(`
          Generate B-Roll Suggestions`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Hr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=U(`
          Generating B-Roll...`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Ur(t){let e,l,n;return e=new mt({props:{class:"w-5 h-5"}}),{c(){te(e.$$.fragment),l=U(`
          Auto-Generate Zoom & Sound Effects`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function Vr(t){let e,l,n;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment),l=U(`
          Generating Effects...`)},m(r,i){X(e,r,i),D(r,l,i),n=!0},i(r){n||(z(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){r&&N(l),ee(e,r)}}}function yl(t){let e,l,n,r,i,o=V(t[6]),s=[];for(let a=0;a<o.length;a+=1)s[a]=wl(cl(t,o,a));const c=a=>L(s[a],1,1,()=>{s[a]=null});return{c(){e=_("div"),l=_("h4"),l.textContent="Suggested B-Roll Clips:",n=$(),r=_("div");for(let a=0;a<s.length;a+=1)s[a].c();f(l,"class","font-medium text-sm text-dark-text-light"),f(r,"class","grid grid-cols-2 gap-2 max-h-48 overflow-y-auto"),f(e,"class","space-y-2 mt-4")},m(a,h){D(a,e,h),u(e,l),u(e,n),u(e,r);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(r,null);i=!0},p(a,h){if(h[0]&64){o=V(a[6]);let m;for(m=0;m<o.length;m+=1){const p=cl(a,o,m);s[m]?(s[m].p(p,h),z(s[m],1)):(s[m]=wl(p),s[m].c(),z(s[m],1),s[m].m(r,null))}for(ke(),m=o.length;m<s.length;m+=1)c(m);ve()}},i(a){if(!i){for(let h=0;h<o.length;h+=1)z(s[h]);i=!0}},o(a){s=s.filter(Boolean);for(let h=0;h<s.length;h+=1)L(s[h]);i=!1},d(a){a&&N(e),de(s,a)}}}function wl(t){let e,l,n,r,i,o,s,c,a=t[62].keyword+"",h,m,p,g,d,k;o=new mn({props:{class:"w-8 h-8 text-white"}});function v(){return t[33](t[62])}return{c(){e=_("div"),l=_("img"),r=$(),i=_("div"),te(o.$$.fragment),s=$(),c=_("span"),h=U(a),m=$(),Ge(l.src,n=t[62].thumbnail)||f(l,"src",n),f(l,"alt","B-Roll thumbnail"),f(l,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(c,"class","absolute bottom-1 left-1 bg-dark-lighter px-1 text-xs text-white rounded opacity-75"),f(e,"class","relative aspect-video rounded-lg overflow-hidden border border-dark-lighter hover:border-primary transition cursor-pointer group"),f(e,"title",p="Add to timeline: "+t[62].keyword)},m(b,y){D(b,e,y),u(e,l),u(e,r),u(e,i),X(o,i,null),u(e,s),u(e,c),u(c,h),u(e,m),g=!0,d||(k=G(e,"click",v),d=!0)},p(b,y){t=b,(!g||y[0]&64&&!Ge(l.src,n=t[62].thumbnail))&&f(l,"src",n),(!g||y[0]&64)&&a!==(a=t[62].keyword+"")&&ue(h,a),(!g||y[0]&64&&p!==(p="Add to timeline: "+t[62].keyword))&&f(e,"title",p)},i(b){g||(z(o.$$.fragment,b),g=!0)},o(b){L(o.$$.fragment,b),g=!1},d(b){b&&N(e),ee(o),d=!1,k()}}}function $l(t){let e,l,n,r,i,o,s,c,a,h,m=t[9].descriptions[0]+"",p,g,d,k,v,b,y=t[9].hashtags.join(" ")+"",W,M=V(t[9].hooks),T=[];for(let F=0;F<M.length;F+=1)T[F]=xl(al(t,M,F));return{c(){e=_("div"),l=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=$(),i=_("ul");for(let F=0;F<T.length;F+=1)T[F].c();o=$(),s=_("div"),c=_("h4"),c.textContent="Description",a=$(),h=_("p"),p=U(m),g=$(),d=_("div"),k=_("h4"),k.textContent="Hashtags",v=$(),b=_("p"),W=U(y),f(n,"class","font-medium text-sm text-dark-text-light mb-2"),f(i,"class","space-y-2"),f(l,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(c,"class","font-medium text-sm text-dark-text-light mb-2"),f(h,"class","text-sm text-white"),f(s,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(k,"class","font-medium text-sm text-dark-text-light mb-2"),f(b,"class","text-sm text-primary"),f(d,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter"),f(e,"class","space-y-4")},m(F,E){D(F,e,E),u(e,l),u(l,n),u(l,r),u(l,i);for(let C=0;C<T.length;C+=1)T[C]&&T[C].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h),u(h,p),u(e,g),u(e,d),u(d,k),u(d,v),u(d,b),u(b,W)},p(F,E){if(E[0]&512){M=V(F[9].hooks);let C;for(C=0;C<M.length;C+=1){const P=al(F,M,C);T[C]?T[C].p(P,E):(T[C]=xl(P),T[C].c(),T[C].m(i,null))}for(;C<T.length;C+=1)T[C].d(1);T.length=M.length}E[0]&512&&m!==(m=F[9].descriptions[0]+"")&&ue(p,m),E[0]&512&&y!==(y=F[9].hashtags.join(" ")+"")&&ue(W,y)},d(F){F&&N(e),de(T,F)}}}function xl(t){let e,l=t[65]+"",n;return{c(){e=_("li"),n=U(l),f(e,"class","text-sm p-2 bg-dark rounded text-white")},m(r,i){D(r,e,i),u(e,n)},p(r,i){i[0]&512&&l!==(l=r[65]+"")&&ue(n,l)},d(r){r&&N(e)}}}function qr(t){let e,l;return{c(){e=ft("svg"),l=ft("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){D(n,e,r),u(e,l)},i:Z,o:Z,d(n){n&&N(e)}}}function Yr(t){let e,l;return e=new ot({props:{class:"w-5 h-5 animate-spin"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function Cl(t){let e,l,n=V(t[4]),r=[];for(let o=0;o<n.length;o+=1)r[o]=Fl(ul(t,n,o));const i=o=>L(r[o],1,1,()=>{r[o]=null});return{c(){e=_("div");for(let o=0;o<r.length;o+=1)r[o].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(o,s){D(o,e,s);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);l=!0},p(o,s){if(s[0]&131088){n=V(o[4]);let c;for(c=0;c<n.length;c+=1){const a=ul(o,n,c);r[c]?(r[c].p(a,s),z(r[c],1)):(r[c]=Fl(a),r[c].c(),z(r[c],1),r[c].m(e,null))}for(ke(),c=n.length;c<r.length;c+=1)i(c);ve()}},i(o){if(!l){for(let s=0;s<n.length;s+=1)z(r[s]);l=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)L(r[s]);l=!1},d(o){o&&N(e),de(r,o)}}}function Fl(t){let e,l,n,r,i,o,s,c,a,h;o=new mn({props:{class:"w-8 h-8 text-white"}});function m(){return t[32](t[62])}return{c(){e=_("button"),l=_("img"),r=$(),i=_("div"),te(o.$$.fragment),s=$(),Ge(l.src,n=t[62].thumbnail)||f(l,"src",n),f(l,"alt",""),f(l,"class","w-full h-full object-cover"),f(i,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(p,g){D(p,e,g),u(e,l),u(e,r),u(e,i),X(o,i,null),u(e,s),c=!0,a||(h=G(e,"click",m),a=!0)},p(p,g){t=p,(!c||g[0]&16&&!Ge(l.src,n=t[62].thumbnail))&&f(l,"src",n)},i(p){c||(z(o.$$.fragment,p),c=!0)},o(p){L(o.$$.fragment,p),c=!1},d(p){p&&N(e),ee(o),a=!1,h()}}}function Sl(t){let e,l,n,r,i,o,s;function c(){return t[24](t[58])}return{c(){e=_("button"),l=_("div"),l.textContent=`${t[58].replace("-"," ")}`,n=$(),r=_("div"),r.textContent=`${t[59].fontWeight}  ${t[59].animation}`,i=$(),f(l,"class","font-medium capitalize text-white"),f(r,"class","text-xs text-dark-text-light mt-1"),f(e,"class","p-3 bg-dark-lighter rounded-lg border border-dark-lighter text-left hover:border-primary transition text-sm")},m(a,h){D(a,e,h),u(e,l),u(e,n),u(e,r),u(e,i),o||(s=G(e,"click",c),o=!0)},p(a,h){t=a},d(a){a&&N(e),o=!1,s()}}}function El(t){let e,l=t[55]+"",n;return{c(){e=_("option"),n=U(l),e.__value=t[55],Ke(e,e.__value)},m(r,i){D(r,e,i),u(e,n)},p:Z,d(r){r&&N(e)}}}function Ml(t){let e,l=t[52].label+"",n,r,i,o,s;function c(){return t[27](t[52])}return{c(){var a,h;e=_("button"),n=U(l),r=$(),f(e,"class",i="flex-1 p-2 rounded-lg border text-sm transition "+((((h=(a=t[7])==null?void 0:a.style)==null?void 0:h.position)||"bottom")===t[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){D(a,e,h),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,h){var m,p;t=a,h[0]&1152&&i!==(i="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(m=t[7])==null?void 0:m.style)==null?void 0:p.position)||"bottom")===t[52].id?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&N(e),o=!1,s()}}}function Tl(t){let e,l=t[49].label+"",n;return{c(){e=_("option"),n=U(l),e.__value=t[49].id,Ke(e,e.__value)},m(r,i){D(r,e,i),u(e,n)},p:Z,d(r){r&&N(e)}}}function Bl(t){let e,l,n,r,i,o;function s(){return t[29](t[46])}return{c(){var c,a;e=_("button"),l=U(t[46]),n=$(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((a=(c=t[7])==null?void 0:c.style)==null?void 0:a.textShadow)||"medium")===t[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){D(c,e,a),u(e,l),u(e,n),i||(o=G(e,"click",s),i=!0)},p(c,a){var h,m;t=c,a[0]&1152&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((m=(h=t[7])==null?void 0:h.style)==null?void 0:m.textShadow)||"medium")===t[46]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&N(e),i=!1,o()}}}function Rl(t){let e,l,n,r,i=V(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),o=[];for(let s=0;s<5;s+=1)o[s]=zl(vl(t,i,s));return{c(){e=_("div"),l=_("label"),l.textContent="Highlight Color",n=$(),r=_("div");for(let s=0;s<5;s+=1)o[s].c();f(l,"class","text-sm text-dark-text-light"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,c){D(s,e,c),u(e,l),u(e,n),u(e,r);for(let a=0;a<5;a+=1)o[a]&&o[a].m(r,null)},p(s,c){if(c[0]&128){i=V(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let a;for(a=0;a<5;a+=1){const h=vl(s,i,a);o[a]?o[a].p(h,c):(o[a]=zl(h),o[a].c(),o[a].m(r,null))}for(;a<5;a+=1)o[a].d(1)}},d(s){s&&N(e),de(o,s)}}}function zl(t){let e,l,n,r;function i(){return t[20](t[43])}return{c(){var o,s;e=_("button"),f(e,"class",l="w-8 h-8 rounded-lg border-2 transition "+((((s=(o=t[7])==null?void 0:o.style)==null?void 0:s.highlightColor)||"#FFD700")===t[43]?"border-primary scale-110":"border-transparent hover:border-primary-light")),oe(e,"background-color",t[43])},m(o,s){D(o,e,s),n||(r=G(e,"click",i),n=!0)},p(o,s){var c,a;t=o,s[0]&1152&&l!==(l="w-8 h-8 rounded-lg border-2 transition "+((((a=(c=t[7])==null?void 0:c.style)==null?void 0:a.highlightColor)||"#FFD700")===t[43]?"border-primary scale-110":"border-transparent hover:border-primary-light"))&&f(e,"class",l)},d(o){o&&N(e),n=!1,r()}}}function Gr(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to edit emojis.",f(e,"class","text-dark-text-light text-sm")},m(l,n){D(l,e,n)},p:Z,d(l){l&&N(e)}}}function Kr(t){let e,l=V(t[7].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=Nl(bl(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){D(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){l=V(r[7].captions);let o;for(o=0;o<l.length;o+=1){const s=bl(r,l,o);n[o]?n[o].p(s,i):(n[o]=Nl(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&N(e),de(n,r)}}}function Wl(t){let e,l,n=t[37].text+"",r,i,o,s,c,a;function h(){t[21].call(o,t[42],t[39])}function m(...p){return t[22](t[34],t[39],...p)}return{c(){e=_("div"),l=_("span"),r=U(n),i=$(),o=_("input"),s=$(),f(l,"class","text-white text-sm mr-1"),f(o,"type","text"),f(o,"maxlength","2"),f(o,"class","w-8 h-6 text-sm bg-transparent text-center border-none focus:ring-0 p-0 text-white"),f(o,"placeholder",""),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,g){D(p,e,g),u(e,l),u(l,r),u(e,i),u(e,o),Ke(o,t[37].emoji),u(e,s),c||(a=[G(o,"input",h),G(o,"input",m)],c=!0)},p(p,g){t=p,g[0]&128&&n!==(n=t[37].text+"")&&ue(r,n),g[0]&1152&&o.value!==t[37].emoji&&Ke(o,t[37].emoji)},d(p){p&&N(e),c=!1,ye(a)}}}function Nl(t){let e,l,n,r=t[34].start.toFixed(2)+"",i,o,s=t[34].end.toFixed(2)+"",c,a,h,m,p,g=V(t[34].words),d=[];for(let k=0;k<g.length;k+=1)d[k]=Wl(kl(t,g,k));return{c(){e=_("div"),l=_("p"),n=U("Segment: "),i=U(r),o=U("s - "),c=U(s),a=U("s"),h=$(),m=_("div");for(let k=0;k<d.length;k+=1)d[k].c();p=$(),f(l,"class","text-xs text-dark-text mb-2"),f(m,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){D(k,e,v),u(e,l),u(l,n),u(l,i),u(l,o),u(l,c),u(l,a),u(e,h),u(e,m);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(m,null);u(e,p)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&ue(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&ue(c,s),v[0]&128){g=V(k[34].words);let b;for(b=0;b<g.length;b+=1){const y=kl(k,g,b);d[b]?d[b].p(y,v):(d[b]=Wl(y),d[b].c(),d[b].m(m,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},d(k){k&&N(e),de(d,k)}}}function Zr(t){let e;return{c(){e=_("p"),e.textContent="Load a video with captions to mark keywords.",f(e,"class","text-dark-text-light text-sm")},m(l,n){D(l,e,n)},p:Z,d(l){l&&N(e)}}}function Jr(t){let e,l=V(t[7].captions),n=[];for(let r=0;r<l.length;r+=1)n[r]=Ll(ml(t,l,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","max-h-60 overflow-y-auto space-y-2 pr-2")},m(r,i){D(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i[0]&128){l=V(r[7].captions);let o;for(o=0;o<l.length;o+=1){const s=ml(r,l,o);n[o]?n[o].p(s,i):(n[o]=Ll(s),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(r){r&&N(e),de(n,r)}}}function Dl(t){let e,l,n=t[37].text+"",r,i,o,s,c,a,h;function m(...p){return t[23](t[34],t[39],...p)}return{c(){e=_("div"),l=_("span"),r=U(n),i=$(),o=_("input"),c=$(),f(l,"class","text-white text-sm mr-1"),f(o,"type","checkbox"),o.checked=s=t[37].isKeyword||!1,f(o,"class","w-4 h-4 rounded border-dark-lighter text-primary focus:ring-primary"),f(o,"title","Mark as keyword"),f(e,"class","flex items-center bg-dark rounded-md px-2 py-1")},m(p,g){D(p,e,g),u(e,l),u(l,r),u(e,i),u(e,o),u(e,c),a||(h=G(o,"change",m),a=!0)},p(p,g){t=p,g[0]&128&&n!==(n=t[37].text+"")&&ue(r,n),g[0]&1152&&s!==(s=t[37].isKeyword||!1)&&(o.checked=s)},d(p){p&&N(e),a=!1,h()}}}function Ll(t){let e,l,n,r=t[34].start.toFixed(2)+"",i,o,s=t[34].end.toFixed(2)+"",c,a,h,m,p,g=V(t[34].words),d=[];for(let k=0;k<g.length;k+=1)d[k]=Dl(_l(t,g,k));return{c(){e=_("div"),l=_("p"),n=U("Segment: "),i=U(r),o=U("s - "),c=U(s),a=U("s"),h=$(),m=_("div");for(let k=0;k<d.length;k+=1)d[k].c();p=$(),f(l,"class","text-xs text-dark-text mb-2"),f(m,"class","flex flex-wrap gap-2"),f(e,"class","bg-dark-lighter rounded-lg p-3")},m(k,v){D(k,e,v),u(e,l),u(l,n),u(l,i),u(l,o),u(l,c),u(l,a),u(e,h),u(e,m);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(m,null);u(e,p)},p(k,v){if(v[0]&128&&r!==(r=k[34].start.toFixed(2)+"")&&ue(i,r),v[0]&128&&s!==(s=k[34].end.toFixed(2)+"")&&ue(c,s),v[0]&128){g=V(k[34].words);let b;for(b=0;b<g.length;b+=1){const y=_l(k,g,b);d[b]?d[b].p(y,v):(d[b]=Dl(y),d[b].c(),d[b].m(m,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},d(k){k&&N(e),de(d,k)}}}function Qr(t){let e,l,n,r;const i=[Lr,Dr,Nr,Wr],o=[];function s(c,a){return c[8]==="captions"?0:c[8]==="style"?1:c[8]==="broll"?2:c[8]==="ai-tools"?3:-1}return~(l=s(t))&&(n=o[l]=i[l](t)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-dark-light")},m(c,a){D(c,e,a),~l&&o[l].m(e,null),r=!0},p(c,a){let h=l;l=s(c),l===h?~l&&o[l].p(c,a):(n&&(ke(),L(o[h],1,1,()=>{o[h]=null}),ve()),~l?(n=o[l],n?n.p(c,a):(n=o[l]=i[l](c),n.c()),z(n,1),n.m(e,null)):n=null)},i(c){r||(z(n),r=!0)},o(c){L(n),r=!1},d(c){c&&N(e),~l&&o[l].d()}}}function Xr(t,e,l){let n,r,i;Re(t,ce,R=>l(7,n=R)),Re(t,xt,R=>l(8,r=R)),Re(t,sl,R=>l(9,i=R));let o=!1,s=!1,c=!1,a="",h=[],m=!1,p=[];const g=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],d=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],k=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function v(){if(n){l(0,o=!0);try{const R=n.captions.map(q=>q.text).join(" "),Q=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:R})});if(Q.ok){const q=await Q.json();sl.set(q)}}catch(R){console.error("AI generation failed:",R)}finally{l(0,o=!1)}}}async function b(){if(!(!n||!n.captions.length)){l(1,s=!0);try{const R=await fetch("/api/ai/generate_emojis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(R.ok){const Q=await R.json();ce.update(q=>({...q,captions:Q.captions,updatedAt:new Date}))}}catch(R){console.error("Emoji generation failed:",R)}finally{l(1,s=!1)}}}async function y(){if(!(!n||!n.captions.length)){l(2,c=!0),l(6,p=[]);try{const R=await fetch("/api/ai/generate_broll",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:n.captions})});if(R.ok){const Q=await R.json();l(6,p=Q.broll_clips)}}catch(R){console.error("B-Roll generation failed:",R)}finally{l(2,c=!1)}}}async function W(){if(a){l(5,m=!0);try{const R=await fetch(`/api/broll/search?q=${encodeURIComponent(a)}`);if(R.ok){const Q=await R.json();l(4,h=Q.results||[])}}catch(R){console.error("B-Roll search failed:",R)}finally{l(5,m=!1)}}}function M(R){n&&ce.addBRoll({id:crypto.randomUUID(),url:R.video_url,thumbnail:R.thumbnail,start:n.videoDuration*.3,duration:5,source:R.source})}const T=R=>ce.updateStyle({wordByWord:R.target.checked}),F=R=>ce.updateStyle({highlightWords:R.target.checked}),E=R=>ce.updateStyle({highlightColor:R});function C(R,Q){R[Q].emoji=this.value,l(10,g)}const P=(R,Q,q)=>ce.updateWordEmoji(R.id,Q,q.target.value),O=(R,Q,q)=>ce.updateWordIsKeyword(R.id,Q,q.target.checked),A=R=>ce.applyPreset(R),S=R=>ce.updateStyle({fontFamily:R.target.value}),B=R=>ce.updateStyle({fontSize:parseInt(R.target.value)}),w=R=>ce.updateStyle({position:R.id}),x=R=>ce.updateStyle({animation:R.target.value}),I=R=>ce.updateStyle({textShadow:R});function J(){a=this.value,l(3,a)}return[o,s,c,a,h,m,p,n,r,i,g,d,k,v,b,y,W,M,T,F,E,C,P,O,A,S,B,w,x,I,J,R=>R.key==="Enter"&&W(),R=>M(R),R=>ce.addBRoll({...R,id:crypto.randomUUID()})]}class ei extends $e{constructor(e){super(),we(this,e,Xr,Qr,me,{},null,[-1,-1,-1])}}function Pl(t,e,l){const n=t.slice();return n[27]=e[l],n}function Al(t,e,l){const n=t.slice();return n[27]=e[l],n}function Il(t,e,l){const n=t.slice();return n[32]=e[l],n}function jl(t,e,l){const n=t.slice();return n[35]=e[l],n}function Ol(t,e,l){const n=t.slice();return n[38]=e[l],n[40]=l,n}function Hl(t){let e;return{c(){e=_("div"),f(e,"class","absolute left-0 right-0 border-t border-dark-lighter"),oe(e,"top",t[40]*10/t[1]*100+"%")},m(l,n){D(l,e,n)},p(l,n){n[0]&2&&oe(e,"top",l[40]*10/l[1]*100+"%")},d(l){l&&N(e)}}}function Ul(t){let e,l,n=Jl(t[35].start,t[35].end)+"",r,i,o,s=t[35].text.slice(0,25)+"",c,a=t[35].text.length>25?"...":"",h,m,p,g,d,k,v;function b(){return t[16](t[35])}return{c(){e=_("button"),l=_("span"),r=U(n),i=$(),o=_("span"),c=U(s),h=U(a),m=$(),f(l,"class","text-[10px] text-primary-light/80 font-mono mb-0.5"),f(o,"class","truncate w-full text-center leading-tight text-xs"),f(e,"class",p="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-start px-2 py-1 overflow-hidden text-white "+(t[7].selectedCaptionId===t[35].id?"ring-2 ring-primary":"")),f(e,"style",g=t[12](t[35])),f(e,"title",d=t[35].text)},m(y,W){D(y,e,W),u(e,l),u(l,r),u(e,i),u(e,o),u(o,c),u(o,h),u(e,m),k||(v=G(e,"click",Et(b)),k=!0)},p(y,W){t=y,W[0]&64&&n!==(n=Jl(t[35].start,t[35].end)+"")&&ue(r,n),W[0]&64&&s!==(s=t[35].text.slice(0,25)+"")&&ue(c,s),W[0]&64&&a!==(a=t[35].text.length>25?"...":"")&&ue(h,a),W[0]&192&&p!==(p="absolute left-0 right-0 mx-1 rounded bg-primary-dark border-2 border-primary-dark hover:bg-primary transition flex flex-col items-center justify-start px-2 py-1 overflow-hidden text-white "+(t[7].selectedCaptionId===t[35].id?"ring-2 ring-primary":""))&&f(e,"class",p),W[0]&64&&g!==(g=t[12](t[35]))&&f(e,"style",g),W[0]&64&&d!==(d=t[35].text)&&f(e,"title",d)},d(y){y&&N(e),k=!1,v()}}}function Vl(t){let e,l=[],n=new Map,r,i=V(t[5]);const o=s=>s[32].id;for(let s=0;s<i.length;s+=1){let c=Il(t,i,s),a=o(c);n.set(a,l[s]=ql(a,c))}return{c(){e=_("div");for(let s=0;s<l.length;s+=1)l[s].c();f(e,"class","absolute top-0 bottom-0 left-1 right-1")},m(s,c){D(s,e,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);r=!0},p(s,c){c[0]&2338&&(i=V(s[5]),ke(),l=Tt(l,c,o,1,s,i,n,e,An,ql,null,Il),ve())},i(s){if(!r){for(let c=0;c<i.length;c+=1)z(l[c]);r=!0}},o(s){for(let c=0;c<l.length;c+=1)L(l[c]);r=!1},d(s){s&&N(e);for(let c=0;c<l.length;c+=1)l[c].d()}}}function ql(t,e){let l,n,r,i,o,s,c,a,h,m;n=new Bt({props:{class:"w-3 h-3 text-white"}}),o=new fr({props:{class:"w-3 h-3"}});function p(){return e[17](e[32])}function g(...d){return e[18](e[32],...d)}return{key:t,first:null,c(){l=_("div"),te(n.$$.fragment),r=$(),i=_("button"),te(o.$$.fragment),s=$(),f(i,"class","absolute top-1 right-1 p-0.5 bg-black/50 hover:bg-black rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity"),f(i,"title","Remove B-Roll Clip"),f(l,"class","absolute left-0 right-0 rounded bg-secondary-dark border-2 border-secondary hover:border-primary transition flex items-center justify-center overflow-hidden cursor-grab active:cursor-grabbing group"),oe(l,"top",e[32].start/e[1]*100+"%"),oe(l,"height",e[32].duration/e[1]*100+"%"),f(l,"title",c="Drag to move B-Roll: "+(e[32].keyword||"clip")),this.first=l},m(d,k){D(d,l,k),X(n,l,null),u(l,r),u(l,i),X(o,i,null),u(l,s),a=!0,h||(m=[G(i,"click",Et(p)),G(l,"mousedown",g)],h=!0)},p(d,k){e=d,(!a||k[0]&34)&&oe(l,"top",e[32].start/e[1]*100+"%"),(!a||k[0]&34)&&oe(l,"height",e[32].duration/e[1]*100+"%"),(!a||k[0]&32&&c!==(c="Drag to move B-Roll: "+(e[32].keyword||"clip")))&&f(l,"title",c)},i(d){a||(z(n.$$.fragment,d),z(o.$$.fragment,d),a=!0)},o(d){L(n.$$.fragment,d),L(o.$$.fragment,d),a=!1},d(d){d&&N(l),ee(n),ee(o),h=!1,ye(m)}}}function Yl(t){let e,l=[],n=new Map,r=V(t[4]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Al(t,r,o),c=i(s);n.set(c,l[o]=Gl(c,s))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","absolute top-0 bottom-0 left-3 right-3 opacity-70")},m(o,s){D(o,e,s);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(o,s){s[0]&18&&(r=V(o[4]),l=Tt(l,s,i,1,o,r,n,e,gn,Gl,null,Al))},d(o){o&&N(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Gl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-sm bg-purple-500/50 border border-purple-400"),oe(l,"top",e[27].start/e[1]*100+"%"),oe(l,"height",(e[27].end-e[27].start)/e[1]*100+"%"),f(l,"title",n="Zoom: "+e[27].type+" at "+Je(e[27].start)),this.first=l},m(r,i){D(r,l,i)},p(r,i){e=r,i[0]&18&&oe(l,"top",e[27].start/e[1]*100+"%"),i[0]&18&&oe(l,"height",(e[27].end-e[27].start)/e[1]*100+"%"),i[0]&16&&n!==(n="Zoom: "+e[27].type+" at "+Je(e[27].start))&&f(l,"title",n)},d(r){r&&N(l)}}}function Kl(t){let e,l=[],n=new Map,r=V(t[3]);const i=o=>o[27].id;for(let o=0;o<r.length;o+=1){let s=Pl(t,r,o),c=i(s);n.set(c,l[o]=Zl(c,s))}return{c(){e=_("div");for(let o=0;o<l.length;o+=1)l[o].c();f(e,"class","absolute top-0 bottom-0 left-5 right-5 opacity-70")},m(o,s){D(o,e,s);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null)},p(o,s){s[0]&10&&(r=V(o[3]),l=Tt(l,s,i,1,o,r,n,e,gn,Zl,null,Pl))},d(o){o&&N(e);for(let s=0;s<l.length;s+=1)l[s].d()}}}function Zl(t,e){let l,n;return{key:t,first:null,c(){l=_("div"),f(l,"class","absolute left-0 right-0 rounded-full bg-blue-500/50 border border-blue-400 h-2"),oe(l,"top",e[27].start/e[1]*100+"%"),f(l,"title",n="Sound: "+e[27].type+" at "+Je(e[27].start)),this.first=l},m(r,i){D(r,l,i)},p(r,i){e=r,i[0]&10&&oe(l,"top",e[27].start/e[1]*100+"%"),i[0]&8&&n!==(n="Sound: "+e[27].type+" at "+Je(e[27].start))&&f(l,"title",n)},d(r){r&&N(l)}}}function ti(t){let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y=Je(t[2])+"",W,M,T,F,E=V(Array(Math.max(1,Math.ceil(t[1]/10)))),C=[];for(let w=0;w<E.length;w+=1)C[w]=Hl(Ol(t,E,w));let P=V(t[6]),O=[];for(let w=0;w<P.length;w+=1)O[w]=Ul(jl(t,P,w));let A=t[5].length>0&&Vl(t),S=t[4].length>0&&Yl(t),B=t[3].length>0&&Kl(t);return{c(){e=_("div"),l=_("div"),l.innerHTML='<span class="text-xs font-medium text-dark-text-light">Timeline</span>',n=$(),r=_("div"),i=_("button"),o=_("div");for(let w=0;w<C.length;w+=1)C[w].c();s=$(),c=_("div");for(let w=0;w<O.length;w+=1)O[w].c();a=$(),A&&A.c(),h=$(),S&&S.c(),m=$(),B&&B.c(),p=$(),g=_("div"),d=_("div"),k=$(),v=_("div"),b=_("span"),W=U(y),f(l,"class","h-10 flex items-center justify-center px-2 bg-dark-light"),f(o,"class","absolute inset-0 pointer-events-none"),f(c,"class","absolute top-0 bottom-0 left-2 right-8"),f(d,"class","absolute -left-1 -top-1 w-3 h-3 bg-primary rounded-full shadow-md"),f(g,"class","absolute left-0 right-0 h-0.5 bg-primary z-10 pointer-events-none transition-all duration-75 ease-linear"),f(g,"style",t[13]()),f(i,"class","absolute inset-0 w-full cursor-pointer bg-transparent border-none p-0"),f(i,"aria-label","Timeline scrubber"),f(r,"class","flex-1 relative overflow-y-auto overflow-x-hidden"),f(b,"class","text-xs font-mono text-dark-text-light"),f(v,"class","h-10 border-t border-dark-lighter flex items-center justify-center bg-dark-light"),f(e,"class","h-full flex flex-col bg-dark")},m(w,x){D(w,e,x),u(e,l),u(e,n),u(e,r),u(r,i),u(i,o);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(o,null);u(i,s),u(i,c);for(let I=0;I<O.length;I+=1)O[I]&&O[I].m(c,null);u(i,a),A&&A.m(i,null),u(i,h),S&&S.m(i,null),u(i,m),B&&B.m(i,null),u(i,p),u(i,g),u(g,d),t[19](i),u(e,k),u(e,v),u(v,b),u(b,W),M=!0,T||(F=G(i,"click",t[9]),T=!0)},p(w,x){if(x[0]&2){E=V(Array(Math.max(1,Math.ceil(w[1]/10))));let I;for(I=0;I<E.length;I+=1){const J=Ol(w,E,I);C[I]?C[I].p(J,x):(C[I]=Hl(J),C[I].c(),C[I].m(o,null))}for(;I<C.length;I+=1)C[I].d(1);C.length=E.length}if(x[0]&5312){P=V(w[6]);let I;for(I=0;I<P.length;I+=1){const J=jl(w,P,I);O[I]?O[I].p(J,x):(O[I]=Ul(J),O[I].c(),O[I].m(c,null))}for(;I<O.length;I+=1)O[I].d(1);O.length=P.length}w[5].length>0?A?(A.p(w,x),x[0]&32&&z(A,1)):(A=Vl(w),A.c(),z(A,1),A.m(i,h)):A&&(ke(),L(A,1,1,()=>{A=null}),ve()),w[4].length>0?S?S.p(w,x):(S=Yl(w),S.c(),S.m(i,m)):S&&(S.d(1),S=null),w[3].length>0?B?B.p(w,x):(B=Kl(w),B.c(),B.m(i,p)):B&&(B.d(1),B=null),(!M||x[0]&4)&&y!==(y=Je(w[2])+"")&&ue(W,y)},i(w){M||(z(A),M=!0)},o(w){L(A),M=!1},d(w){w&&N(e),de(C,w),de(O,w),A&&A.d(),S&&S.d(),B&&B.d(),t[19](null),T=!1,F()}}}function Jl(t,e){const l=n=>{const r=Math.floor(n/60),i=Math.floor(n%60);return`${r}:${i.toString().padStart(2,"0")}`};return`${l(t)} - ${l(e)}`}function li(t,e,l){let n,r,i,o,s,c,a,h,m;Re(t,ce,w=>l(14,a=w)),Re(t,We,w=>l(15,h=w)),Re(t,rt,w=>l(7,m=w));let p,g=!1,d=null,k=0,v=0,b;Mt(()=>(b=p.getBoundingClientRect(),window.addEventListener("mousemove",W),window.addEventListener("mouseup",M),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",M)}));function y(w,x,I){w.button===0&&(g=!0,d=x,k=w.clientY,v=I,b=p.getBoundingClientRect(),w.preventDefault())}function W(w){var Se;if(!g||!d||!p)return;const J=(w.clientY-k)/b.height*n;let se=v+J;se=Math.max(0,Math.min(se,n-(((Se=a.bRollClips.find(K=>K.id===d))==null?void 0:Se.duration)||0))),ce.updateBRollClipStart(d,se)}function M(){g=!1,d=null}function T(w){if(!p||n<=0||g)return;const x=p.getBoundingClientRect(),I=w.clientY-x.top,se=Math.max(0,Math.min(1,I/x.height))*n;We.setCurrentTime(se),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:se}}))}function F(w){rt.update(x=>({...x,selectedCaptionId:w.id})),We.setCurrentTime(w.start),window.dispatchEvent(new CustomEvent("timeline-seek",{detail:{time:w.start}}))}function E(w){ce.removeBRoll(w)}function C(w){const x=w.start/n*100,I=Math.max(3,(w.end-w.start)/n*100);return`top: ${x}%; height: ${I}%;`}function P(){if(!n||n<=0)return"top: 0%;";const w=c/n*100;return`top: ${Math.max(0,Math.min(100,w))}%;`}const O=w=>F(w),A=w=>E(w.id),S=(w,x)=>y(x,w.id,w.start);function B(w){gt[w?"unshift":"push"](()=>{p=w,l(0,p)})}return t.$$.update=()=>{t.$$.dirty[0]&16384&&l(1,n=(a==null?void 0:a.videoDuration)||1),t.$$.dirty[0]&16384&&l(6,r=(a==null?void 0:a.captions)||[]),t.$$.dirty[0]&16384&&l(5,i=(a==null?void 0:a.bRollClips)||[]),t.$$.dirty[0]&16384&&l(4,o=(a==null?void 0:a.zoomEffects)||[]),t.$$.dirty[0]&16384&&l(3,s=(a==null?void 0:a.soundEffects)||[]),t.$$.dirty[0]&32768&&l(2,c=h.currentTime)},[p,n,c,s,o,i,r,m,y,T,F,E,C,P,a,h,O,A,S,B]}class ni extends $e{constructor(e){super(),we(this,e,li,ti,me,{},null,[-1,-1])}}function ri(t){const e=t-1;return e*e*e+1}function Ql(t,{delay:e=0,duration:l=400,easing:n=an}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:i=>`opacity: ${i*r}`}}function Xl(t,{delay:e=0,duration:l=400,easing:n=ri,start:r=0,opacity:i=0}={}){const o=getComputedStyle(t),s=+o.opacity,c=o.transform==="none"?"":o.transform,a=1-r,h=s*(1-i);return{delay:e,duration:l,easing:n,css:(m,p)=>`
			transform: ${c} scale(${1-a*p});
			opacity: ${s-h*p}
		`}}function en(t,e,l){const n=t.slice();return n[14]=e[l],n}function tn(t,e,l){const n=t.slice();return n[17]=e[l],n}function ln(t,e,l){const n=t.slice();return n[20]=e[l],n}function nn(t){let e,l,n,r,i,o,s,c,a;function h(g,d){return g[1]?oi:ii}let m=h(t),p=m(t);return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent="Export Video",r=$(),p.c(),f(n,"class","text-xl font-semibold text-white mb-4"),f(l,"class","bg-dark-light rounded-2xl w-full max-w-md p-6 border border-dark-lighter"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(g,d){D(g,e,d),u(e,l),u(l,n),u(l,r),p.m(l,null),s=!0,c||(a=[G(l,"click",Et(t[8])),G(e,"click",t[6]),G(e,"keydown",t[12])],c=!0)},p(g,d){m===(m=h(g))&&p?p.p(g,d):(p.d(1),p=m(g),p&&(p.c(),p.m(l,null)))},i(g){s||(g&&Ze(()=>{s&&(i||(i=ct(l,Xl,{duration:200,start:.95},!0)),i.run(1))}),g&&Ze(()=>{s&&(o||(o=ct(e,Ql,{duration:200},!0)),o.run(1))}),s=!0)},o(g){g&&(i||(i=ct(l,Xl,{duration:200,start:.95},!1)),i.run(0)),g&&(o||(o=ct(e,Ql,{duration:200},!1)),o.run(0)),s=!1},d(g){g&&N(e),p.d(),g&&i&&i.end(),g&&o&&o.end(),c=!1,ye(a)}}}function ii(t){let e,l,n,r,i,o,s,c,a,h,m,p,g,d,k,v,b,y,W,M,T,F,E=V(["1080x1920","1920x1080","1080x1080"]),C=[];for(let B=0;B<3;B+=1)C[B]=rn(ln(t,E,B));let P=V([24,30,60]),O=[];for(let B=0;B<3;B+=1)O[B]=on(tn(t,P,B));let A=V(["standard","high","ultra"]),S=[];for(let B=0;B<3;B+=1)S[B]=sn(en(t,A,B));return{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Resolution",r=$(),i=_("div");for(let B=0;B<3;B+=1)C[B].c();o=$(),s=_("div"),c=_("label"),c.textContent="Frame Rate",a=$(),h=_("div");for(let B=0;B<3;B+=1)O[B].c();m=$(),p=_("div"),g=_("label"),g.textContent="Quality",d=$(),k=_("div");for(let B=0;B<3;B+=1)S[B].c();v=$(),b=_("div"),y=_("button"),y.textContent="Cancel",W=$(),M=_("button"),M.textContent="Export",f(n,"class","text-sm text-dark-text-light mb-2 block"),f(i,"class","grid grid-cols-3 gap-2"),f(c,"class","text-sm text-dark-text-light mb-2 block"),f(h,"class","flex gap-2"),f(g,"class","text-sm text-dark-text-light mb-2 block"),f(k,"class","flex gap-2"),f(y,"class","flex-1 p-3 rounded-lg border border-dark-lighter text-dark-text-light hover:bg-dark-lighter transition"),f(M,"class","flex-1 p-3 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(B,w){D(B,e,w),u(e,l),u(l,n),u(l,r),u(l,i);for(let x=0;x<3;x+=1)C[x]&&C[x].m(i,null);u(e,o),u(e,s),u(s,c),u(s,a),u(s,h);for(let x=0;x<3;x+=1)O[x]&&O[x].m(h,null);u(e,m),u(e,p),u(p,g),u(p,d),u(p,k);for(let x=0;x<3;x+=1)S[x]&&S[x].m(k,null);u(e,v),u(e,b),u(b,y),u(b,W),u(b,M),T||(F=[G(y,"click",t[6]),G(M,"click",t[5])],T=!0)},p(B,w){if(w&1){E=V(["1080x1920","1920x1080","1080x1080"]);let x;for(x=0;x<3;x+=1){const I=ln(B,E,x);C[x]?C[x].p(I,w):(C[x]=rn(I),C[x].c(),C[x].m(i,null))}for(;x<3;x+=1)C[x].d(1)}if(w&1){P=V([24,30,60]);let x;for(x=0;x<3;x+=1){const I=tn(B,P,x);O[x]?O[x].p(I,w):(O[x]=on(I),O[x].c(),O[x].m(h,null))}for(;x<3;x+=1)O[x].d(1)}if(w&1){A=V(["standard","high","ultra"]);let x;for(x=0;x<3;x+=1){const I=en(B,A,x);S[x]?S[x].p(I,w):(S[x]=sn(I),S[x].c(),S[x].m(k,null))}for(;x<3;x+=1)S[x].d(1)}},d(B){B&&N(e),de(C,B),de(O,B),de(S,B),T=!1,ye(F)}}}function oi(t){let e,l,n,r,i,o,s,c,a,h,m,p,g;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-primary animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=$(),i=_("p"),o=U(t[3]),s=$(),c=_("p"),a=U(t[2]),h=U("% complete"),m=$(),p=_("div"),g=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-dark mb-4"),f(i,"class","text-lg font-medium text-white"),f(c,"class","text-sm text-dark-text-light mt-1"),f(l,"class","text-center"),f(g,"class","h-full bg-primary transition-all duration-300"),oe(g,"width",t[2]+"%"),f(p,"class","h-2 bg-dark-lighter rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(d,k){D(d,e,k),u(e,l),u(l,n),u(l,r),u(l,i),u(i,o),u(l,s),u(l,c),u(c,a),u(c,h),u(e,m),u(e,p),u(p,g)},p(d,k){k&8&&ue(o,d[3]),k&4&&ue(a,d[2]),k&4&&oe(g,"width",d[2]+"%")},d(d){d&&N(e)}}}function rn(t){let e,l=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,i,o,s;function c(){return t[9](t[20])}return{c(){e=_("button"),n=U(l),r=$(),f(e,"class",i="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){D(a,e,h),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,h){t=a,h&1&&i!==(i="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&N(e),o=!1,s()}}}function on(t){let e,l,n,r,i,o;function s(){return t[10](t[17])}return{c(){e=_("button"),l=U(t[17]),n=U(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(c,a){D(c,e,a),u(e,l),u(e,n),i||(o=G(e,"click",s),i=!0)},p(c,a){t=c,a&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",r)},d(c){c&&N(e),i=!1,o()}}}function sn(t){let e,l=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",n,r,i,o,s;function c(){return t[11](t[14])}return{c(){e=_("button"),n=U(l),r=$(),f(e,"class",i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))},m(a,h){D(a,e,h),u(e,n),u(e,r),o||(s=G(e,"click",c),o=!0)},p(a,h){t=a,h&1&&i!==(i="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-primary text-white border-primary":"bg-dark-lighter text-dark-text-light border-dark-lighter hover:border-primary"))&&f(e,"class",i)},d(a){a&&N(e),o=!1,s()}}}function si(t){let e,l=t[4]&&nn(t);return{c(){l&&l.c(),e=St()},m(n,r){l&&l.m(n,r),D(n,e,r)},p(n,[r]){n[4]?l?(l.p(n,r),r&16&&z(l,1)):(l=nn(n),l.c(),z(l,1),l.m(e.parentNode,e)):l&&(ke(),L(l,1,1,()=>{l=null}),ve())},i(n){z(l)},o(n){L(l)},d(n){n&&N(e),l&&l.d(n)}}}function ai(t,e,l){let n,r,i;Re(t,ce,b=>l(13,r=b)),Re(t,rt,b=>l(7,i=b));let o={resolution:"1080x1920",fps:30,quality:"high"},s=!1,c=0,a="";async function h(){if(r){l(1,s=!0),l(3,a="Preparing..."),l(2,c=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:o,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const y=await b.json(),W=setInterval(async()=>{const T=await(await fetch(`/api/export/status/${y.export_id}`)).json();l(2,c=T.progress||0),l(3,a=T.message||"Processing..."),T.status==="completed"?(clearInterval(W),l(1,s=!1),window.open(T.download_url,"_blank"),m()):T.status==="failed"&&(clearInterval(W),l(1,s=!1),l(3,a="Export failed"))},2e3)}catch(b){l(1,s=!1),l(3,a="Export failed"),console.error("Export error:",b)}}}function m(){s||rt.update(b=>({...b,isExporting:!1}))}function p(b){Rn.call(this,t,b)}const g=b=>l(0,o.resolution=b,o),d=b=>l(0,o.fps=b,o),k=b=>l(0,o.quality=b,o),v=b=>b.key==="Escape"&&m();return t.$$.update=()=>{t.$$.dirty&128&&l(4,n=i.isExporting)},[o,s,c,a,n,h,m,i,p,g,d,k,v]}class ci extends $e{constructor(e){super(),we(this,e,ai,si,me,{})}}function ui(t){let e,l;return e=new Fr({props:{$$slots:{timeline:[_i],panel:[mi],preview:[gi],sidebar:[pi]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p(n,r){const i={};r&64&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function fi(t){let e,l,n,r,i,o,s,c,a,h,m,p,g;return{c(){e=_("div"),l=_("h2"),l.textContent="Start Creating Magic",n=$(),r=_("p"),r.textContent=`Unleash the power of AI to transform your videos with stunning, viral-ready captions,
        emojis, and dynamic effects.`,i=$(),o=_("div"),s=_("button"),s.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0l-4 4m4-4v12"></path></svg>
          Upload New Video`,c=$(),a=_("a"),a.innerHTML=`<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          Browse Projects`,h=$(),m=_("p"),m.innerHTML='Need inspiration? Check out our <a href="/examples" class="text-primary hover:underline">examples gallery</a>.',f(l,"class","text-5xl font-heading text-white mb-6 animate-fade-in"),f(r,"class","text-lg text-dark-text-light mb-8 max-w-xl animate-slide-up"),f(s,"class","flex items-center gap-2 px-8 py-4 bg-primary text-white text-xl font-semibold rounded-xl shadow-lg hover:bg-primary-dark transition-all duration-300 transform hover:-translate-y-1"),f(a,"href","/dashboard"),f(a,"class","flex items-center gap-2 px-8 py-4 bg-dark-lighter text-dark-text-light text-xl font-semibold rounded-xl shadow-lg hover:bg-primary hover:text-white transition-all duration-300 transform hover:-translate-y-1"),f(o,"class","flex gap-4 mb-12 animate-bounce-in"),f(m,"class","text-sm text-dark-text mt-4"),f(e,"class","flex flex-col items-center justify-center h-full text-dark-text ml-16 px-8 text-center")},m(d,k){D(d,e,k),u(e,l),u(e,n),u(e,r),u(e,i),u(e,o),u(o,s),u(o,c),u(o,a),u(e,h),u(e,m),p||(g=G(s,"click",t[3]),p=!0)},p:Z,i:Z,o:Z,d(d){d&&N(e),p=!1,g()}}}function di(t){let e,l;return{c(){e=_("div"),l=U(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){D(n,e,r),u(e,l)},p(n,r){r&2&&ue(l,n[1])},i:Z,o:Z,d(n){n&&N(e)}}}function hi(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(l,n){D(l,e,n)},p:Z,i:Z,o:Z,d(l){l&&N(e)}}}function pi(t){let e,l;return e=new kr({props:{slot:"sidebar"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function gi(t){let e,l;return e=new zr({props:{slot:"preview"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function mi(t){let e,l;return e=new ei({props:{slot:"panel"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function _i(t){let e,l;return e=new ni({props:{slot:"timeline"}}),{c(){te(e.$$.fragment)},m(n,r){X(e,n,r),l=!0},p:Z,i(n){l||(z(e.$$.fragment,n),l=!0)},o(n){L(e.$$.fragment,n),l=!1},d(n){ee(e,n)}}}function bi(t){let e,l,n,r,i,o;const s=[hi,di,fi,ui],c=[];function a(h,m){return h[0]?0:h[1]?1:h[2]?3:2}return l=a(t),n=c[l]=s[l](t),i=new ci({}),{c(){e=_("main"),n.c(),r=$(),te(i.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-dark text-dark-text font-sans")},m(h,m){D(h,e,m),c[l].m(e,null),D(h,r,m),X(i,h,m),o=!0},p(h,[m]){let p=l;l=a(h),l===p?c[l].p(h,m):(ke(),L(c[p],1,1,()=>{c[p]=null}),ve(),n=c[l],n?n.p(h,m):(n=c[l]=s[l](h),n.c()),z(n,1),n.m(e,null))},i(h){o||(z(n),z(i.$$.fragment,h),o=!0)},o(h){L(n),L(i.$$.fragment,h),o=!1},d(h){h&&(N(e),N(r)),c[l].d(),ee(i,h)}}}function ki(t,e,l){let n;Re(t,ce,a=>l(2,n=a));let r=null,i=!0,o=null;Mt(async()=>{const a=window.location.pathname.split("/"),h=a.indexOf("edit");h>-1&&a.length>h+1?(r=a[h+1],await s(r)):l(0,i=!1)});async function s(a){try{l(0,i=!0),console.log("Loading project:",a);const h=await fetch(`/api/editor_data/${a}`);if(console.log("Response status:",h.status),!h.ok)throw new Error("Failed to load project");const m=await h.json();console.log("Project data received:",m),console.log("Video URL:",m.video_url),console.log("Captions:",m.captions);const p=m.captions||[];console.log("Processing captions:",p.length,"items");let g=0;if(p.length>0){const k=p[p.length-1];if(k!=null&&k.words&&k.words.length>0){const v=k.words[k.words.length-1];g=(v==null?void 0:v.end)||0}else k!=null&&k.end&&(g=k.end)}console.log("Calculated duration:",g);const d={id:m.job_id,name:m.original_filename||"Untitled",videoUrl:m.video_url,videoDuration:g,captions:p,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:m.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date};console.log("Setting project store with:",d),ce.set(d),g&&We.update(k=>({...k,duration:g})),console.log("Project loaded successfully")}catch(h){console.error("Error loading project:",h),l(1,o=h instanceof Error?h.message:"Failed to load project")}finally{l(0,i=!1),console.log("Loading finished. currentProject:",n)}}return[i,o,n,()=>window.location.href="/upload"]}class vi extends $e{constructor(e){super(),we(this,e,ki,bi,me,{})}}new vi({target:document.getElementById("app")});
