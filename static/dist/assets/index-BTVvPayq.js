var Xl=Object.defineProperty;var en=(t,e,l)=>e in t?Xl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var gt=(t,e,l)=>en(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=l(r);fetch(r.href,o)}})();function O(){}const zl=t=>t;function Z(t,e){for(const l in e)t[l]=e[l];return t}function Al(t){return t()}function Pt(){return Object.create(null)}function be(t){t.forEach(Al)}function ft(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let tt;function ot(t,e){return t===e?!0:(tt||(tt=document.createElement("a")),tt.href=e,t===tt.href)}function tn(t){return Object.keys(t).length===0}function Rl(t,...e){if(t==null){for(const n of e)n(void 0);return O}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function de(t,e,l){t.$$.on_destroy.push(Rl(e,l))}function we(t,e,l,n){if(t){const r=Hl(t,e,l,n);return t[0](r)}}function Hl(t,e,l,n){return t[1]&&n?Z(l.ctx.slice(),t[1](n(e))):l.ctx}function ke(t,e,l,n){if(t[2]&&n){const r=t[2](n(l));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],i=Math.max(e.dirty.length,r.length);for(let s=0;s<i;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function xe(t,e,l,n,r,o){if(r){const i=Hl(e,l,n,o);t.p(i,r)}}function Fe(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function he(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function jt(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const Dl=typeof window<"u";let ln=Dl?()=>window.performance.now():()=>Date.now(),wt=Dl?t=>requestAnimationFrame(t):O;const Ae=new Set;function Ol(t){Ae.forEach(e=>{e.c(t)||(Ae.delete(e),e.f())}),Ae.size!==0&&wt(Ol)}function nn(t){let e;return Ae.size===0&&wt(Ol),{promise:new Promise(l=>{Ae.add(e={c:t,f:l})}),abort(){Ae.delete(e)}}}function u(t,e){t.appendChild(e)}function Ul(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function rn(t){const e=_("style");return e.textContent="/* empty */",on(Ul(t),e),e.sheet}function on(t,e){return u(t.head||t,e),e.sheet}function L(t,e,l){t.insertBefore(e,l||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function re(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function _(t){return document.createElement(t)}function it(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t){return document.createTextNode(t)}function S(){return J(" ")}function kt(){return J("")}function q(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function ql(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function f(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function st(t,e){for(const l in e)f(t,l,e[l])}function sn(t){return Array.from(t.childNodes)}function me(t,e){e=""+e,t.data!==e&&(t.data=e)}function at(t,e){t.value=e??""}function Me(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function lt(t,e,l){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e){r.selected=!0;return}}t.selectedIndex=-1}function an(t,e,{bubbles:l=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:l,cancelable:n})}function It(t,e){return new t(e)}const ct=new Map;let ut=0;function cn(t){let e=5381,l=t.length;for(;l--;)e=(e<<5)-e^t.charCodeAt(l);return e>>>0}function un(t,e){const l={stylesheet:rn(e),rules:{}};return ct.set(t,l),l}function Lt(t,e,l,n,r,o,i,s=0){const a=16.666/n;let c=`{
`;for(let k=0;k<=1;k+=a){const b=e+(l-e)*o(k);c+=k*100+`%{${i(b,1-b)}}
`}const p=c+`100% {${i(l,1-l)}}
}`,m=`__svelte_${cn(p)}_${s}`,d=Ul(t),{stylesheet:h,rules:g}=ct.get(d)||un(d,t);g[m]||(g[m]=!0,h.insertRule(`@keyframes ${m} ${p}`,h.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${m} ${n}ms linear ${r}ms 1 both`,ut+=1,m}function fn(t,e){const l=(t.style.animation||"").split(", "),n=l.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=l.length-n.length;r&&(t.style.animation=n.join(", "),ut-=r,ut||dn())}function dn(){wt(()=>{ut||(ct.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),ct.clear())})}let Ke;function Ze(t){Ke=t}function hn(){if(!Ke)throw new Error("Function called outside component initialization");return Ke}function Vl(t){hn().$$.on_mount.push(t)}function gn(t,e){const l=t.$$.callbacks[e.type];l&&l.slice().forEach(n=>n.call(this,e))}const ze=[],Xe=[];let Re=[];const zt=[],pn=Promise.resolve();let bt=!1;function _n(){bt||(bt=!0,pn.then(Gl))}function He(t){Re.push(t)}const pt=new Set;let Ie=0;function Gl(){if(Ie!==0)return;const t=Ke;do{try{for(;Ie<ze.length;){const e=ze[Ie];Ie++,Ze(e),mn(e.$$)}}catch(e){throw ze.length=0,Ie=0,e}for(Ze(null),ze.length=0,Ie=0;Xe.length;)Xe.pop()();for(let e=0;e<Re.length;e+=1){const l=Re[e];pt.has(l)||(pt.add(l),l())}Re.length=0}while(ze.length);for(;zt.length;)zt.pop()();bt=!1,pt.clear(),Ze(t)}function mn(t){if(t.fragment!==null){t.update(),be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(He)}}function bn(t){const e=[],l=[];Re.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),Re=e}let Ye;function yn(){return Ye||(Ye=Promise.resolve(),Ye.then(()=>{Ye=null})),Ye}function _t(t,e,l){t.dispatchEvent(an(`${e?"intro":"outro"}${l}`))}const rt=new Set;let Te;function $e(){Te={r:0,c:[],p:Te}}function Ce(){Te.r||be(Te.c),Te=Te.p}function E(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function j(t,e,l,n){if(t&&t.o){if(rt.has(t))return;rt.add(t),Te.c.push(()=>{rt.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}const vn={duration:0};function nt(t,e,l,n){let o=e(t,l,{direction:"both"}),i=n?0:1,s=null,a=null,c=null,p;function m(){c&&fn(t,c)}function d(g,w){const k=g.b-i;return w*=Math.abs(k),{a:i,b:g.b,d:k,duration:w,start:g.start,end:g.start+w,group:g.group}}function h(g){const{delay:w=0,duration:k=300,easing:b=zl,tick:y=O,css:x}=o||vn,W={start:ln()+w,b:g};g||(W.group=Te,Te.r+=1),"inert"in t&&(g?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),s||a?a=W:(x&&(m(),c=Lt(t,i,g,k,w,b,x)),g&&y(0,1),s=d(W,k),He(()=>_t(t,g,"start")),nn(B=>{if(a&&B>a.start&&(s=d(a,k),a=null,_t(t,s.b,"start"),x&&(m(),c=Lt(t,i,s.b,s.duration,0,b,o.css))),s){if(B>=s.end)y(i=s.b,1-i),_t(t,s.b,"end"),a||(s.b?m():--s.group.r||be(s.group.c)),s=null;else if(B>=s.start){const M=B-s.start;i=s.a+s.d*b(M/s.duration),y(i,1-i)}}return!!(s||a)}))}return{run(g){ft(o)?yn().then(()=>{o=o({direction:g?"in":"out"}),h(g)}):h(g)},end(){m(),s=a=null}}}function D(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ee(t,e){const l={},n={},r={$$scope:1};let o=t.length;for(;o--;){const i=t[o],s=e[o];if(s){for(const a in i)a in s||(n[a]=1);for(const a in s)r[a]||(l[a]=s[a],r[a]=1);t[o]=s}else for(const a in i)r[a]=1}for(const i in n)i in l||(l[i]=void 0);return l}function De(t){return typeof t=="object"&&t!==null?t:{}}function ne(t){t&&t.c()}function ee(t,e,l){const{fragment:n,after_update:r}=t.$$;n&&n.m(e,l),He(()=>{const o=t.$$.on_mount.map(Al).filter(ft);t.$$.on_destroy?t.$$.on_destroy.push(...o):be(o),t.$$.on_mount=[]}),r.forEach(He)}function te(t,e){const l=t.$$;l.fragment!==null&&(bn(l.after_update),be(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function wn(t,e){t.$$.dirty[0]===-1&&(ze.push(t),_n(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ge(t,e,l,n,r,o,i=null,s=[-1]){const a=Ke;Ze(t);const c=t.$$={fragment:null,ctx:[],props:o,update:O,not_equal:r,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Pt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};i&&i(c.root);let p=!1;if(c.ctx=l?l(t,e.props||{},(m,d,...h)=>{const g=h.length?h[0]:d;return c.ctx&&r(c.ctx[m],c.ctx[m]=g)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](g),p&&wn(t,m)),d}):[],c.update(),p=!0,be(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const m=sn(e.target);c.fragment&&c.fragment.l(m),m.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&E(t.$$.fragment),ee(t,e.target,e.anchor),Gl()}Ze(a)}class pe{constructor(){gt(this,"$$");gt(this,"$$set")}$destroy(){te(this,1),this.$destroy=O}$on(e,l){if(!ft(l))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const r=n.indexOf(l);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!tn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kn);const Le=[];function xn(t,e){return{subscribe:Oe(t,e).subscribe}}function Oe(t,e=O){let l;const n=new Set;function r(s){if(ie(t,s)&&(t=s,l)){const a=!Le.length;for(const c of n)c[1](),Le.push(c,t);if(a){for(let c=0;c<Le.length;c+=2)Le[c][0](Le[c+1]);Le.length=0}}}function o(s){r(s(t))}function i(s,a=O){const c=[s,a];return n.add(c),n.size===1&&(l=e(r,o)||O),s(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:r,update:o,subscribe:i}}function Jl(t,e,l){const n=!Array.isArray(t),r=n?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return xn(l,(i,s)=>{let a=!1;const c=[];let p=0,m=O;const d=()=>{if(p)return;m();const g=e(n?c[0]:c,i,s);o?i(g):m=ft(g)?g:O},h=r.map((g,w)=>Rl(g,k=>{c[w]=k,p&=~(1<<w),a&&d()},()=>{p|=1<<w}));return a=!0,d(),function(){be(h),m(),a=!1}})}const yt={"alex-hormozi":{fontFamily:"Inter",fontWeight:"900",fontSize:48,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0,letterSpacing:2,lineHeight:1.2},minimal:{fontFamily:"Inter",fontWeight:"normal",fontSize:36,color:"#FFFFFF",backgroundColor:"rgba(0,0,0,0.6)",textTransform:"none",textShadow:"light",animation:"fade",position:"bottom",alignment:"center",highlightWords:!1,wordByWord:!1},"modern-vibe":{fontFamily:"Inter",fontWeight:"bold",fontSize:42,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"slide-up",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#FF6B6B",wordByWord:!0},"tiktok-viral":{fontFamily:"Inter",fontWeight:"900",fontSize:52,color:"#FFFFFF",backgroundColor:"transparent",textTransform:"uppercase",textShadow:"heavy",animation:"bounce",position:"middle",alignment:"center",highlightWords:!0,highlightColor:"#00F5FF",wordByWord:!0,letterSpacing:3}},Fn={fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",backgroundColor:"transparent",textTransform:"none",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",letterSpacing:0,lineHeight:1.2,highlightWords:!1,wordByWord:!1},vt=Oe("captions");function $n(){const{subscribe:t,set:e,update:l}=Oe(null);return{subscribe:t,set:e,update:l,updateCaption:(n,r)=>{l(o=>{if(!o)return o;const i=o.captions.map(s=>s.id===n?{...s,...r}:s);return{...o,captions:i,updatedAt:new Date}})},updateStyle:n=>{l(r=>r&&{...r,style:{...r.style,...n},updatedAt:new Date})},applyPreset:n=>{l(r=>{if(!r)return r;const o=yt[n];return o?{...r,style:{...Fn,...o},updatedAt:new Date}:r})},addBRoll:n=>{l(r=>r&&{...r,bRollClips:[...r.bRollClips,n],updatedAt:new Date})},removeBRoll:n=>{l(r=>r&&{...r,bRollClips:r.bRollClips.filter(o=>o.id!==n),updatedAt:new Date})}}}const oe=$n();function Cn(){const{subscribe:t,set:e,update:l}=Oe({currentTime:0,duration:0,isPlaying:!1,volume:1,playbackRate:1});return{subscribe:t,set:e,update:l,setCurrentTime:n=>l(r=>({...r,currentTime:n})),setPlaying:n=>l(r=>({...r,isPlaying:n})),togglePlay:()=>l(n=>({...n,isPlaying:!n.isPlaying}))}}const ve=Cn(),et=Oe({isExporting:!1,exportProgress:0,selectedCaptionId:null,showPreview:!0,sidebarOpen:!0,activeWordIndex:-1}),At=Oe(null),Ql=Jl([oe,ve],([t,e])=>t&&t.captions.find(l=>e.currentTime>=l.start&&e.currentTime<=l.end)||null),Sn=Jl([Ql,ve],([t,e])=>!t||!t.words?null:t.words.find(l=>e.currentTime>=l.start&&e.currentTime<=l.end)||null);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ht(t,e,l){const n=t.slice();return n[10]=e[l][0],n[11]=e[l][1],n}function mt(t){let e,l=[t[11]],n={};for(let r=0;r<l.length;r+=1)n=Z(n,l[r]);return{c(){e=it(t[10]),st(e,n)},m(r,o){L(r,e,o)},p(r,o){st(e,n=Ee(l,[o&32&&r[11]]))},d(r){r&&P(e)}}}function Dt(t){let e=t[10],l,n=t[10]&&mt(t);return{c(){n&&n.c(),l=kt()},m(r,o){n&&n.m(r,o),L(r,l,o)},p(r,o){r[10]?e?ie(e,r[10])?(n.d(1),n=mt(r),e=r[10],n.c(),n.m(l.parentNode,l)):n.p(r,o):(n=mt(r),e=r[10],n.c(),n.m(l.parentNode,l)):e&&(n.d(1),n=null,e=r[10])},d(r){r&&P(l),n&&n.d(r)}}}function Mn(t){let e,l,n,r,o,i=D(t[5]),s=[];for(let d=0;d<i.length;d+=1)s[d]=Dt(Ht(t,i,d));const a=t[9].default,c=we(a,t,t[8],null);let p=[Rt,t[6],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:r=`lucide-icon lucide lucide-${t[0]} ${t[7].class??""}`}],m={};for(let d=0;d<p.length;d+=1)m=Z(m,p[d]);return{c(){e=it("svg");for(let d=0;d<s.length;d+=1)s[d].c();l=kt(),c&&c.c(),st(e,m)},m(d,h){L(d,e,h);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(e,null);u(e,l),c&&c.m(e,null),o=!0},p(d,[h]){if(h&32){i=D(d[5]);let g;for(g=0;g<i.length;g+=1){const w=Ht(d,i,g);s[g]?s[g].p(w,h):(s[g]=Dt(w),s[g].c(),s[g].m(e,l))}for(;g<s.length;g+=1)s[g].d(1);s.length=i.length}c&&c.p&&(!o||h&256)&&xe(c,a,d,d[8],o?ke(a,d[8],h,null):Fe(d[8]),null),st(e,m=Ee(p,[Rt,h&64&&d[6],(!o||h&4)&&{width:d[2]},(!o||h&4)&&{height:d[2]},(!o||h&2)&&{stroke:d[1]},(!o||h&28&&n!==(n=d[4]?Number(d[3])*24/Number(d[2]):d[3]))&&{"stroke-width":n},(!o||h&129&&r!==(r=`lucide-icon lucide lucide-${d[0]} ${d[7].class??""}`))&&{class:r}]))},i(d){o||(E(c,d),o=!0)},o(d){j(c,d),o=!1},d(d){d&&P(e),re(s,d),c&&c.d(d)}}}function Tn(t,e,l){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let r=jt(e,n),{$$slots:o={},$$scope:i}=e,{name:s}=e,{color:a="currentColor"}=e,{size:c=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:m=!1}=e,{iconNode:d}=e;return t.$$set=h=>{l(7,e=Z(Z({},e),he(h))),l(6,r=jt(e,n)),"name"in h&&l(0,s=h.name),"color"in h&&l(1,a=h.color),"size"in h&&l(2,c=h.size),"strokeWidth"in h&&l(3,p=h.strokeWidth),"absoluteStrokeWidth"in h&&l(4,m=h.absoluteStrokeWidth),"iconNode"in h&&l(5,d=h.iconNode),"$$scope"in h&&l(8,i=h.$$scope)},e=he(e),[s,a,c,p,m,d,r,e,i,o]}class Ue extends pe{constructor(e){super(),ge(this,e,Tn,Mn,ie,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function En(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Wn(t){let e,l;const n=[{name:"film"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[En]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function Bn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 3v18"}],["path",{d:"M3 7.5h4"}],["path",{d:"M3 12h18"}],["path",{d:"M3 16.5h4"}],["path",{d:"M17 3v18"}],["path",{d:"M17 7.5h4"}],["path",{d:"M17 16.5h4"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class Yl extends pe{constructor(e){super(),ge(this,e,Bn,Wn,ie,{})}}function Nn(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Pn(t){let e,l;const n=[{name:"loader-2"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Nn]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function jn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class Zl extends pe{constructor(e){super(),ge(this,e,jn,Pn,ie,{})}}function In(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Ln(t){let e,l;const n=[{name:"palette"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[In]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function zn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["circle",{cx:"13.5",cy:"6.5",r:".5"}],["circle",{cx:"17.5",cy:"10.5",r:".5"}],["circle",{cx:"8.5",cy:"7.5",r:".5"}],["circle",{cx:"6.5",cy:"12.5",r:".5"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class An extends pe{constructor(e){super(),ge(this,e,zn,Ln,ie,{})}}function Rn(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Hn(t){let e,l;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Rn]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function Dn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class On extends pe{constructor(e){super(),ge(this,e,Dn,Hn,ie,{})}}function Un(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function qn(t){let e,l;const n=[{name:"sparkles"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Un]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function Vn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class Kl extends pe{constructor(e){super(),ge(this,e,Vn,qn,ie,{})}}function Gn(t){let e;const l=t[2].default,n=we(l,t,t[3],null);return{c(){n&&n.c()},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&xe(n,l,r,r[3],e?ke(l,r[3],o,null):Fe(r[3]),null)},i(r){e||(E(n,r),e=!0)},o(r){j(n,r),e=!1},d(r){n&&n.d(r)}}}function Jn(t){let e,l;const n=[{name:"type"},t[1],{iconNode:t[0]}];let r={$$slots:{default:[Gn]},$$scope:{ctx:t}};for(let o=0;o<n.length;o+=1)r=Z(r,n[o]);return e=new Ue({props:r}),{c(){ne(e.$$.fragment)},m(o,i){ee(e,o,i),l=!0},p(o,[i]){const s=i&3?Ee(n,[n[0],i&2&&De(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(s.$$scope={dirty:i,ctx:o}),e.$set(s)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){j(e.$$.fragment,o),l=!1},d(o){te(e,o)}}}function Qn(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=[["polyline",{points:"4 7 4 4 20 4 20 7"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20"}]];return t.$$set=i=>{l(1,e=Z(Z({},e),he(i))),"$$scope"in i&&l(3,r=i.$$scope)},e=he(e),[o,e,n,r]}class Yn extends pe{constructor(e){super(),ge(this,e,Qn,Jn,ie,{})}}function Ot(t,e,l){const n=t.slice();return n[3]=e[l],n}function Ut(t){let e,l,n,r,o,i,s,a,c;var p=t[3].icon;function m(h,g){return{props:{class:"w-5 h-5"}}}p&&(l=It(p,m()));function d(){return t[2](t[3])}return{c(){e=_("button"),l&&ne(l.$$.fragment),n=S(),r=_("span"),r.textContent=`${t[3].label}`,o=S(),f(r,"class","absolute left-14 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-50"),f(e,"class",i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")),f(e,"title",t[3].label)},m(h,g){L(h,e,g),l&&ee(l,e,null),u(e,n),u(e,r),u(e,o),s=!0,a||(c=q(e,"click",d),a=!0)},p(h,g){if(t=h,p!==(p=t[3].icon)){if(l){$e();const w=l;j(w.$$.fragment,1,0,()=>{te(w,1)}),Ce()}p?(l=It(p,m()),ne(l.$$.fragment),E(l.$$.fragment,1),ee(l,e,n)):l=null}(!s||g&1&&i!==(i="w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200 group relative "+(t[0]===t[3].id?"bg-gray-900 text-white":"text-gray-500 hover:text-gray-900 hover:bg-gray-200")))&&f(e,"class",i)},i(h){s||(l&&E(l.$$.fragment,h),s=!0)},o(h){l&&j(l.$$.fragment,h),s=!1},d(h){h&&P(e),l&&te(l),a=!1,c()}}}function Zn(t){let e,l,n,r,o,i,s,a,c,p,m,d,h=D(t[1]),g=[];for(let k=0;k<h.length;k+=1)g[k]=Ut(Ot(t,h,k));const w=k=>j(g[k],1,1,()=>{g[k]=null});return{c(){e=_("div"),l=_("div"),l.innerHTML='<a href="/" class="text-gray-900"><svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M12 6v12"></path><path d="M9 9h6v6H9z"></path></svg></a>',n=S(),r=_("nav");for(let k=0;k<g.length;k+=1)g[k].c();o=S(),i=_("div"),s=_("a"),s.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>',a=S(),c=_("button"),c.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>',f(l,"class","h-14 flex items-center justify-center border-b border-gray-200"),f(r,"class","flex-1 flex flex-col items-center py-4 gap-1"),f(s,"href","/profile"),f(s,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-gray-900 hover:bg-gray-200 transition"),f(s,"title","Profile"),f(c,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:text-red-600 hover:bg-red-50 transition"),f(c,"title","Logout"),f(i,"class","flex flex-col items-center py-4 gap-2 border-t border-gray-200"),f(e,"class","flex flex-col h-full")},m(k,b){L(k,e,b),u(e,l),u(e,n),u(e,r);for(let y=0;y<g.length;y+=1)g[y]&&g[y].m(r,null);u(e,o),u(e,i),u(i,s),u(i,a),u(i,c),p=!0,m||(d=q(c,"click",Kn),m=!0)},p(k,[b]){if(b&3){h=D(k[1]);let y;for(y=0;y<h.length;y+=1){const x=Ot(k,h,y);g[y]?(g[y].p(x,b),E(g[y],1)):(g[y]=Ut(x),g[y].c(),E(g[y],1),g[y].m(r,null))}for($e(),y=h.length;y<g.length;y+=1)w(y);Ce()}},i(k){if(!p){for(let b=0;b<h.length;b+=1)E(g[b]);p=!0}},o(k){g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)j(g[b]);p=!1},d(k){k&&P(e),re(g,k),m=!1,d()}}}function Kn(){window.location.href="/logout"}function Xn(t,e,l){let n;return de(t,vt,i=>l(0,n=i)),[n,[{id:"captions",label:"Captions",icon:Yn},{id:"style",label:"Style",icon:An},{id:"broll",label:"B-Roll",icon:Yl},{id:"ai-tools",label:"AI Tools",icon:Kl}],i=>vt.set(i.id)]}class er extends pe{constructor(e){super(),ge(this,e,Xn,Zn,ie,{})}}const tr=t=>({}),qt=t=>({}),lr=t=>({}),Vt=t=>({}),nr=t=>({}),Gt=t=>({}),rr=t=>({}),Jt=t=>({});function or(t){let e,l,n,r,o,i,s,a,c,p,m,d,h,g,w,k,b,y,x,W;const B=t[1].sidebar,M=we(B,t,t[0],Jt),R=t[1].preview,C=we(R,t,t[0],Gt),H=t[1].timeline,A=we(H,t,t[0],Vt),V=t[1].panel,F=we(V,t,t[0],qt);return{c(){e=_("div"),l=_("aside"),M&&M.c(),n=S(),r=_("div"),o=_("header"),i=_("div"),i.innerHTML='<h1 class="font-semibold text-lg text-gray-900">Video Editor</h1> <span class="text-xs text-gray-400">Auto-save enabled</span>',s=S(),a=_("div"),c=_("button"),c.innerHTML=`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
          Export Video`,p=S(),m=_("div"),d=_("div"),h=_("div"),C&&C.c(),g=S(),w=_("div"),A&&A.c(),k=S(),b=_("aside"),F&&F.c(),f(l,"class","w-16 flex-shrink-0 border-r border-gray-200 bg-gray-50"),f(i,"class","flex items-center gap-4"),f(c,"class","px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition flex items-center gap-2"),f(a,"class","flex items-center gap-2"),f(o,"class","h-14 border-b border-gray-200 flex items-center justify-between px-4 bg-white"),f(h,"class","flex-1 flex items-center justify-center p-8 overflow-hidden"),f(w,"class","h-48 border-t border-gray-200 bg-white"),f(d,"class","flex-1 flex flex-col min-w-0 bg-gray-100"),f(b,"class","w-80 flex-shrink-0 border-l border-gray-200 bg-gray-50 overflow-y-auto"),f(m,"class","flex-1 flex overflow-hidden"),f(r,"class","flex-1 flex flex-col min-w-0"),f(e,"class","flex h-screen w-full bg-white")},m(v,U){L(v,e,U),u(e,l),M&&M.m(l,null),u(e,n),u(e,r),u(r,o),u(o,i),u(o,s),u(o,a),u(a,c),u(r,p),u(r,m),u(m,d),u(d,h),C&&C.m(h,null),u(d,g),u(d,w),A&&A.m(w,null),u(m,k),u(m,b),F&&F.m(b,null),y=!0,x||(W=q(c,"click",t[2]),x=!0)},p(v,[U]){M&&M.p&&(!y||U&1)&&xe(M,B,v,v[0],y?ke(B,v[0],U,rr):Fe(v[0]),Jt),C&&C.p&&(!y||U&1)&&xe(C,R,v,v[0],y?ke(R,v[0],U,nr):Fe(v[0]),Gt),A&&A.p&&(!y||U&1)&&xe(A,H,v,v[0],y?ke(H,v[0],U,lr):Fe(v[0]),Vt),F&&F.p&&(!y||U&1)&&xe(F,V,v,v[0],y?ke(V,v[0],U,tr):Fe(v[0]),qt)},i(v){y||(E(M,v),E(C,v),E(A,v),E(F,v),y=!0)},o(v){j(M,v),j(C,v),j(A,v),j(F,v),y=!1},d(v){v&&P(e),M&&M.d(v),C&&C.d(v),A&&A.d(v),F&&F.d(v),x=!1,W()}}}function ir(t,e,l){let{$$slots:n={},$$scope:r}=e;const o=()=>et.update(i=>({...i,isExporting:!0}));return t.$$set=i=>{"$$scope"in i&&l(0,r=i.$$scope)},[r,n,o]}class sr extends pe{constructor(e){super(),ge(this,e,ir,or,ie,{})}}function Qt(t){const e=Math.floor(t/60),l=Math.floor(t%60),n=Math.floor(t%1*100);return`${e}:${l.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}function ar(t){switch(t){case"light":return"0 1px 2px rgba(0,0,0,0.5)";case"medium":return"0 2px 4px rgba(0,0,0,0.6), 0 4px 8px rgba(0,0,0,0.4)";case"heavy":return"0 0 0 4px rgba(0,0,0,0.8), 0 4px 12px rgba(0,0,0,0.8), 0 8px 24px rgba(0,0,0,0.6)";default:return"none"}}function cr(t){switch(t){case"pop":return"animate-pop-in";case"slide-up":return"animate-slide-up";case"fade":return"animate-fade-in";case"bounce":return"animate-bounce-in";default:return""}}function Yt(t,e,l){const n=t.slice();return n[21]=e[l],n}function Zt(t){let e,l;function n(i,s){return i[0].wordByWord&&i[8].length>0?fr:ur}let r=n(t),o=r(t);return{c(){e=_("div"),o.c(),f(e,"class",l="absolute inset-x-6 "+t[12]()+" "+t[6]),f(e,"style",t[10]())},m(i,s){L(i,e,s),o.m(e,null)},p(i,s){r===(r=n(i))&&o?o.p(i,s):(o.d(1),o=r(i),o&&(o.c(),o.m(e,null))),s&64&&l!==(l="absolute inset-x-6 "+i[12]()+" "+i[6])&&f(e,"class",l)},d(i){i&&P(e),o.d()}}}function ur(t){let e=t[1].text+"",l;return{c(){l=J(e)},m(n,r){L(n,l,r)},p(n,r){r&2&&e!==(e=n[1].text+"")&&me(l,e)},d(n){n&&P(l)}}}function fr(t){let e,l=D(t[8]),n=[];for(let r=0;r<l.length;r+=1)n[r]=Kt(Yt(t,l,r));return{c(){e=_("span");for(let r=0;r<n.length;r+=1)n[r].c();f(e,"class","inline-flex flex-wrap justify-center gap-1")},m(r,o){L(r,e,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(r,o){if(o&2304){l=D(r[8]);let i;for(i=0;i<l.length;i+=1){const s=Yt(r,l,i);n[i]?n[i].p(s,o):(n[i]=Kt(s),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}},d(r){r&&P(e),re(n,r)}}}function Kt(t){let e,l=t[21].text+"",n,r,o;return{c(){e=_("span"),n=J(l),r=S(),f(e,"style",o=t[11](t[21]))},m(i,s){L(i,e,s),u(e,n),u(e,r)},p(i,s){s&256&&l!==(l=i[21].text+"")&&me(n,l),s&256&&o!==(o=i[11](i[21]))&&f(e,"style",o)},d(i){i&&P(e)}}}function Xt(t){let e,l,n;return{c(){e=_("button"),e.innerHTML='<div class="w-16 h-16 rounded-full bg-white/90 flex items-center justify-center shadow-lg"><svg class="w-8 h-8 text-gray-900 ml-1" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></div>',f(e,"class","absolute inset-0 flex items-center justify-center bg-black/30 transition-opacity hover:bg-black/40")},m(r,o){L(r,e,o),l||(n=q(e,"click",t[9]),l=!0)},p:O,d(r){r&&P(e),l=!1,n()}}}function dr(t){let e,l,n,r,o,i,s,a,c=Math.floor(t[7]/60)+"",p,m,d=(Math.floor(t[7])%60).toString().padStart(2,"0")+"",h,g,w,k=t[1]&&Zt(t),b=!t[2].isPlaying&&Xt(t);return{c(){var y;e=_("div"),l=_("video"),n=_("track"),o=S(),k&&k.c(),i=S(),b&&b.c(),s=S(),a=_("div"),p=J(c),m=J(":"),h=J(d),f(n,"kind","captions"),ot(l.src,r=(y=t[3])==null?void 0:y.videoUrl)||f(l,"src",r),f(l,"class","w-full h-full object-contain"),f(l,"crossorigin","anonymous"),f(a,"class","absolute bottom-4 left-4 text-white text-sm font-mono bg-black/60 px-2 py-1 rounded"),f(e,"class","relative w-full max-w-md aspect-[9/16] bg-black rounded-2xl overflow-hidden shadow-2xl")},m(y,x){L(y,e,x),u(e,l),u(l,n),t[15](l),u(e,o),k&&k.m(e,null),u(e,i),b&&b.m(e,null),u(e,s),u(e,a),u(a,p),u(a,m),u(a,h),t[16](e),g||(w=q(l,"click",t[9]),g=!0)},p(y,[x]){var W;x&8&&!ot(l.src,r=(W=y[3])==null?void 0:W.videoUrl)&&f(l,"src",r),y[1]?k?k.p(y,x):(k=Zt(y),k.c(),k.m(e,i)):k&&(k.d(1),k=null),y[2].isPlaying?b&&(b.d(1),b=null):b?b.p(y,x):(b=Xt(y),b.c(),b.m(e,s)),x&128&&c!==(c=Math.floor(y[7]/60)+"")&&me(p,c),x&128&&d!==(d=(Math.floor(y[7])%60).toString().padStart(2,"0")+"")&&me(h,d)},i:O,o:O,d(y){y&&P(e),t[15](null),k&&k.d(),b&&b.d(),t[16](null),g=!1,w()}}}function hr(t,e,l){let n,r,o,i,s,a,c,p,m,d;de(t,ve,C=>l(2,c=C)),de(t,Sn,C=>l(13,p=C)),de(t,Ql,C=>l(14,m=C)),de(t,oe,C=>l(3,d=C));let h,g,w;Vl(()=>(h&&(h.addEventListener("timeupdate",k),h.addEventListener("loadedmetadata",b),h.addEventListener("play",()=>ve.setPlaying(!0)),h.addEventListener("pause",()=>ve.setPlaying(!1))),()=>{h&&(h.removeEventListener("timeupdate",k),h.removeEventListener("loadedmetadata",b)),cancelAnimationFrame(w)}));function k(){h&&ve.setCurrentTime(h.currentTime)}function b(){h&&ve.update(C=>({...C,duration:h.duration}))}function y(){h&&(h.paused?h.play():h.pause())}function x(){return{fontFamily:n.fontFamily||"Inter",fontSize:`${n.fontSize||42}px`,fontWeight:n.fontWeight||"bold",color:n.color||"#FFFFFF",textShadow:ar(n.textShadow||"medium"),textTransform:n.textTransform||"none",letterSpacing:`${n.letterSpacing||0}px`,lineHeight:n.lineHeight||1.2,textAlign:n.alignment||"center"}}function W(C){const H=C===o;return{backgroundColor:H&&n.highlightWords?n.highlightColor||"#FFD700":"transparent",color:H&&n.highlightWords?"#000000":n.color||"#FFFFFF",padding:H&&n.highlightWords?"2px 6px":"0",borderRadius:H&&n.highlightWords?"4px":"0",transition:"all 0.1s ease"}}function B(){switch(n.position){case"top":return"top-16";case"middle":return"top-1/2 -translate-y-1/2";case"bottom":default:return"bottom-24"}}function M(C){Xe[C?"unshift":"push"](()=>{h=C,l(4,h)})}function R(C){Xe[C?"unshift":"push"](()=>{g=C,l(5,g)})}return t.$$.update=()=>{t.$$.dirty&8&&l(0,n=(d==null?void 0:d.style)||{}),t.$$.dirty&16384&&l(1,r=m),t.$$.dirty&8192&&(o=p),t.$$.dirty&2&&l(8,i=(r==null?void 0:r.words)||[]),t.$$.dirty&4&&l(7,s=c.currentTime),t.$$.dirty&1&&l(6,a=cr(n.animation||"pop"))},[n,r,c,d,h,g,a,s,i,y,x,W,B,p,m,M,R]}class gr extends pe{constructor(e){super(),ge(this,e,hr,dr,ie,{})}}function el(t,e,l){const n=t.slice();return n[47]=e[l],n}function tl(t,e,l){const n=t.slice();return n[44]=e[l],n}function ll(t,e,l){const n=t.slice();return n[28]=e[l],n}function nl(t,e,l){const n=t.slice();return n[31]=e[l],n}function rl(t,e,l){const n=t.slice();return n[34]=e[l],n}function ol(t,e,l){const n=t.slice();return n[37]=e[l],n}function il(t,e,l){const n=t.slice();return n[40]=e[l][0],n[41]=e[l][1],n}function sl(t,e,l){const n=t.slice();return n[25]=e[l],n}function pr(t){let e,l,n,r,o,i,s,a,c,p;const m=[vr,yr],d=[];function h(w,k){return w[0]?0:1}o=h(t),i=d[o]=m[o](t);let g=t[6]&&al(t);return{c(){e=_("div"),l=_("h3"),l.textContent="AI Magic Tools",n=S(),r=_("button"),i.c(),s=S(),g&&g.c(),f(l,"class","font-semibold text-lg text-gray-900"),r.disabled=t[0],f(r,"class","w-full p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-medium text-white hover:from-blue-700 hover:to-purple-700 transition disabled:opacity-50 flex items-center justify-center gap-2"),f(e,"class","p-4 space-y-4")},m(w,k){L(w,e,k),u(e,l),u(e,n),u(e,r),d[o].m(r,null),u(e,s),g&&g.m(e,null),a=!0,c||(p=q(r,"click",t[10]),c=!0)},p(w,k){let b=o;o=h(w),o!==b&&($e(),j(d[b],1,1,()=>{d[b]=null}),Ce(),i=d[o],i||(i=d[o]=m[o](w),i.c()),E(i,1),i.m(r,null)),(!a||k[0]&1)&&(r.disabled=w[0]),w[6]?g?g.p(w,k):(g=al(w),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i(w){a||(E(i),a=!0)},o(w){j(i),a=!1},d(w){w&&P(e),d[o].d(),g&&g.d(),c=!1,p()}}}function _r(t){let e,l,n,r,o,i,s,a,c,p,m,d,h;const g=[kr,wr],w=[];function k(y,x){return y[3]?0:1}a=k(t),c=w[a]=g[a](t);let b=t[2].length>0&&ul(t);return{c(){e=_("div"),l=_("h3"),l.textContent="B-Roll Library",n=S(),r=_("div"),o=_("input"),i=S(),s=_("button"),c.c(),p=S(),b&&b.c(),f(l,"class","font-semibold text-lg text-gray-900"),f(o,"type","text"),f(o,"placeholder","Search stock footage..."),f(o,"class","flex-1 p-2 bg-white rounded-lg border border-gray-200 text-gray-900 placeholder-gray-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),s.disabled=t[3],f(s,"class","p-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition disabled:opacity-50"),f(r,"class","flex gap-2"),f(e,"class","p-4 space-y-4")},m(y,x){L(y,e,x),u(e,l),u(e,n),u(e,r),u(r,o),at(o,t[1]),u(r,i),u(r,s),w[a].m(s,null),u(e,p),b&&b.m(e,null),m=!0,d||(h=[q(o,"input",t[22]),q(o,"keydown",t[23]),q(s,"click",t[11])],d=!0)},p(y,x){x[0]&2&&o.value!==y[1]&&at(o,y[1]);let W=a;a=k(y),a!==W&&($e(),j(w[W],1,1,()=>{w[W]=null}),Ce(),c=w[a],c||(c=w[a]=g[a](y),c.c()),E(c,1),c.m(s,null)),(!m||x[0]&8)&&(s.disabled=y[3]),y[2].length>0?b?(b.p(y,x),x[0]&4&&E(b,1)):(b=ul(y),b.c(),E(b,1),b.m(e,null)):b&&($e(),j(b,1,1,()=>{b=null}),Ce())},i(y){m||(E(c),E(b),m=!0)},o(y){j(c),j(b),m=!1},d(y){y&&P(e),w[a].d(),b&&b.d(),d=!1,be(h)}}}function mr(t){var $t,Ct;let e,l,n,r,o,i,s,a,c,p,m,d,h,g,w,k,b,y,x,W,B=(((Ct=($t=t[4])==null?void 0:$t.style)==null?void 0:Ct.fontSize)||42)+"",M,R,C,H,A,V,F,v,U,$,G,Se,We,I,K,X,qe,z,_e,xt,Ve,dt,Ft,Be=D(Object.entries(yt)),se=[];for(let N=0;N<Be.length;N+=1)se[N]=dl(il(t,Be,N));let Ne=D(t[7]),ae=[];for(let N=0;N<Ne.length;N+=1)ae[N]=hl(ol(t,Ne,N));let Pe=D(t[8]),ce=[];for(let N=0;N<Pe.length;N+=1)ce[N]=gl(rl(t,Pe,N));let je=D(t[9]),ue=[];for(let N=0;N<je.length;N+=1)ue[N]=pl(nl(t,je,N));let ht=D(["none","light","medium","heavy"]),ye=[];for(let N=0;N<4;N+=1)ye[N]=_l(ll(t,ht,N));return{c(){var N,le;e=_("div"),l=_("div"),n=_("h3"),n.textContent="Style Presets",r=S(),o=_("div");for(let Y=0;Y<se.length;Y+=1)se[Y].c();i=S(),s=_("div"),a=_("h3"),a.textContent="Typography",c=S(),p=_("div"),m=_("label"),m.textContent="Font Family",d=S(),h=_("select");for(let Y=0;Y<ae.length;Y+=1)ae[Y].c();w=S(),k=_("div"),b=_("label"),y=_("span"),y.textContent="Font Size",x=S(),W=_("span"),M=J(B),R=J("px"),C=S(),H=_("input"),V=S(),F=_("div"),v=_("label"),v.textContent="Position",U=S(),$=_("div");for(let Y=0;Y<ce.length;Y+=1)ce[Y].c();G=S(),Se=_("div"),We=_("label"),We.textContent="Animation",I=S(),K=_("select");for(let Y=0;Y<ue.length;Y+=1)ue[Y].c();qe=S(),z=_("div"),_e=_("label"),_e.textContent="Text Shadow",xt=S(),Ve=_("div");for(let Y=0;Y<4;Y+=1)ye[Y].c();f(n,"class","font-semibold text-lg text-gray-900 mb-3"),f(o,"class","grid grid-cols-2 gap-2"),f(a,"class","font-semibold text-lg text-gray-900"),f(m,"class","text-sm text-gray-600"),f(h,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(p,"class","space-y-2"),f(W,"class","text-gray-900"),f(b,"class","text-sm text-gray-600 flex justify-between"),f(H,"type","range"),f(H,"min","20"),f(H,"max","80"),H.value=A=((le=(N=t[4])==null?void 0:N.style)==null?void 0:le.fontSize)||42,f(H,"class","w-full"),f(k,"class","space-y-2"),f(v,"class","text-sm text-gray-600"),f($,"class","flex gap-2"),f(F,"class","space-y-2"),f(We,"class","text-sm text-gray-600"),f(K,"class","w-full p-2 bg-white rounded-lg border border-gray-200 text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),f(Se,"class","space-y-2"),f(_e,"class","text-sm text-gray-600"),f(Ve,"class","flex gap-2"),f(z,"class","space-y-2"),f(s,"class","space-y-4"),f(e,"class","p-4 space-y-6 overflow-y-auto")},m(N,le){var Y,Ge,Je,Qe;L(N,e,le),u(e,l),u(l,n),u(l,r),u(l,o);for(let Q=0;Q<se.length;Q+=1)se[Q]&&se[Q].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p),u(p,m),u(p,d),u(p,h);for(let Q=0;Q<ae.length;Q+=1)ae[Q]&&ae[Q].m(h,null);lt(h,((Ge=(Y=t[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter"),u(s,w),u(s,k),u(k,b),u(b,y),u(b,x),u(b,W),u(W,M),u(W,R),u(k,C),u(k,H),u(s,V),u(s,F),u(F,v),u(F,U),u(F,$);for(let Q=0;Q<ce.length;Q+=1)ce[Q]&&ce[Q].m($,null);u(s,G),u(s,Se),u(Se,We),u(Se,I),u(Se,K);for(let Q=0;Q<ue.length;Q+=1)ue[Q]&&ue[Q].m(K,null);lt(K,((Qe=(Je=t[4])==null?void 0:Je.style)==null?void 0:Qe.animation)||"pop"),u(s,qe),u(s,z),u(z,_e),u(z,xt),u(z,Ve);for(let Q=0;Q<4;Q+=1)ye[Q]&&ye[Q].m(Ve,null);dt||(Ft=[q(h,"change",t[17]),q(H,"input",t[18]),q(K,"change",t[20])],dt=!0)},p(N,le){var Y,Ge,Je,Qe,Q,St,Mt,Tt,Et,Wt,Bt,Nt;if(le&0){Be=D(Object.entries(yt));let T;for(T=0;T<Be.length;T+=1){const fe=il(N,Be,T);se[T]?se[T].p(fe,le):(se[T]=dl(fe),se[T].c(),se[T].m(o,null))}for(;T<se.length;T+=1)se[T].d(1);se.length=Be.length}if(le[0]&128){Ne=D(N[7]);let T;for(T=0;T<Ne.length;T+=1){const fe=ol(N,Ne,T);ae[T]?ae[T].p(fe,le):(ae[T]=hl(fe),ae[T].c(),ae[T].m(h,null))}for(;T<ae.length;T+=1)ae[T].d(1);ae.length=Ne.length}if(le[0]&144&&g!==(g=((Ge=(Y=N[4])==null?void 0:Y.style)==null?void 0:Ge.fontFamily)||"Inter")&&lt(h,((Qe=(Je=N[4])==null?void 0:Je.style)==null?void 0:Qe.fontFamily)||"Inter"),le[0]&16&&B!==(B=(((St=(Q=N[4])==null?void 0:Q.style)==null?void 0:St.fontSize)||42)+"")&&me(M,B),le[0]&144&&A!==(A=((Tt=(Mt=N[4])==null?void 0:Mt.style)==null?void 0:Tt.fontSize)||42)&&(H.value=A),le[0]&272){Pe=D(N[8]);let T;for(T=0;T<Pe.length;T+=1){const fe=rl(N,Pe,T);ce[T]?ce[T].p(fe,le):(ce[T]=gl(fe),ce[T].c(),ce[T].m($,null))}for(;T<ce.length;T+=1)ce[T].d(1);ce.length=Pe.length}if(le[0]&512){je=D(N[9]);let T;for(T=0;T<je.length;T+=1){const fe=nl(N,je,T);ue[T]?ue[T].p(fe,le):(ue[T]=pl(fe),ue[T].c(),ue[T].m(K,null))}for(;T<ue.length;T+=1)ue[T].d(1);ue.length=je.length}if(le[0]&144&&X!==(X=((Wt=(Et=N[4])==null?void 0:Et.style)==null?void 0:Wt.animation)||"pop")&&lt(K,((Nt=(Bt=N[4])==null?void 0:Bt.style)==null?void 0:Nt.animation)||"pop"),le[0]&16){ht=D(["none","light","medium","heavy"]);let T;for(T=0;T<4;T+=1){const fe=ll(N,ht,T);ye[T]?ye[T].p(fe,le):(ye[T]=_l(fe),ye[T].c(),ye[T].m(Ve,null))}for(;T<4;T+=1)ye[T].d(1)}},i:O,o:O,d(N){N&&P(e),re(se,N),re(ae,N),re(ce,N),re(ue,N),re(ye,N),dt=!1,be(Ft)}}}function br(t){var W,B;let e,l,n,r,o,i,s,a,c,p,m,d,h,g,w,k,b,y,x=((B=(W=t[4])==null?void 0:W.style)==null?void 0:B.highlightWords)&&ml(t);return{c(){var M,R,C,H;e=_("div"),l=_("h3"),l.textContent="Caption Settings",n=S(),r=_("div"),o=_("label"),i=_("span"),i.textContent="Word-by-word highlighting",s=S(),a=_("input"),p=S(),m=_("label"),d=_("span"),d.textContent="Highlight active words",h=S(),g=_("input"),k=S(),x&&x.c(),f(l,"class","font-semibold text-lg text-gray-900"),f(i,"class","text-gray-700"),f(a,"type","checkbox"),a.checked=c=(R=(M=t[4])==null?void 0:M.style)==null?void 0:R.wordByWord,f(a,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(o,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(d,"class","text-gray-700"),f(g,"type","checkbox"),g.checked=w=(H=(C=t[4])==null?void 0:C.style)==null?void 0:H.highlightWords,f(g,"class","w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"),f(m,"class","flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200 cursor-pointer hover:border-gray-300 transition"),f(r,"class","space-y-3"),f(e,"class","p-4 space-y-4")},m(M,R){L(M,e,R),u(e,l),u(e,n),u(e,r),u(r,o),u(o,i),u(o,s),u(o,a),u(r,p),u(r,m),u(m,d),u(m,h),u(m,g),u(r,k),x&&x.m(r,null),b||(y=[q(a,"change",t[13]),q(g,"change",t[14])],b=!0)},p(M,R){var C,H,A,V,F,v;R[0]&144&&c!==(c=(H=(C=M[4])==null?void 0:C.style)==null?void 0:H.wordByWord)&&(a.checked=c),R[0]&144&&w!==(w=(V=(A=M[4])==null?void 0:A.style)==null?void 0:V.highlightWords)&&(g.checked=w),(v=(F=M[4])==null?void 0:F.style)!=null&&v.highlightWords?x?x.p(M,R):(x=ml(M),x.c(),x.m(r,null)):x&&(x.d(1),x=null)},i:O,o:O,d(M){M&&P(e),x&&x.d(),b=!1,be(y)}}}function yr(t){let e,l,n;return e=new Kl({props:{class:"w-5 h-5"}}),{c(){ne(e.$$.fragment),l=J(`
          Generate Viral Content`)},m(r,o){ee(e,r,o),L(r,l,o),n=!0},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){r&&P(l),te(e,r)}}}function vr(t){let e,l,n;return e=new Zl({props:{class:"w-5 h-5 animate-spin"}}),{c(){ne(e.$$.fragment),l=J(`
          Generating...`)},m(r,o){ee(e,r,o),L(r,l,o),n=!0},i(r){n||(E(e.$$.fragment,r),n=!0)},o(r){j(e.$$.fragment,r),n=!1},d(r){r&&P(l),te(e,r)}}}function al(t){let e,l,n,r,o,i,s,a,c,p,m=t[6].descriptions[0]+"",d,h,g,w,k,b,y=t[6].hashtags.join(" ")+"",x,W=D(t[6].hooks),B=[];for(let M=0;M<W.length;M+=1)B[M]=cl(el(t,W,M));return{c(){e=_("div"),l=_("div"),n=_("h4"),n.textContent="Hook Ideas",r=S(),o=_("ul");for(let M=0;M<B.length;M+=1)B[M].c();i=S(),s=_("div"),a=_("h4"),a.textContent="Description",c=S(),p=_("p"),d=J(m),h=S(),g=_("div"),w=_("h4"),w.textContent="Hashtags",k=S(),b=_("p"),x=J(y),f(n,"class","font-medium text-sm text-gray-600 mb-2"),f(o,"class","space-y-2"),f(l,"class","p-3 bg-white rounded-lg border border-gray-200"),f(a,"class","font-medium text-sm text-gray-600 mb-2"),f(p,"class","text-sm text-gray-900"),f(s,"class","p-3 bg-white rounded-lg border border-gray-200"),f(w,"class","font-medium text-sm text-gray-600 mb-2"),f(b,"class","text-sm text-blue-600"),f(g,"class","p-3 bg-white rounded-lg border border-gray-200"),f(e,"class","space-y-4")},m(M,R){L(M,e,R),u(e,l),u(l,n),u(l,r),u(l,o);for(let C=0;C<B.length;C+=1)B[C]&&B[C].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p),u(p,d),u(e,h),u(e,g),u(g,w),u(g,k),u(g,b),u(b,x)},p(M,R){if(R[0]&64){W=D(M[6].hooks);let C;for(C=0;C<W.length;C+=1){const H=el(M,W,C);B[C]?B[C].p(H,R):(B[C]=cl(H),B[C].c(),B[C].m(o,null))}for(;C<B.length;C+=1)B[C].d(1);B.length=W.length}R[0]&64&&m!==(m=M[6].descriptions[0]+"")&&me(d,m),R[0]&64&&y!==(y=M[6].hashtags.join(" ")+"")&&me(x,y)},d(M){M&&P(e),re(B,M)}}}function cl(t){let e,l=t[47]+"",n;return{c(){e=_("li"),n=J(l),f(e,"class","text-sm p-2 bg-gray-50 rounded text-gray-900")},m(r,o){L(r,e,o),u(e,n)},p(r,o){o[0]&64&&l!==(l=r[47]+"")&&me(n,l)},d(r){r&&P(e)}}}function wr(t){let e,l;return{c(){e=it("svg"),l=it("path"),f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(e,"class","w-5 h-5"),f(e,"fill","none"),f(e,"stroke","currentColor"),f(e,"viewBox","0 0 24 24")},m(n,r){L(n,e,r),u(e,l)},i:O,o:O,d(n){n&&P(e)}}}function kr(t){let e,l;return e=new Zl({props:{class:"w-5 h-5 animate-spin"}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function ul(t){let e,l,n=D(t[2]),r=[];for(let i=0;i<n.length;i+=1)r[i]=fl(tl(t,n,i));const o=i=>j(r[i],1,1,()=>{r[i]=null});return{c(){e=_("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","grid grid-cols-2 gap-2 max-h-96 overflow-y-auto")},m(i,s){L(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);l=!0},p(i,s){if(s[0]&4100){n=D(i[2]);let a;for(a=0;a<n.length;a+=1){const c=tl(i,n,a);r[a]?(r[a].p(c,s),E(r[a],1)):(r[a]=fl(c),r[a].c(),E(r[a],1),r[a].m(e,null))}for($e(),a=n.length;a<r.length;a+=1)o(a);Ce()}},i(i){if(!l){for(let s=0;s<n.length;s+=1)E(r[s]);l=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)j(r[s]);l=!1},d(i){i&&P(e),re(r,i)}}}function fl(t){let e,l,n,r,o,i,s,a,c,p;i=new On({props:{class:"w-8 h-8 text-white"}});function m(){return t[24](t[44])}return{c(){e=_("button"),l=_("img"),r=S(),o=_("div"),ne(i.$$.fragment),s=S(),ot(l.src,n=t[44].thumbnail)||f(l,"src",n),f(l,"alt",""),f(l,"class","w-full h-full object-cover"),f(o,"class","absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center"),f(e,"class","relative aspect-video rounded-lg overflow-hidden group")},m(d,h){L(d,e,h),u(e,l),u(e,r),u(e,o),ee(i,o,null),u(e,s),a=!0,c||(p=q(e,"click",m),c=!0)},p(d,h){t=d,(!a||h[0]&4&&!ot(l.src,n=t[44].thumbnail))&&f(l,"src",n)},i(d){a||(E(i.$$.fragment,d),a=!0)},o(d){j(i.$$.fragment,d),a=!1},d(d){d&&P(e),te(i),c=!1,p()}}}function dl(t){let e,l,n,r,o,i,s;function a(){return t[16](t[40])}return{c(){e=_("button"),l=_("div"),l.textContent=`${t[40].replace("-"," ")}`,n=S(),r=_("div"),r.textContent=`${t[41].fontWeight} â€¢ ${t[41].animation}`,o=S(),f(l,"class","font-medium capitalize text-gray-900"),f(r,"class","text-xs text-gray-500 mt-1"),f(e,"class","p-3 bg-white rounded-lg border border-gray-200 text-left hover:border-gray-300 transition text-sm")},m(c,p){L(c,e,p),u(e,l),u(e,n),u(e,r),u(e,o),i||(s=q(e,"click",a),i=!0)},p(c,p){t=c},d(c){c&&P(e),i=!1,s()}}}function hl(t){let e,l=t[37]+"",n;return{c(){e=_("option"),n=J(l),e.__value=t[37],at(e,e.__value)},m(r,o){L(r,e,o),u(e,n)},p:O,d(r){r&&P(e)}}}function gl(t){let e,l=t[34].label+"",n,r,o,i,s;function a(){return t[19](t[34])}return{c(){var c,p;e=_("button"),n=J(l),r=S(),f(e,"class",o="flex-1 p-2 rounded-lg border text-sm transition "+((((p=(c=t[4])==null?void 0:c.style)==null?void 0:p.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){L(c,e,p),u(e,n),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,p){var m,d;t=c,p[0]&144&&o!==(o="flex-1 p-2 rounded-lg border text-sm transition "+((((d=(m=t[4])==null?void 0:m.style)==null?void 0:d.position)||"bottom")===t[34].id?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&P(e),i=!1,s()}}}function pl(t){let e,l=t[31].label+"",n;return{c(){e=_("option"),n=J(l),e.__value=t[31].id,at(e,e.__value)},m(r,o){L(r,e,o),u(e,n)},p:O,d(r){r&&P(e)}}}function _l(t){let e,l,n,r,o,i;function s(){return t[21](t[28])}return{c(){var a,c;e=_("button"),l=J(t[28]),n=S(),f(e,"class",r="flex-1 p-2 rounded-lg border text-sm transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){L(a,e,c),u(e,l),u(e,n),o||(i=q(e,"click",s),o=!0)},p(a,c){var p,m;t=a,c[0]&144&&r!==(r="flex-1 p-2 rounded-lg border text-sm transition "+((((m=(p=t[4])==null?void 0:p.style)==null?void 0:m.textShadow)||"medium")===t[28]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&P(e),o=!1,i()}}}function ml(t){let e,l,n,r,o=D(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]),i=[];for(let s=0;s<5;s+=1)i[s]=bl(sl(t,o,s));return{c(){e=_("div"),l=_("label"),l.textContent="Highlight Color",n=S(),r=_("div");for(let s=0;s<5;s+=1)i[s].c();f(l,"class","text-sm text-gray-600"),f(r,"class","flex gap-2"),f(e,"class","space-y-2")},m(s,a){L(s,e,a),u(e,l),u(e,n),u(e,r);for(let c=0;c<5;c+=1)i[c]&&i[c].m(r,null)},p(s,a){if(a[0]&16){o=D(["#FFD700","#FF6B6B","#00F5FF","#FF00FF","#00FF00"]);let c;for(c=0;c<5;c+=1){const p=sl(s,o,c);i[c]?i[c].p(p,a):(i[c]=bl(p),i[c].c(),i[c].m(r,null))}for(;c<5;c+=1)i[c].d(1)}},d(s){s&&P(e),re(i,s)}}}function bl(t){let e,l,n,r;function o(){return t[15](t[25])}return{c(){var i,s;e=_("button"),f(e,"class",l="w-8 h-8 rounded-lg border-2 transition "+((((s=(i=t[4])==null?void 0:i.style)==null?void 0:s.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300")),Me(e,"background-color",t[25])},m(i,s){L(i,e,s),n||(r=q(e,"click",o),n=!0)},p(i,s){var a,c;t=i,s[0]&144&&l!==(l="w-8 h-8 rounded-lg border-2 transition "+((((c=(a=t[4])==null?void 0:a.style)==null?void 0:c.highlightColor)||"#FFD700")===t[25]?"border-gray-900 scale-110":"border-transparent hover:border-gray-300"))&&f(e,"class",l)},d(i){i&&P(e),n=!1,r()}}}function xr(t){let e,l,n,r;const o=[br,mr,_r,pr],i=[];function s(a,c){return a[5]==="captions"?0:a[5]==="style"?1:a[5]==="broll"?2:a[5]==="ai-tools"?3:-1}return~(l=s(t))&&(n=i[l]=o[l](t)),{c(){e=_("div"),n&&n.c(),f(e,"class","h-full flex flex-col bg-gray-50")},m(a,c){L(a,e,c),~l&&i[l].m(e,null),r=!0},p(a,c){let p=l;l=s(a),l===p?~l&&i[l].p(a,c):(n&&($e(),j(i[p],1,1,()=>{i[p]=null}),Ce()),~l?(n=i[l],n?n.p(a,c):(n=i[l]=o[l](a),n.c()),E(n,1),n.m(e,null)):n=null)},i(a){r||(E(n),r=!0)},o(a){j(n),r=!1},d(a){a&&P(e),~l&&i[l].d()}}}function Fr(t,e,l){let n,r,o;de(t,oe,F=>l(4,n=F)),de(t,vt,F=>l(5,r=F)),de(t,At,F=>l(6,o=F));let i=!1,s="",a=[],c=!1;const p=["Inter","Poppins","Roboto","Oswald","Bebas Neue","Montserrat"],m=[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"}],d=[{id:"none",label:"None"},{id:"pop",label:"Pop"},{id:"slide-up",label:"Slide Up"},{id:"fade",label:"Fade"},{id:"bounce",label:"Bounce"}];async function h(){if(n){l(0,i=!0);try{const F=n.captions.map(U=>U.text).join(" "),v=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:F})});if(v.ok){const U=await v.json();At.set(U)}}catch(F){console.error("AI generation failed:",F)}finally{l(0,i=!1)}}}async function g(){if(s){l(3,c=!0);try{const F=await fetch(`/api/broll/search?q=${encodeURIComponent(s)}`);if(F.ok){const v=await F.json();l(2,a=v.results||[])}}catch(F){console.error("B-Roll search failed:",F)}finally{l(3,c=!1)}}}function w(F){n&&oe.addBRoll({id:crypto.randomUUID(),url:F.video_url,thumbnail:F.thumbnail,start:n.videoDuration*.3,duration:5,source:F.source})}const k=F=>oe.updateStyle({wordByWord:F.target.checked}),b=F=>oe.updateStyle({highlightWords:F.target.checked}),y=F=>oe.updateStyle({highlightColor:F}),x=F=>oe.applyPreset(F),W=F=>oe.updateStyle({fontFamily:F.target.value}),B=F=>oe.updateStyle({fontSize:parseInt(F.target.value)}),M=F=>oe.updateStyle({position:F.id}),R=F=>oe.updateStyle({animation:F.target.value}),C=F=>oe.updateStyle({textShadow:F});function H(){s=this.value,l(1,s)}return[i,s,a,c,n,r,o,p,m,d,h,g,w,k,b,y,x,W,B,M,R,C,H,F=>F.key==="Enter"&&g(),F=>w(F)]}class $r extends pe{constructor(e){super(),ge(this,e,Fr,xr,ie,{},null,[-1,-1])}}function yl(t,e,l){const n=t.slice();return n[16]=e[l],n}function vl(t,e,l){const n=t.slice();return n[19]=e[l],n}function wl(t,e,l){const n=t.slice();return n[22]=e[l],n[24]=l,n}function kl(t,e,l){const n=t.slice();return n[22]=e[l],n[24]=l,n}function xl(t){let e,l=Qt(t[2]/5*t[24])+"",n;return{c(){e=_("span"),n=J(l)},m(r,o){L(r,e,o),u(e,n)},p(r,o){o&4&&l!==(l=Qt(r[2]/5*r[24])+"")&&me(n,l)},d(r){r&&P(e)}}}function Fl(t){let e;return{c(){e=_("div"),f(e,"class","absolute top-0 bottom-0 border-l border-gray-200"),Me(e,"left",t[24]*5/t[2]*100+"%")},m(l,n){L(l,e,n)},p(l,n){n&4&&Me(e,"left",l[24]*5/l[2]*100+"%")},d(l){l&&P(e)}}}function $l(t){let e,l,n=t[19].text+"",r,o,i,s,a,c;function p(){return t[12](t[19])}return{c(){e=_("button"),l=_("span"),r=J(n),o=S(),f(l,"class","truncate"),f(e,"class",i="absolute h-12 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex items-center px-2 overflow-hidden text-xs text-left text-blue-900 "+(t[6].selectedCaptionId===t[19].id?"ring-2 ring-blue-500":"")),f(e,"style",s=t[9](t[19]))},m(m,d){L(m,e,d),u(e,l),u(l,r),u(e,o),a||(c=q(e,"click",ql(p)),a=!0)},p(m,d){t=m,d&32&&n!==(n=t[19].text+"")&&me(r,n),d&96&&i!==(i="absolute h-12 rounded bg-blue-100 border-2 border-blue-300 hover:bg-blue-200 transition flex items-center px-2 overflow-hidden text-xs text-left text-blue-900 "+(t[6].selectedCaptionId===t[19].id?"ring-2 ring-blue-500":""))&&f(e,"class",i),d&32&&s!==(s=t[9](t[19]))&&f(e,"style",s)},d(m){m&&P(e),a=!1,c()}}}function Cl(t){let e,l,n=D(t[0].bRollClips),r=[];for(let i=0;i<n.length;i+=1)r[i]=Sl(yl(t,n,i));const o=i=>j(r[i],1,1,()=>{r[i]=null});return{c(){e=_("div");for(let i=0;i<r.length;i+=1)r[i].c();f(e,"class","absolute top-24 left-0 right-0 h-12 px-2")},m(i,s){L(i,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);l=!0},p(i,s){if(s&5){n=D(i[0].bRollClips);let a;for(a=0;a<n.length;a+=1){const c=yl(i,n,a);r[a]?(r[a].p(c,s),E(r[a],1)):(r[a]=Sl(c),r[a].c(),E(r[a],1),r[a].m(e,null))}for($e(),a=n.length;a<r.length;a+=1)o(a);Ce()}},i(i){if(!l){for(let s=0;s<n.length;s+=1)E(r[s]);l=!0}},o(i){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)j(r[s]);l=!1},d(i){i&&P(e),re(r,i)}}}function Sl(t){let e,l,n,r,o,i;return l=new Yl({props:{class:"w-3 h-3 mr-1"}}),{c(){e=_("div"),ne(l.$$.fragment),n=S(),r=_("span"),r.textContent="B-Roll",o=S(),f(r,"class","truncate"),f(e,"class","absolute h-10 rounded bg-purple-100 border-2 border-purple-300 flex items-center px-2 overflow-hidden text-xs text-purple-900"),Me(e,"left",t[16].start/t[2]*100+"%"),Me(e,"width",t[16].duration/t[2]*100+"%")},m(s,a){L(s,e,a),ee(l,e,null),u(e,n),u(e,r),u(e,o),i=!0},p(s,a){(!i||a&5)&&Me(e,"left",s[16].start/s[2]*100+"%"),(!i||a&5)&&Me(e,"width",s[16].duration/s[2]*100+"%")},i(s){i||(E(l.$$.fragment,s),i=!0)},o(s){j(l.$$.fragment,s),i=!1},d(s){s&&P(e),te(l)}}}function Cr(t){var Se,We;let e,l,n,r,o,i,s,a,c,p,m,d,h,g,w,k,b,y,x,W,B,M,R,C,H,A=D(Array(6)),V=[];for(let I=0;I<A.length;I+=1)V[I]=xl(kl(t,A,I));let F=D(Array(Math.ceil(t[2]/5))),v=[];for(let I=0;I<F.length;I+=1)v[I]=Fl(wl(t,F,I));let U=D(t[5]),$=[];for(let I=0;I<U.length;I+=1)$[I]=$l(vl(t,U,I));let G=((We=(Se=t[0])==null?void 0:Se.bRollClips)==null?void 0:We.length)>0&&Cl(t);return{c(){e=_("div"),l=_("div"),n=_("span"),n.textContent="Timeline",r=S(),o=_("div");for(let I=0;I<V.length;I+=1)V[I].c();i=S(),s=_("div"),a=_("div"),c=_("div");for(let I=0;I<v.length;I+=1)v[I].c();p=S(),m=_("div");for(let I=0;I<$.length;I+=1)$[I].c();d=S(),G&&G.c(),h=S(),g=_("div"),w=_("div"),k=S(),b=_("div"),y=_("button"),y.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path></svg>',x=S(),W=_("span"),W.textContent="Zoom",B=S(),M=_("button"),M.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>',f(n,"class","w-20 font-medium"),f(o,"class","flex-1 flex justify-between"),f(l,"class","h-8 border-b border-gray-200 flex items-center px-4 text-xs text-gray-500"),f(c,"class","absolute inset-0 pointer-events-none"),f(m,"class","absolute top-4 left-0 right-0 h-16 px-2"),f(w,"class","absolute -top-1 -left-1.5 w-3 h-3 bg-red-500 rounded-full"),f(g,"class","absolute top-0 bottom-0 w-0.5 bg-red-500 z-10 pointer-events-none"),f(g,"style",t[10]()),f(a,"class","absolute inset-0 min-w-full cursor-pointer"),f(a,"role","slider"),f(a,"aria-label","Timeline"),f(a,"aria-valuemin",0),f(a,"aria-valuemax",t[2]),f(a,"aria-valuenow",t[3]),f(a,"tabindex","0"),f(s,"class","flex-1 relative overflow-x-auto overflow-y-hidden"),f(y,"class","text-gray-500 hover:text-gray-900 transition"),f(W,"class","text-xs text-gray-500"),f(M,"class","text-gray-500 hover:text-gray-900 transition"),f(b,"class","h-10 border-t border-gray-200 flex items-center px-4 gap-4 bg-gray-50"),f(e,"class","h-full flex flex-col bg-white")},m(I,K){L(I,e,K),u(e,l),u(l,n),u(l,r),u(l,o);for(let X=0;X<V.length;X+=1)V[X]&&V[X].m(o,null);u(e,i),u(e,s),u(s,a),u(a,c);for(let X=0;X<v.length;X+=1)v[X]&&v[X].m(c,null);u(a,p),u(a,m);for(let X=0;X<$.length;X+=1)$[X]&&$[X].m(m,null);u(a,d),G&&G.m(a,null),u(a,h),u(a,g),u(g,w),t[13](a),u(e,k),u(e,b),u(b,y),u(b,x),u(b,W),u(b,B),u(b,M),R=!0,C||(H=[q(a,"click",t[7]),q(y,"click",t[14]),q(M,"click",t[15])],C=!0)},p(I,[K]){var X,qe;if(K&4){A=D(Array(6));let z;for(z=0;z<A.length;z+=1){const _e=kl(I,A,z);V[z]?V[z].p(_e,K):(V[z]=xl(_e),V[z].c(),V[z].m(o,null))}for(;z<V.length;z+=1)V[z].d(1);V.length=A.length}if(K&4){F=D(Array(Math.ceil(I[2]/5)));let z;for(z=0;z<F.length;z+=1){const _e=wl(I,F,z);v[z]?v[z].p(_e,K):(v[z]=Fl(_e),v[z].c(),v[z].m(c,null))}for(;z<v.length;z+=1)v[z].d(1);v.length=F.length}if(K&864){U=D(I[5]);let z;for(z=0;z<U.length;z+=1){const _e=vl(I,U,z);$[z]?$[z].p(_e,K):($[z]=$l(_e),$[z].c(),$[z].m(m,null))}for(;z<$.length;z+=1)$[z].d(1);$.length=U.length}((qe=(X=I[0])==null?void 0:X.bRollClips)==null?void 0:qe.length)>0?G?(G.p(I,K),K&1&&E(G,1)):(G=Cl(I),G.c(),E(G,1),G.m(a,h)):G&&($e(),j(G,1,1,()=>{G=null}),Ce()),(!R||K&4)&&f(a,"aria-valuemax",I[2]),(!R||K&8)&&f(a,"aria-valuenow",I[3])},i(I){R||(E(G),R=!0)},o(I){j(G),R=!1},d(I){I&&P(e),re(V,I),re(v,I),re($,I),G&&G.d(),t[13](null),C=!1,be(H)}}}function Sr(t,e,l){let n,r,o,i,s,a,c;de(t,ve,x=>l(11,s=x)),de(t,oe,x=>l(0,a=x)),de(t,et,x=>l(6,c=x));let p;function m(x){const W=p.getBoundingClientRect(),M=(x.clientX-W.left)/W.width*n;ve.setCurrentTime(Math.max(0,Math.min(M,n)))}function d(x){et.update(W=>({...W,selectedCaptionId:x.id})),ve.setCurrentTime(x.start)}function h(x){const W=x.start/n*100,B=(x.end-x.start)/n*100;return`left: ${W}%; width: ${B}%;`}function g(){return`left: ${o/n*100}%;`}const w=x=>d(x);function k(x){Xe[x?"unshift":"push"](()=>{p=x,l(1,p)})}const b=()=>l(4,i=Math.max(20,i-10)),y=()=>l(4,i=Math.min(200,i+10));return t.$$.update=()=>{t.$$.dirty&1&&l(2,n=(a==null?void 0:a.videoDuration)||0),t.$$.dirty&1&&l(5,r=(a==null?void 0:a.captions)||[]),t.$$.dirty&2048&&l(3,o=s.currentTime)},l(4,i=50),[a,p,n,o,i,r,c,m,d,h,g,s,w,k,b,y]}class Mr extends pe{constructor(e){super(),ge(this,e,Sr,Cr,ie,{})}}function Tr(t){const e=t-1;return e*e*e+1}function Ml(t,{delay:e=0,duration:l=400,easing:n=zl}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:n,css:o=>`opacity: ${o*r}`}}function Tl(t,{delay:e=0,duration:l=400,easing:n=Tr,start:r=0,opacity:o=0}={}){const i=getComputedStyle(t),s=+i.opacity,a=i.transform==="none"?"":i.transform,c=1-r,p=s*(1-o);return{delay:e,duration:l,easing:n,css:(m,d)=>`
			transform: ${a} scale(${1-c*d});
			opacity: ${s-p*d}
		`}}function El(t,e,l){const n=t.slice();return n[14]=e[l],n}function Wl(t,e,l){const n=t.slice();return n[17]=e[l],n}function Bl(t,e,l){const n=t.slice();return n[20]=e[l],n}function Nl(t){let e,l,n,r,o,i,s,a,c;function p(h,g){return h[1]?Wr:Er}let m=p(t),d=m(t);return{c(){e=_("div"),l=_("div"),n=_("h2"),n.textContent="Export Video",r=S(),d.c(),f(n,"class","text-xl font-semibold text-gray-900 mb-4"),f(l,"class","bg-white rounded-2xl w-full max-w-md p-6 border border-gray-200"),f(e,"class","fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center"),f(e,"role","dialog"),f(e,"aria-modal","true")},m(h,g){L(h,e,g),u(e,l),u(l,n),u(l,r),d.m(l,null),s=!0,a||(c=[q(l,"click",ql(t[8])),q(e,"click",t[6]),q(e,"keydown",t[12])],a=!0)},p(h,g){m===(m=p(h))&&d?d.p(h,g):(d.d(1),d=m(h),d&&(d.c(),d.m(l,null)))},i(h){s||(h&&He(()=>{s&&(o||(o=nt(l,Tl,{duration:200,start:.95},!0)),o.run(1))}),h&&He(()=>{s&&(i||(i=nt(e,Ml,{duration:200},!0)),i.run(1))}),s=!0)},o(h){h&&(o||(o=nt(l,Tl,{duration:200,start:.95},!1)),o.run(0)),h&&(i||(i=nt(e,Ml,{duration:200},!1)),i.run(0)),s=!1},d(h){h&&P(e),d.d(),h&&o&&o.end(),h&&i&&i.end(),a=!1,be(c)}}}function Er(t){let e,l,n,r,o,i,s,a,c,p,m,d,h,g,w,k,b,y,x,W,B,M,R=D(["1080x1920","1920x1080","1080x1080"]),C=[];for(let v=0;v<3;v+=1)C[v]=Pl(Bl(t,R,v));let H=D([24,30,60]),A=[];for(let v=0;v<3;v+=1)A[v]=jl(Wl(t,H,v));let V=D(["standard","high","ultra"]),F=[];for(let v=0;v<3;v+=1)F[v]=Il(El(t,V,v));return{c(){e=_("div"),l=_("div"),n=_("label"),n.textContent="Resolution",r=S(),o=_("div");for(let v=0;v<3;v+=1)C[v].c();i=S(),s=_("div"),a=_("label"),a.textContent="Frame Rate",c=S(),p=_("div");for(let v=0;v<3;v+=1)A[v].c();m=S(),d=_("div"),h=_("label"),h.textContent="Quality",g=S(),w=_("div");for(let v=0;v<3;v+=1)F[v].c();k=S(),b=_("div"),y=_("button"),y.textContent="Cancel",x=S(),W=_("button"),W.textContent="Export",f(n,"class","text-sm text-gray-600 mb-2 block"),f(o,"class","grid grid-cols-3 gap-2"),f(a,"class","text-sm text-gray-600 mb-2 block"),f(p,"class","flex gap-2"),f(h,"class","text-sm text-gray-600 mb-2 block"),f(w,"class","flex gap-2"),f(y,"class","flex-1 p-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition"),f(W,"class","flex-1 p-3 rounded-lg bg-gray-900 text-white font-medium hover:bg-gray-800 transition"),f(b,"class","flex gap-3 mt-6"),f(e,"class","space-y-4")},m(v,U){L(v,e,U),u(e,l),u(l,n),u(l,r),u(l,o);for(let $=0;$<3;$+=1)C[$]&&C[$].m(o,null);u(e,i),u(e,s),u(s,a),u(s,c),u(s,p);for(let $=0;$<3;$+=1)A[$]&&A[$].m(p,null);u(e,m),u(e,d),u(d,h),u(d,g),u(d,w);for(let $=0;$<3;$+=1)F[$]&&F[$].m(w,null);u(e,k),u(e,b),u(b,y),u(b,x),u(b,W),B||(M=[q(y,"click",t[6]),q(W,"click",t[5])],B=!0)},p(v,U){if(U&1){R=D(["1080x1920","1920x1080","1080x1080"]);let $;for($=0;$<3;$+=1){const G=Bl(v,R,$);C[$]?C[$].p(G,U):(C[$]=Pl(G),C[$].c(),C[$].m(o,null))}for(;$<3;$+=1)C[$].d(1)}if(U&1){H=D([24,30,60]);let $;for($=0;$<3;$+=1){const G=Wl(v,H,$);A[$]?A[$].p(G,U):(A[$]=jl(G),A[$].c(),A[$].m(p,null))}for(;$<3;$+=1)A[$].d(1)}if(U&1){V=D(["standard","high","ultra"]);let $;for($=0;$<3;$+=1){const G=El(v,V,$);F[$]?F[$].p(G,U):(F[$]=Il(G),F[$].c(),F[$].m(w,null))}for(;$<3;$+=1)F[$].d(1)}},d(v){v&&P(e),re(C,v),re(A,v),re(F,v),B=!1,be(M)}}}function Wr(t){let e,l,n,r,o,i,s,a,c,p,m,d,h;return{c(){e=_("div"),l=_("div"),n=_("div"),n.innerHTML='<svg class="w-8 h-8 text-blue-600 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>',r=S(),o=_("p"),i=J(t[3]),s=S(),a=_("p"),c=J(t[2]),p=J("% complete"),m=S(),d=_("div"),h=_("div"),f(n,"class","inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 mb-4"),f(o,"class","text-lg font-medium text-gray-900"),f(a,"class","text-sm text-gray-500 mt-1"),f(l,"class","text-center"),f(h,"class","h-full bg-blue-600 transition-all duration-300"),Me(h,"width",t[2]+"%"),f(d,"class","h-2 bg-gray-200 rounded-full overflow-hidden"),f(e,"class","space-y-4")},m(g,w){L(g,e,w),u(e,l),u(l,n),u(l,r),u(l,o),u(o,i),u(l,s),u(l,a),u(a,c),u(a,p),u(e,m),u(e,d),u(d,h)},p(g,w){w&8&&me(i,g[3]),w&4&&me(c,g[2]),w&4&&Me(h,"width",g[2]+"%")},d(g){g&&P(e)}}}function Pl(t){let e,l=t[20].split("x")[0]==="1080"&&t[20].split("x")[1]==="1920"?"9:16":t[20].split("x")[0]==="1920"?"16:9":"1:1",n,r,o,i,s;function a(){return t[9](t[20])}return{c(){e=_("button"),n=J(l),r=S(),f(e,"class",o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){L(c,e,p),u(e,n),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,p){t=c,p&1&&o!==(o="p-2 rounded-lg border transition "+(t[0].resolution===t[20]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&P(e),i=!1,s()}}}function jl(t){let e,l,n,r,o,i;function s(){return t[10](t[17])}return{c(){e=_("button"),l=J(t[17]),n=J(` FPS
                `),f(e,"class",r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(a,c){L(a,e,c),u(e,l),u(e,n),o||(i=q(e,"click",s),o=!0)},p(a,c){t=a,c&1&&r!==(r="flex-1 p-2 rounded-lg border transition "+(t[0].fps===t[17]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",r)},d(a){a&&P(e),o=!1,i()}}}function Il(t){let e,l=t[14].charAt(0).toUpperCase()+t[14].slice(1)+"",n,r,o,i,s;function a(){return t[11](t[14])}return{c(){e=_("button"),n=J(l),r=S(),f(e,"class",o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))},m(c,p){L(c,e,p),u(e,n),u(e,r),i||(s=q(e,"click",a),i=!0)},p(c,p){t=c,p&1&&o!==(o="flex-1 p-2 rounded-lg border transition "+(t[0].quality===t[14]?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-200 hover:border-gray-300"))&&f(e,"class",o)},d(c){c&&P(e),i=!1,s()}}}function Br(t){let e,l=t[4]&&Nl(t);return{c(){l&&l.c(),e=kt()},m(n,r){l&&l.m(n,r),L(n,e,r)},p(n,[r]){n[4]?l?(l.p(n,r),r&16&&E(l,1)):(l=Nl(n),l.c(),E(l,1),l.m(e.parentNode,e)):l&&($e(),j(l,1,1,()=>{l=null}),Ce())},i(n){E(l)},o(n){j(l)},d(n){n&&P(e),l&&l.d(n)}}}function Nr(t,e,l){let n,r,o;de(t,oe,b=>l(13,r=b)),de(t,et,b=>l(7,o=b));let i={resolution:"1080x1920",fps:30,quality:"high"},s=!1,a=0,c="";async function p(){if(r){l(1,s=!0),l(3,c="Preparing..."),l(2,a=0);try{const b=await fetch(`/api/export/${r.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:i,style:r.style,captions:r.captions})});if(!b.ok)throw new Error("Export failed");const y=await b.json(),x=setInterval(async()=>{const B=await(await fetch(`/api/export/status/${y.export_id}`)).json();l(2,a=B.progress||0),l(3,c=B.message||"Processing..."),B.status==="completed"?(clearInterval(x),l(1,s=!1),window.open(B.download_url,"_blank"),m()):B.status==="failed"&&(clearInterval(x),l(1,s=!1),l(3,c="Export failed"))},2e3)}catch(b){l(1,s=!1),l(3,c="Export failed"),console.error("Export error:",b)}}}function m(){s||et.update(b=>({...b,isExporting:!1}))}function d(b){gn.call(this,t,b)}const h=b=>l(0,i.resolution=b,i),g=b=>l(0,i.fps=b,i),w=b=>l(0,i.quality=b,i),k=b=>b.key==="Escape"&&m();return t.$$.update=()=>{t.$$.dirty&128&&l(4,n=o.isExporting)},[i,s,a,c,n,p,m,o,d,h,g,w,k]}class Pr extends pe{constructor(e){super(),ge(this,e,Nr,Br,ie,{})}}function jr(t){let e,l;return e=new sr({props:{$$slots:{timeline:[Dr],panel:[Hr],preview:[Rr],sidebar:[Ar]},$$scope:{ctx:t}}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},p(n,r){const o={};r&32&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function Ir(t){let e;return{c(){e=_("div"),e.innerHTML='<svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> <p class="text-xl mb-2">No video selected</p> <p class="text-sm">Go to dashboard to select a video to edit</p> <a href="/" class="mt-4 px-4 py-2 bg-white text-black rounded-lg hover:bg-gray-200 transition">Go to Dashboard</a>',f(e,"class","flex flex-col items-center justify-center h-full text-gray-400 ml-16")},m(l,n){L(l,e,n)},p:O,i:O,o:O,d(l){l&&P(e)}}}function Lr(t){let e,l;return{c(){e=_("div"),l=J(t[1]),f(e,"class","flex items-center justify-center h-full text-red-500")},m(n,r){L(n,e,r),u(e,l)},p(n,r){r&2&&me(l,n[1])},i:O,o:O,d(n){n&&P(e)}}}function zr(t){let e;return{c(){e=_("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white"></div>',f(e,"class","flex items-center justify-center h-full")},m(l,n){L(l,e,n)},p:O,i:O,o:O,d(l){l&&P(e)}}}function Ar(t){let e,l;return e=new er({props:{slot:"sidebar"}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function Rr(t){let e,l;return e=new gr({props:{slot:"preview"}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function Hr(t){let e,l;return e=new $r({props:{slot:"panel"}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function Dr(t){let e,l;return e=new Mr({props:{slot:"timeline"}}),{c(){ne(e.$$.fragment)},m(n,r){ee(e,n,r),l=!0},p:O,i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){j(e.$$.fragment,n),l=!1},d(n){te(e,n)}}}function Or(t){let e,l,n,r,o,i;const s=[zr,Lr,Ir,jr],a=[];function c(p,m){return p[0]?0:p[1]?1:p[2]?3:2}return l=c(t),n=a[l]=s[l](t),o=new Pr({}),{c(){e=_("main"),n.c(),r=S(),ne(o.$$.fragment),f(e,"class","h-screen w-full overflow-hidden bg-white text-gray-900 font-sans")},m(p,m){L(p,e,m),a[l].m(e,null),L(p,r,m),ee(o,p,m),i=!0},p(p,[m]){let d=l;l=c(p),l===d?a[l].p(p,m):($e(),j(a[d],1,1,()=>{a[d]=null}),Ce(),n=a[l],n?n.p(p,m):(n=a[l]=s[l](p),n.c()),E(n,1),n.m(e,null))},i(p){i||(E(n),E(o.$$.fragment,p),i=!0)},o(p){j(n),j(o.$$.fragment,p),i=!1},d(p){p&&(P(e),P(r)),a[l].d(),te(o,p)}}}function Ur(t){if(!t)return[];const e=[];return t.trim().split(/\n\s*\n/).forEach((n,r)=>{const o=n.trim().split(`
`);if(o.length<3)return;const s=o[1].match(/(\d{2}:\d{2}:\d{2},\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2},\d{3})/);if(s){const a=Ll(s[1]),c=Ll(s[2]),p=o.slice(2).join(" ").trim(),m=p.split(" ").map((d,h)=>{const g=(c-a)/p.split(" ").length;return{text:d,start:a+h*g,end:a+(h+1)*g,confidence:.95}});e.push({id:`caption_${r}`,text:p,start:a,end:c,words:m})}}),e}function Ll(t){const e=t.match(/(\d{2}):(\d{2}):(\d{2}),(\d{3})/);if(!e)return 0;const l=parseInt(e[1]),n=parseInt(e[2]),r=parseInt(e[3]),o=parseInt(e[4]);return l*3600+n*60+r+o/1e3}function qr(t,e,l){let n;de(t,oe,a=>l(2,n=a));let r=null,o=!0,i=null;Vl(async()=>{const a=window.location.pathname.split("/"),c=a.indexOf("edit");c>-1&&a.length>c+1?(r=a[c+1],await s(r)):l(0,o=!1)});async function s(a){try{l(0,o=!0);const c=await fetch(`/api/editor_data/${a}`);if(!c.ok)throw new Error("Failed to load project");const p=await c.json(),m=Ur(p.srt_content),d=m.length>0?m[m.length-1].end:0;oe.set({id:p.job_id,name:p.original_filename||"Untitled",videoUrl:p.video_url,videoDuration:d,captions:m,bRollClips:[],style:{fontFamily:"Inter",fontSize:42,fontWeight:"bold",color:"#FFFFFF",textShadow:"medium",animation:"pop",position:"bottom",alignment:"center",highlightWords:!0,highlightColor:"#FFD700",wordByWord:!0},resolution:p.resolution||"1080x1920",createdAt:new Date,updatedAt:new Date}),d&&ve.update(h=>({...h,duration:d}))}catch(c){l(1,i=c instanceof Error?c.message:"Failed to load project")}finally{l(0,o=!1)}}return[o,i,n]}class Vr extends pe{constructor(e){super(),ge(this,e,qr,Or,ie,{})}}new Vr({target:document.getElementById("app")});
