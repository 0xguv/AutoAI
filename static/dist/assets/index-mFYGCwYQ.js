var At=Object.defineProperty;var Vt=(l,e,n)=>e in l?At(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n;var Ze=(l,e,n)=>Vt(l,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function ve(){}function T(l,e){for(const n in e)l[n]=e[n];return l}function Lt(l){return l()}function mt(){return Object.create(null)}function Ee(l){l.forEach(Lt)}function It(l){return typeof l=="function"}function x(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let Xe;function gt(l,e){return l===e?!0:(Xe||(Xe=document.createElement("a")),Xe.href=e,l===Xe.href)}function Dt(l){return Object.keys(l).length===0}function fe(l,e,n,t){if(l){const o=Wt(l,e,n,t);return l[0](o)}}function Wt(l,e,n,t){return l[1]&&t?T(n.ctx.slice(),l[1](t(e))):n.ctx}function de(l,e,n,t){return l[2],e.dirty}function me(l,e,n,t,o,r){if(o){const s=Wt(e,n,t,r);l.p(s,o)}}function ge(l){if(l.ctx.length>32){const e=[],n=l.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function U(l){const e={};for(const n in l)n[0]!=="$"&&(e[n]=l[n]);return e}function ht(l,e){const n={};e=new Set(e);for(const t in l)!e.has(t)&&t[0]!=="$"&&(n[t]=l[t]);return n}function u(l,e){l.appendChild(e)}function Q(l,e,n){l.insertBefore(e,n||null)}function Z(l){l.parentNode&&l.parentNode.removeChild(l)}function Ot(l,e){for(let n=0;n<l.length;n+=1)l[n]&&l[n].d(e)}function p(l){return document.createElement(l)}function We(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Y(l){return document.createTextNode(l)}function W(){return Y(" ")}function ot(){return Y("")}function K(l,e,n,t){return l.addEventListener(e,n,t),()=>l.removeEventListener(e,n,t)}function _t(l){return function(e){return e.preventDefault(),l.call(this,e)}}function et(l){return function(e){return e.stopPropagation(),l.call(this,e)}}function a(l,e,n){n==null?l.removeAttribute(e):l.getAttribute(e)!==n&&l.setAttribute(e,n)}function Re(l,e){for(const n in e)a(l,n,e[n])}function Ut(l){return l===""?null:+l}function Ht(l){return Array.from(l.childNodes)}function ce(l,e){e=""+e,l.data!==e&&(l.data=e)}function qe(l,e){l.value=e??""}function ae(l,e,n,t){n==null?l.style.removeProperty(e):l.style.setProperty(e,n,"")}function be(l,e,n){l.classList.toggle(e,!!n)}function Xt(l,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(l,{detail:e,bubbles:n,cancelable:t})}let Oe;function De(l){Oe=l}function rt(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function st(l){rt().$$.on_mount.push(l)}function Bt(l){rt().$$.on_destroy.push(l)}function Yt(){const l=rt();return(e,n,{cancelable:t=!1}={})=>{const o=l.$$.callbacks[e];if(o){const r=Xt(e,n,{cancelable:t});return o.slice().forEach(s=>{s.call(l,r)}),!r.defaultPrevented}return!0}}const Ie=[],ze=[];let Fe=[];const tt=[],Rt=Promise.resolve();let nt=!1;function qt(){nt||(nt=!0,Rt.then(Ft))}function lt(l){Fe.push(l)}function Jt(l){tt.push(l)}const Qe=new Set;let Le=0;function Ft(){if(Le!==0)return;const l=Oe;do{try{for(;Le<Ie.length;){const e=Ie[Le];Le++,De(e),Kt(e.$$)}}catch(e){throw Ie.length=0,Le=0,e}for(De(null),Ie.length=0,Le=0;ze.length;)ze.pop()();for(let e=0;e<Fe.length;e+=1){const n=Fe[e];Qe.has(n)||(Qe.add(n),n())}Fe.length=0}while(Ie.length);for(;tt.length;)tt.pop()();nt=!1,Qe.clear(),De(l)}function Kt(l){if(l.fragment!==null){l.update(),Ee(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(lt)}}function Gt(l){const e=[],n=[];Fe.forEach(t=>l.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),Fe=e}const Ye=new Set;let Te;function Ue(){Te={r:0,c:[],p:Te}}function He(){Te.r||Ee(Te.c),Te=Te.p}function $(l,e){l&&l.i&&(Ye.delete(l),l.i(e))}function E(l,e,n,t){if(l&&l.o){if(Ye.has(l))return;Ye.add(l),Te.c.push(()=>{Ye.delete(l),t&&(n&&l.d(1),t())}),l.o(e)}else t&&t()}function Ae(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Zt(l,e){l.d(1),e.delete(l.key)}function Qt(l,e){E(l,1,1,()=>{e.delete(l.key)})}function zt(l,e,n,t,o,r,s,i,c,m,g,b){let f=l.length,d=r.length,h=f;const S={};for(;h--;)S[l[h].key]=h;const P=[],w=new Map,M=new Map,N=[];for(h=d;h--;){const j=b(o,r,h),y=n(j);let v=s.get(y);v?N.push(()=>v.p(j,e)):(v=m(y,j),v.c()),w.set(y,P[h]=v),y in S&&M.set(y,Math.abs(h-S[y]))}const L=new Set,_=new Set;function I(j){$(j,1),j.m(i,g),s.set(j.key,j),g=j.first,d--}for(;f&&d;){const j=P[d-1],y=l[f-1],v=j.key,O=y.key;j===y?(g=j.first,f--,d--):w.has(O)?!s.has(v)||L.has(v)?I(j):_.has(O)?f--:M.get(v)>M.get(O)?(_.add(v),I(j)):(L.add(O),f--):(c(y,s),f--)}for(;f--;){const j=l[f];w.has(j.key)||c(j,s)}for(;d;)I(P[d-1]);return Ee(N),P}function ie(l,e){const n={},t={},o={$$scope:1};let r=l.length;for(;r--;){const s=l[r],i=e[r];if(i){for(const c in s)c in i||(t[c]=1);for(const c in i)o[c]||(n[c]=i[c],o[c]=1);l[r]=i}else for(const c in s)o[c]=1}for(const s in t)s in n||(n[s]=void 0);return n}function _e(l){return typeof l=="object"&&l!==null?l:{}}function xt(l,e,n){const t=l.$$.props[e];t!==void 0&&(l.$$.bound[t]=n,n(l.$$.ctx[t]))}function V(l){l&&l.c()}function z(l,e,n){const{fragment:t,after_update:o}=l.$$;t&&t.m(e,n),lt(()=>{const r=l.$$.on_mount.map(Lt).filter(It);l.$$.on_destroy?l.$$.on_destroy.push(...r):Ee(r),l.$$.on_mount=[]}),o.forEach(lt)}function A(l,e){const n=l.$$;n.fragment!==null&&(Gt(n.after_update),Ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function en(l,e){l.$$.dirty[0]===-1&&(Ie.push(l),qt(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function ne(l,e,n,t,o,r,s=null,i=[-1]){const c=Oe;De(l);const m=l.$$={fragment:null,ctx:[],props:r,update:ve,not_equal:o,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:mt(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};s&&s(m.root);let g=!1;if(m.ctx=n?n(l,e.props||{},(b,f,...d)=>{const h=d.length?d[0]:f;return m.ctx&&o(m.ctx[b],m.ctx[b]=h)&&(!m.skip_bound&&m.bound[b]&&m.bound[b](h),g&&en(l,b)),f}):[],m.update(),g=!0,Ee(m.before_update),m.fragment=t?t(m.ctx):!1,e.target){if(e.hydrate){const b=Ht(e.target);m.fragment&&m.fragment.l(b),b.forEach(Z)}else m.fragment&&m.fragment.c();e.intro&&$(l.$$.fragment),z(l,e.target,e.anchor),Ft()}De(c)}class le{constructor(){Ze(this,"$$");Ze(this,"$$set")}$destroy(){A(this,1),this.$destroy=ve}$on(e,n){if(!It(n))return ve;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const o=t.indexOf(n);o!==-1&&t.splice(o,1)}}$set(e){this.$$set&&!Dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const tn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(tn);/**
 * @license lucide-svelte v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function bt(l,e,n){const t=l.slice();return t[10]=e[n][0],t[11]=e[n][1],t}function xe(l){let e,n=[l[11]],t={};for(let o=0;o<n.length;o+=1)t=T(t,n[o]);return{c(){e=We(l[10]),Re(e,t)},m(o,r){Q(o,e,r)},p(o,r){Re(e,t=ie(n,[r&32&&o[11]]))},d(o){o&&Z(e)}}}function vt(l){let e=l[10],n,t=l[10]&&xe(l);return{c(){t&&t.c(),n=ot()},m(o,r){t&&t.m(o,r),Q(o,n,r)},p(o,r){o[10]?e?x(e,o[10])?(t.d(1),t=xe(o),e=o[10],t.c(),t.m(n.parentNode,n)):t.p(o,r):(t=xe(o),e=o[10],t.c(),t.m(n.parentNode,n)):e&&(t.d(1),t=null,e=o[10])},d(o){o&&Z(n),t&&t.d(o)}}}function nn(l){let e,n,t,o,r,s=Ae(l[5]),i=[];for(let f=0;f<s.length;f+=1)i[f]=vt(bt(l,s,f));const c=l[9].default,m=fe(c,l,l[8],null);let g=[pt,l[6],{width:l[2]},{height:l[2]},{stroke:l[1]},{"stroke-width":t=l[4]?Number(l[3])*24/Number(l[2]):l[3]},{class:o=`lucide-icon lucide lucide-${l[0]} ${l[7].class??""}`}],b={};for(let f=0;f<g.length;f+=1)b=T(b,g[f]);return{c(){e=We("svg");for(let f=0;f<i.length;f+=1)i[f].c();n=ot(),m&&m.c(),Re(e,b)},m(f,d){Q(f,e,d);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(e,null);u(e,n),m&&m.m(e,null),r=!0},p(f,[d]){if(d&32){s=Ae(f[5]);let h;for(h=0;h<s.length;h+=1){const S=bt(f,s,h);i[h]?i[h].p(S,d):(i[h]=vt(S),i[h].c(),i[h].m(e,n))}for(;h<i.length;h+=1)i[h].d(1);i.length=s.length}m&&m.p&&(!r||d&256)&&me(m,c,f,f[8],r?de(c,f[8],d,null):ge(f[8]),null),Re(e,b=ie(g,[pt,d&64&&f[6],(!r||d&4)&&{width:f[2]},(!r||d&4)&&{height:f[2]},(!r||d&2)&&{stroke:f[1]},(!r||d&28&&t!==(t=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":t},(!r||d&129&&o!==(o=`lucide-icon lucide lucide-${f[0]} ${f[7].class??""}`))&&{class:o}]))},i(f){r||($(m,f),r=!0)},o(f){E(m,f),r=!1},d(f){f&&Z(e),Ot(i,f),m&&m.d(f)}}}function ln(l,e,n){const t=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let o=ht(e,t),{$$slots:r={},$$scope:s}=e,{name:i}=e,{color:c="currentColor"}=e,{size:m=24}=e,{strokeWidth:g=2}=e,{absoluteStrokeWidth:b=!1}=e,{iconNode:f}=e;return l.$$set=d=>{n(7,e=T(T({},e),U(d))),n(6,o=ht(e,t)),"name"in d&&n(0,i=d.name),"color"in d&&n(1,c=d.color),"size"in d&&n(2,m=d.size),"strokeWidth"in d&&n(3,g=d.strokeWidth),"absoluteStrokeWidth"in d&&n(4,b=d.absoluteStrokeWidth),"iconNode"in d&&n(5,f=d.iconNode),"$$scope"in d&&n(8,s=d.$$scope)},e=U(e),[i,c,m,g,b,f,o,e,s,r]}class pe extends le{constructor(e){super(),ne(this,e,ln,nn,x,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function on(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function rn(l){let e,n;const t=[{name:"clock"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[on]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function sn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["polyline",{points:"12 6 12 12 16 14"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class un extends le{constructor(e){super(),ne(this,e,sn,rn,x,{})}}function an(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function cn(l){let e,n;const t=[{name:"copy"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[an]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function fn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class dn extends le{constructor(e){super(),ne(this,e,fn,cn,x,{})}}function mn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function gn(l){let e,n;const t=[{name:"grip-vertical"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[mn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function hn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class _n extends le{constructor(e){super(),ne(this,e,hn,gn,x,{})}}function pn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function bn(l){let e,n;const t=[{name:"home"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[pn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function vn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class wn extends le{constructor(e){super(),ne(this,e,vn,bn,x,{})}}function kn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function yn(l){let e,n;const t=[{name:"log-out"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[kn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function $n(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}],["polyline",{points:"16 17 21 12 16 7"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Nn extends le{constructor(e){super(),ne(this,e,$n,yn,x,{})}}function En(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Cn(l){let e,n;const t=[{name:"maximize"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[En]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Sn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Mn extends le{constructor(e){super(),ne(this,e,Sn,Cn,x,{})}}function Tn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function jn(l){let e,n;const t=[{name:"pause"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Tn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Pn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Ln extends le{constructor(e){super(),ne(this,e,Pn,jn,x,{})}}function In(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Wn(l){let e,n;const t=[{name:"play"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[In]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Fn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class zn extends le{constructor(e){super(),ne(this,e,Fn,Wn,x,{})}}function An(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Vn(l){let e,n;const t=[{name:"settings"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[An]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Dn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class On extends le{constructor(e){super(),ne(this,e,Dn,Vn,x,{})}}function Un(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Hn(l){let e,n;const t=[{name:"skip-back"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Un]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Xn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"19 20 9 12 19 4 19 20"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Bn extends le{constructor(e){super(),ne(this,e,Xn,Hn,x,{})}}function Yn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Rn(l){let e,n;const t=[{name:"skip-forward"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Yn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function qn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"5 4 15 12 5 20 5 4"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Jn extends le{constructor(e){super(),ne(this,e,qn,Rn,x,{})}}function Kn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function Gn(l){let e,n;const t=[{name:"trash-2"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function Zn(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class Qn extends le{constructor(e){super(),ne(this,e,Zn,Gn,x,{})}}function xn(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function el(l){let e,n;const t=[{name:"user"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[xn]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function tl(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}],["circle",{cx:"12",cy:"7",r:"4"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class nl extends le{constructor(e){super(),ne(this,e,tl,el,x,{})}}function ll(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function ol(l){let e,n;const t=[{name:"video"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[ll]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function rl(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["path",{d:"m22 8-6 4 6 4V8Z"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class wt extends le{constructor(e){super(),ne(this,e,rl,ol,x,{})}}function sl(l){let e;const n=l[2].default,t=fe(n,l,l[3],null);return{c(){t&&t.c()},m(o,r){t&&t.m(o,r),e=!0},p(o,r){t&&t.p&&(!e||r&8)&&me(t,n,o,o[3],e?de(n,o[3],r,null):ge(o[3]),null)},i(o){e||($(t,o),e=!0)},o(o){E(t,o),e=!1},d(o){t&&t.d(o)}}}function il(l){let e,n;const t=[{name:"volume-2"},l[1],{iconNode:l[0]}];let o={$$slots:{default:[sl]},$$scope:{ctx:l}};for(let r=0;r<t.length;r+=1)o=T(o,t[r]);return e=new pe({props:o}),{c(){V(e.$$.fragment)},m(r,s){z(e,r,s),n=!0},p(r,[s]){const i=s&3?ie(t,[t[0],s&2&&_e(r[1]),s&1&&{iconNode:r[0]}]):{};s&8&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(r){n||($(e.$$.fragment,r),n=!0)},o(r){E(e.$$.fragment,r),n=!1},d(r){A(e,r)}}}function ul(l,e,n){let{$$slots:t={},$$scope:o}=e;const r=[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"}]];return l.$$set=s=>{n(1,e=T(T({},e),U(s))),"$$scope"in s&&n(3,o=s.$$scope)},e=U(e),[r,e,t,o]}class al extends le{constructor(e){super(),ne(this,e,ul,il,x,{})}}function kt(l,e,n){const t=l.slice();return t[18]=e[n],t}function cl(l){let e,n=l[18].text+"",t,o,r;function s(){return l[13](l[18])}return{c(){e=p("p"),t=Y(n),a(e,"class","text-sm text-gray-800 leading-relaxed cursor-text")},m(i,c){Q(i,e,c),u(e,t),o||(r=K(e,"click",et(s)),o=!0)},p(i,c){l=i,c&1&&n!==(n=l[18].text+"")&&ce(t,n)},d(i){i&&Z(e),o=!1,r()}}}function fl(l){let e,n,t;function o(){return l[11](l[18])}function r(...s){return l[12](l[18],...s)}return{c(){e=p("textarea"),a(e,"class","w-full text-sm border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"),a(e,"rows","2"),e.autofocus=!0},m(s,i){Q(s,e,i),qe(e,l[4]),e.focus(),n||(t=[K(e,"input",l[10]),K(e,"blur",o),K(e,"keydown",r)],n=!0)},p(s,i){l=s,i&16&&qe(e,l[4])},d(s){s&&Z(e),n=!1,Ee(t)}}}function yt(l){let e,n;return{c(){e=p("div"),n=p("div"),a(n,"class","h-full bg-green-600 rounded-full transition-all"),ae(n,"width",(l[1]-l[18].start)/(l[18].end-l[18].start)*100+"%"),a(e,"class","absolute bottom-0 left-0 right-0 h-1 bg-green-500 rounded-b-xl")},m(t,o){Q(t,e,o),u(e,n)},p(t,o){o&3&&ae(n,"width",(t[1]-t[18].start)/(t[18].end-t[18].start)*100+"%")},d(t){t&&Z(e)}}}function $t(l,e){let n,t,o,r,s,i,c,m=Be(e[18].start)+"",g,b,f,d,h,S=Be(e[18].end)+"",P,w,M,N,L=(e[18].end-e[18].start).toFixed(1)+"",_,I,j,y,v,O,we,he,q,G,Ne,ke,k,J,ee;o=new _n({props:{class:"w-4 h-4"}});function oe(B,X){return B[3]===B[18].id?fl:cl}let R=oe(e),te=R(e);we=new dn({props:{class:"w-4 h-4"}});function C(){return e[14](e[18])}G=new Qn({props:{class:"w-4 h-4"}});function D(){return e[15](e[18])}let H=e[1]>=e[18].start&&e[1]<=e[18].end&&yt(e);function re(){return e[16](e[18])}return{key:l,first:null,c(){n=p("div"),t=p("div"),V(o.$$.fragment),r=W(),s=p("div"),i=p("div"),c=p("span"),g=Y(m),b=W(),f=p("span"),f.textContent="â†’",d=W(),h=p("span"),P=Y(S),w=W(),M=p("span"),N=Y("("),_=Y(L),I=Y("s)"),j=W(),te.c(),y=W(),v=p("div"),O=p("button"),V(we.$$.fragment),he=W(),q=p("button"),V(G.$$.fragment),Ne=W(),H&&H.c(),ke=W(),a(t,"class","absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-300 cursor-grab active:cursor-grabbing"),a(c,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),a(h,"class","font-mono bg-gray-100 px-2 py-0.5 rounded"),a(M,"class","text-gray-400"),a(i,"class","flex items-center space-x-2 text-xs text-gray-500 mb-2"),a(s,"class","pl-6"),a(O,"class","p-1.5 text-gray-400 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors"),a(O,"title","Duplicate"),a(q,"class","p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors"),a(q,"title","Delete"),a(v,"class","absolute right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1"),a(n,"class","group relative bg-white border-2 rounded-xl p-4 transition-all hover:shadow-md cursor-pointer"),be(n,"border-green-500",e[18].active),be(n,"border-gray-200",!e[18].active),be(n,"bg-green-50",e[18].active),this.first=n},m(B,X){Q(B,n,X),u(n,t),z(o,t,null),u(n,r),u(n,s),u(s,i),u(i,c),u(c,g),u(i,b),u(i,f),u(i,d),u(i,h),u(h,P),u(i,w),u(i,M),u(M,N),u(M,_),u(M,I),u(s,j),te.m(s,null),u(n,y),u(n,v),u(v,O),z(we,O,null),u(v,he),u(v,q),z(G,q,null),u(n,Ne),H&&H.m(n,null),u(n,ke),k=!0,J||(ee=[K(O,"click",et(C)),K(q,"click",et(D)),K(n,"click",re)],J=!0)},p(B,X){e=B,(!k||X&1)&&m!==(m=Be(e[18].start)+"")&&ce(g,m),(!k||X&1)&&S!==(S=Be(e[18].end)+"")&&ce(P,S),(!k||X&1)&&L!==(L=(e[18].end-e[18].start).toFixed(1)+"")&&ce(_,L),R===(R=oe(e))&&te?te.p(e,X):(te.d(1),te=R(e),te&&(te.c(),te.m(s,null))),e[1]>=e[18].start&&e[1]<=e[18].end?H?H.p(e,X):(H=yt(e),H.c(),H.m(n,ke)):H&&(H.d(1),H=null),(!k||X&1)&&be(n,"border-green-500",e[18].active),(!k||X&1)&&be(n,"border-gray-200",!e[18].active),(!k||X&1)&&be(n,"bg-green-50",e[18].active)},i(B){k||($(o.$$.fragment,B),$(we.$$.fragment,B),$(G.$$.fragment,B),k=!0)},o(B){E(o.$$.fragment,B),E(we.$$.fragment,B),E(G.$$.fragment,B),k=!1},d(B){B&&Z(n),A(o),te.d(),A(we),A(G),H&&H.d(),J=!1,Ee(ee)}}}function dl(l){let e,n,t,o,r,s,i,c,m=l[0].length+"",g,b,f,d,h=[],S=new Map,P,w,M,N,L,_;o=new un({props:{class:"w-4 h-4 text-gray-500"}});let I=Ae(l[0]);const j=y=>y[18].id;for(let y=0;y<I.length;y+=1){let v=kt(l,I,y),O=j(v);S.set(O,h[y]=$t(O,v))}return{c(){e=p("aside"),n=p("div"),t=p("div"),V(o.$$.fragment),r=W(),s=p("h2"),s.textContent="Timeline",i=W(),c=p("span"),g=Y(m),b=Y(" captions"),f=W(),d=p("div");for(let y=0;y<h.length;y+=1)h[y].c();P=W(),w=p("div"),M=p("button"),M.innerHTML="<span>+ Add Caption</span>",a(s,"class","font-semibold text-gray-900"),a(t,"class","flex items-center space-x-2"),a(c,"class","text-sm text-gray-500"),a(n,"class","px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50"),a(d,"class","flex-1 overflow-y-auto p-4 space-y-3"),a(M,"class","w-full py-2.5 bg-gray-900 text-white rounded-lg font-medium text-sm hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2"),a(w,"class","p-4 border-t border-gray-200 bg-gray-50"),a(e,"class","w-80 bg-white border-l border-gray-200 flex flex-col flex-shrink-0")},m(y,v){Q(y,e,v),u(e,n),u(n,t),z(o,t,null),u(t,r),u(t,s),u(n,i),u(n,c),u(c,g),u(c,b),u(e,f),u(e,d);for(let O=0;O<h.length;O+=1)h[O]&&h[O].m(d,null);u(e,P),u(e,w),u(w,M),N=!0,L||(_=K(M,"click",l[17]),L=!0)},p(y,[v]){(!N||v&1)&&m!==(m=y[0].length+"")&&ce(g,m),v&511&&(I=Ae(y[0]),Ue(),h=zt(h,v,j,1,y,I,S,d,Qt,$t,null,kt),He())},i(y){if(!N){$(o.$$.fragment,y);for(let v=0;v<I.length;v+=1)$(h[v]);N=!0}},o(y){E(o.$$.fragment,y);for(let v=0;v<h.length;v+=1)E(h[v]);N=!1},d(y){y&&Z(e),A(o);for(let v=0;v<h.length;v+=1)h[v].d();L=!1,_()}}}function Be(l){const e=Math.floor(l/60),n=Math.floor(l%60),t=Math.floor(l%1*100);return`${e}:${n.toString().padStart(2,"0")}.${t.toString().padStart(2,"0")}`}function ml(l,e,n){let{captions:t=[]}=e,{currentTime:o=0}=e,{onUpdate:r}=e,{onCaptionClick:s}=e,i=null,c="";function m(_){n(3,i=_.id),n(4,c=_.text)}function g(_){r&&r(_,c),n(3,i=null)}function b(_){n(0,t=t.filter(I=>I.id!==_))}function f(_){const I={..._,id:Date.now(),start:_.end,end:_.end+(_.end-_.start)},j=t.findIndex(y=>y.id===_.id);n(0,t=[...t.slice(0,j+1),I,...t.slice(j+1)])}function d(){c=this.value,n(4,c)}const h=_=>g(_.id),S=(_,I)=>I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),g(_.id)),P=_=>m(_),w=_=>f(_),M=_=>b(_.id),N=_=>s&&s(_),L=()=>{const _=t[t.length-1],I={id:Date.now(),text:"New caption",start:_?_.end:0,end:_?_.end+3:3,active:!1};n(0,t=[...t,I])};return l.$$set=_=>{"captions"in _&&n(0,t=_.captions),"currentTime"in _&&n(1,o=_.currentTime),"onUpdate"in _&&n(9,r=_.onUpdate),"onCaptionClick"in _&&n(2,s=_.onCaptionClick)},[t,o,s,i,c,m,g,b,f,r,d,h,S,P,w,M,N,L]}class gl extends le{constructor(e){super(),ne(this,e,ml,dl,x,{captions:0,currentTime:1,onUpdate:9,onCaptionClick:2})}}function Nt(l,e,n){const t=l.slice();t[30]=e[n],t[35]=n;const o=Math.floor((t[8]>=0?t[8]:0)/t[1])*t[1]+t[35];t[31]=o;const r=t[31]===t[8];t[32]=r;const s=t[31]<t[8];return t[33]=s,t}function Et(l){let e,n,t=[],o=new Map,r,s,i=Math.round(l[0].x)+"",c,m,g=Math.round(l[0].y)+"",b,f,d,h,S=Ae(l[9]);const P=w=>`${w[30].start}-${w[30].word}`;for(let w=0;w<S.length;w+=1){let M=Nt(l,S,w),N=P(M);o.set(N,t[w]=Ct(N,M))}return{c(){e=p("div"),n=p("div");for(let w=0;w<t.length;w+=1)t[w].c();r=W(),s=p("div"),c=Y(i),m=Y("%, "),b=Y(g),f=Y("%"),a(n,"class","hormozi-subtitles-wrapper svelte-32390i"),a(s,"class","position-indicator svelte-32390i"),a(e,"class","hormozi-subtitles-container svelte-32390i"),ae(e,"font-size",l[5]),ae(e,"left",l[0].x+"%"),ae(e,"bottom",l[0].y+"%"),a(e,"role","button"),a(e,"tabindex","0"),a(e,"aria-label","Drag to reposition subtitles"),be(e,"dragging",l[11])},m(w,M){Q(w,e,M),u(e,n);for(let N=0;N<t.length;N+=1)t[N]&&t[N].m(n,null);u(e,r),u(e,s),u(s,c),u(s,m),u(s,b),u(s,f),l[17](e),d||(h=K(e,"mousedown",l[12]),d=!0)},p(w,M){M[0]&990&&(S=Ae(w[9]),t=zt(t,M,P,1,w,S,o,n,Zt,Ct,null,Nt)),M[0]&1&&i!==(i=Math.round(w[0].x)+"")&&ce(c,i),M[0]&1&&g!==(g=Math.round(w[0].y)+"")&&ce(b,g),M[0]&32&&ae(e,"font-size",w[5]),M[0]&1&&ae(e,"left",w[0].x+"%"),M[0]&1&&ae(e,"bottom",w[0].y+"%"),M[0]&2048&&be(e,"dragging",w[11])},d(w){w&&Z(e);for(let M=0;M<t.length;M+=1)t[M].d();l[17](null),d=!1,h()}}}function Ct(l,e){let n,t=e[30].word.toUpperCase()+"",o,r;return{key:l,first:null,c(){n=p("span"),o=Y(t),r=W(),a(n,"class","hormozi-word svelte-32390i"),ae(n,"color",e[32]?e[3]:e[4]),ae(n,"background-color",e[32]?e[2]:"transparent"),ae(n,"transform",e[32]&&e[6]?`scale(${e[7]})`:"scale(1)"),be(n,"active",e[32]),be(n,"past",e[33]),be(n,"pop-animation",e[6]&&e[32]),this.first=n},m(s,i){Q(s,n,i),u(n,o),u(n,r)},p(s,i){e=s,i[0]&512&&t!==(t=e[30].word.toUpperCase()+"")&&ce(o,t),i[0]&794&&ae(n,"color",e[32]?e[3]:e[4]),i[0]&774&&ae(n,"background-color",e[32]?e[2]:"transparent"),i[0]&962&&ae(n,"transform",e[32]&&e[6]?`scale(${e[7]})`:"scale(1)"),i[0]&770&&be(n,"active",e[32]),i[0]&770&&be(n,"past",e[33]),i[0]&834&&be(n,"pop-animation",e[6]&&e[32])},d(s){s&&Z(n)}}}function hl(l){let e,n=l[9].length>0&&Et(l);return{c(){n&&n.c(),e=ot()},m(t,o){n&&n.m(t,o),Q(t,e,o)},p(t,o){t[9].length>0?n?n.p(t,o):(n=Et(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ve,o:ve,d(t){t&&Z(e),n&&n.d(t)}}}function _l(l,e,n){let t,{videoElement:o}=e,{captions:r=[]}=e,{maxWordsPerLine:s=4}=e,{backgroundColor:i="#FF0000"}=e,{activeWordColor:c="#FFFFFF"}=e,{inactiveWordColor:m="rgba(255, 255, 255, 0.5)"}=e,{fontSize:g="clamp(28px, 4vw, 56px)"}=e,{enablePopAnimation:b=!0}=e,{popScale:f=1.15}=e,{position:d={x:50,y:15}}=e;const h=Yt();let S=0,P=-1,w=[],M=!1,N=null,L=!1,_=null,I=!1,j={mouseX:0,mouseY:0,posX:0,posY:0};function y(k){return!t||t.length===0?-1:t.findIndex(J=>k>=J.start&&k<=J.end)}function v(){if(t.length===0){n(9,w=[]);return}const k=P>=0?P:0,ee=Math.floor(k/s)*s,oe=Math.min(ee+s,t.length),R=t.slice(ee,oe);JSON.stringify(R)!==JSON.stringify(w)&&n(9,w=R)}function O(){if(!o||!L)return;const k=o.currentTime;n(15,S=k);const J=y(k);J!==P&&(n(8,P=J),v()),M&&(N=requestAnimationFrame(O))}function we(k){k.preventDefault(),k.stopPropagation(),_&&(n(11,I=!0),j={mouseX:k.clientX,mouseY:k.clientY,posX:d.x,posY:d.y},window.addEventListener("mousemove",he),window.addEventListener("mouseup",q))}function he(k){var R;if(!I)return;const J=k.clientX-j.mouseX,ee=k.clientY-j.mouseY,oe=(R=_.parentElement)==null?void 0:R.getBoundingClientRect();oe&&(n(0,d.x=Math.max(5,Math.min(95,j.posX+J/oe.width*100)),d),n(0,d.y=Math.max(5,Math.min(50,j.posY-ee/oe.height*100)),d))}function q(){n(11,I=!1),window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",q),h("positionChange",{x:d.x,y:d.y})}let G=!1;function Ne(){if(G||!o)return;G=!0;const k=()=>{M=!0,N&&cancelAnimationFrame(N),N=requestAnimationFrame(O)},J=()=>{M=!1,N&&cancelAnimationFrame(N)},ee=()=>{if(!M&&o){n(15,S=o.currentTime);const R=y(S);R!==P&&(n(8,P=R),v())}},oe=R=>(R.preventDefault(),!1);return o.addEventListener("play",k),o.addEventListener("pause",J),o.addEventListener("timeupdate",ee),o.addEventListener("seeking",ee),o.addEventListener("contextmenu",oe),ee(),()=>{o.removeEventListener("play",k),o.removeEventListener("pause",J),o.removeEventListener("timeupdate",ee),o.removeEventListener("seeking",ee),o.removeEventListener("contextmenu",oe),G=!1}}st(()=>{n(16,L=!0),r.length>0&&v()}),Bt(()=>{n(16,L=!1),N&&cancelAnimationFrame(N),window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",q)});function ke(k){ze[k?"unshift":"push"](()=>{_=k,n(10,_)})}return l.$$set=k=>{"videoElement"in k&&n(13,o=k.videoElement),"captions"in k&&n(14,r=k.captions),"maxWordsPerLine"in k&&n(1,s=k.maxWordsPerLine),"backgroundColor"in k&&n(2,i=k.backgroundColor),"activeWordColor"in k&&n(3,c=k.activeWordColor),"inactiveWordColor"in k&&n(4,m=k.inactiveWordColor),"fontSize"in k&&n(5,g=k.fontSize),"enablePopAnimation"in k&&n(6,b=k.enablePopAnimation),"popScale"in k&&n(7,f=k.popScale),"position"in k&&n(0,d=k.position)},l.$$.update=()=>{l.$$.dirty[0]&16384&&(t=r.flatMap(k=>{const J=k.text.split(/\s+/).filter(C=>C.trim());if(J.length===0)return[];const ee=k.end-k.start,oe=J.map(C=>Math.max(1,C.length*.5)),R=oe.reduce((C,D)=>C+D,0);let te=k.start;return J.map((C,D)=>{const re=oe[D]/R*ee,B=te,X=te+re;return te=X,{word:C.replace(/[^\w\s]/gi,""),start:B,end:X,originalWord:C}})})),l.$$.dirty[0]&81920&&r&&r.length>0&&L&&v(),l.$$.dirty[0]&73728&&o&&L&&Ne()},[d,s,i,c,m,g,b,f,P,w,_,I,we,o,r,S,L,ke]}class pl extends le{constructor(e){super(),ne(this,e,_l,hl,x,{videoElement:13,captions:14,maxWordsPerLine:1,backgroundColor:2,activeWordColor:3,inactiveWordColor:4,fontSize:5,enablePopAnimation:6,popScale:7,position:0},null,[-1,-1])}}function bl(l){let e,n,t=l[11]?"Exporting...":"Export Video",o,r,s,i=l[12]&&St(l);return{c(){i&&i.c(),e=W(),n=p("button"),o=Y(t),a(n,"class","px-4 py-2 bg-gray-900 text-white rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"),n.disabled=l[11]},m(c,m){i&&i.m(c,m),Q(c,e,m),Q(c,n,m),u(n,o),r||(s=K(n,"click",l[22]),r=!0)},p(c,m){c[12]?i?i.p(c,m):(i=St(c),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),m[0]&2048&&t!==(t=c[11]?"Exporting...":"Export Video")&&ce(o,t),m[0]&2048&&(n.disabled=c[11])},d(c){c&&(Z(e),Z(n)),i&&i.d(c),r=!1,s()}}}function vl(l){let e,n,t,o,r,s,i;return{c(){e=p("a"),n=We("svg"),t=We("path"),o=We("polyline"),r=We("line"),s=W(),i=p("span"),i.textContent="Download Video",a(t,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),a(o,"points","7 10 12 15 17 10"),a(r,"x1","12"),a(r,"y1","15"),a(r,"x2","12"),a(r,"y2","3"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"width","16"),a(n,"height","16"),a(n,"viewBox","0 0 24 24"),a(n,"fill","none"),a(n,"stroke","currentColor"),a(n,"stroke-width","2"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(e,"href",l[14]),a(e,"class","px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center space-x-2")},m(c,m){Q(c,e,m),u(e,n),u(n,t),u(n,o),u(n,r),u(e,s),u(e,i)},p(c,m){m[0]&16384&&a(e,"href",c[14])},d(c){c&&Z(e)}}}function St(l){let e,n,t;return{c(){e=p("span"),n=Y(l[12]),a(e,"class",t="text-sm "+(l[12].includes("failed")?"text-red-600":"text-green-600"))},m(o,r){Q(o,e,r),u(e,n)},p(o,r){r[0]&4096&&ce(n,o[12]),r[0]&4096&&t!==(t="text-sm "+(o[12].includes("failed")?"text-red-600":"text-green-600"))&&a(e,"class",t)},d(o){o&&Z(e)}}}function wl(l){let e,n,t,o,r,s,i,c,m,g,b,f,d,h,S,P,w=Ce(l[3])+"",M,N,L,_=Ce(l[4])+"",I,j,y,v,O,we,he,q,G,Ne,ke,k,J,ee,oe,R,te=Ce(l[3])+"",C,D,H=Ce(l[4])+"",re,B,X,je,it,ye,ut,Ve,Pe,at,Se,$e,Je,ct,se=l[15].length>0&&l[1]&&Mt(l);O=new Bn({props:{class:"w-5 h-5"}});const ft=[Nl,$l],Me=[];function dt(F,ue){return F[2]?0:1}return q=dt(l),G=Me[q]=ft[q](l),k=new Jn({props:{class:"w-5 h-5"}}),je=new al({props:{class:"w-4 h-4 text-gray-400"}}),Pe=new Mn({props:{class:"w-5 h-5"}}),Se=new gl({props:{captions:l[15],currentTime:l[3],onUpdate:l[20],onCaptionClick:l[21]}}),{c(){e=p("div"),n=p("div"),t=p("div"),o=p("div"),r=p("video"),s=p("track"),c=W(),se&&se.c(),m=W(),g=p("div"),b=p("div"),f=p("div"),d=p("div"),h=W(),S=p("div"),P=p("span"),M=Y(w),N=W(),L=p("span"),I=Y(_),j=W(),y=p("div"),v=p("button"),V(O.$$.fragment),we=W(),he=p("button"),G.c(),Ne=W(),ke=p("button"),V(k.$$.fragment),J=W(),ee=p("div"),oe=W(),R=p("span"),C=Y(te),D=Y(" / "),re=Y(H),B=W(),X=p("div"),V(je.$$.fragment),it=W(),ye=p("input"),ut=W(),Ve=p("button"),V(Pe.$$.fragment),at=W(),V(Se.$$.fragment),a(s,"kind","captions"),a(r,"class","w-full h-full object-contain"),gt(r.src,i=l[6])||a(r,"src",i),a(o,"class","relative h-full max-h-[calc(100vh-300px)] aspect-[9/16] bg-black rounded-lg overflow-hidden shadow-2xl"),a(t,"class","flex-1 flex items-center justify-center p-4 overflow-hidden"),a(d,"class","h-full bg-green-500 rounded-full transition-all duration-100"),ae(d,"width",l[3]/(l[4]||1)*100+"%"),a(f,"class","h-2 bg-gray-700 rounded-full cursor-pointer relative overflow-hidden"),a(f,"role","slider"),a(f,"aria-valuenow",l[3]),a(f,"aria-valuemax",l[4]),a(f,"tabindex","0"),a(S,"class","flex justify-between text-xs text-gray-400 mt-1"),a(b,"class","w-full max-w-md"),a(v,"class","text-gray-400 hover:text-white transition-colors"),a(he,"class","w-10 h-10 bg-white rounded-full flex items-center justify-center text-gray-900 hover:bg-gray-200 transition-colors"),a(ke,"class","text-gray-400 hover:text-white transition-colors"),a(ee,"class","w-px h-6 bg-gray-600 mx-2"),a(R,"class","text-gray-300 text-sm font-mono min-w-[100px]"),a(ye,"type","range"),a(ye,"min","0"),a(ye,"max","1"),a(ye,"step","0.1"),a(ye,"class","w-20 accent-green-500"),a(X,"class","flex items-center space-x-2"),a(Ve,"class","text-gray-400 hover:text-white transition-colors ml-2"),a(y,"class","flex items-center space-x-4 bg-gray-800 rounded-full px-8 py-3"),a(g,"class","flex flex-col items-center pb-4 px-4 space-y-3"),a(n,"class","flex-1 flex flex-col bg-gray-900"),a(e,"class","flex-1 flex overflow-hidden")},m(F,ue){Q(F,e,ue),u(e,n),u(n,t),u(t,o),u(o,r),u(r,s),l[23](r),u(o,c),se&&se.m(o,null),l[28](o),u(n,m),u(n,g),u(g,b),u(b,f),u(f,d),u(b,h),u(b,S),u(S,P),u(P,M),u(S,N),u(S,L),u(L,I),u(g,j),u(g,y),u(y,v),z(O,v,null),u(y,we),u(y,he),Me[q].m(he,null),u(y,Ne),u(y,ke),z(k,ke,null),u(y,J),u(y,ee),u(y,oe),u(y,R),u(R,C),u(R,D),u(R,re),u(y,B),u(y,X),z(je,X,null),u(X,it),u(X,ye),qe(ye,l[5]),u(y,ut),u(y,Ve),z(Pe,Ve,null),u(e,at),z(Se,e,null),$e=!0,Je||(ct=[K(r,"timeupdate",l[17]),K(r,"play",l[24]),K(r,"pause",l[25]),K(r,"contextmenu",_t(Tt)),K(o,"contextmenu",_t(Tt)),K(f,"click",l[19]),K(v,"click",l[29]),K(he,"click",l[16]),K(ke,"click",l[30]),K(ye,"change",l[31]),K(ye,"input",l[31]),K(ye,"input",l[32]),K(Ve,"click",l[18])],Je=!0)},p(F,ue){(!$e||ue[0]&64&&!gt(r.src,i=F[6]))&&a(r,"src",i),F[15].length>0&&F[1]?se?(se.p(F,ue),ue[0]&32770&&$(se,1)):(se=Mt(F),se.c(),$(se,1),se.m(o,null)):se&&(Ue(),E(se,1,1,()=>{se=null}),He()),(!$e||ue[0]&24)&&ae(d,"width",F[3]/(F[4]||1)*100+"%"),(!$e||ue[0]&8)&&a(f,"aria-valuenow",F[3]),(!$e||ue[0]&16)&&a(f,"aria-valuemax",F[4]),(!$e||ue[0]&8)&&w!==(w=Ce(F[3])+"")&&ce(M,w),(!$e||ue[0]&16)&&_!==(_=Ce(F[4])+"")&&ce(I,_);let Ke=q;q=dt(F),q!==Ke&&(Ue(),E(Me[Ke],1,1,()=>{Me[Ke]=null}),He(),G=Me[q],G||(G=Me[q]=ft[q](F),G.c()),$(G,1),G.m(he,null)),(!$e||ue[0]&8)&&te!==(te=Ce(F[3])+"")&&ce(C,te),(!$e||ue[0]&16)&&H!==(H=Ce(F[4])+"")&&ce(re,H),ue[0]&32&&qe(ye,F[5]);const Ge={};ue[0]&32768&&(Ge.captions=F[15]),ue[0]&8&&(Ge.currentTime=F[3]),Se.$set(Ge)},i(F){$e||($(se),$(O.$$.fragment,F),$(G),$(k.$$.fragment,F),$(je.$$.fragment,F),$(Pe.$$.fragment,F),$(Se.$$.fragment,F),$e=!0)},o(F){E(se),E(O.$$.fragment,F),E(G),E(k.$$.fragment,F),E(je.$$.fragment,F),E(Pe.$$.fragment,F),E(Se.$$.fragment,F),$e=!1},d(F){F&&Z(e),l[23](null),se&&se.d(),l[28](null),A(O),Me[q].d(),A(k),A(je),A(Pe),A(Se),Je=!1,Ee(ct)}}}function kl(l){let e,n,t;return{c(){e=p("div"),n=Y("Error: "),t=Y(l[8]),a(e,"class","flex-1 flex items-center justify-center text-red-500 text-xl")},m(o,r){Q(o,e,r),u(e,n),u(e,t)},p(o,r){r[0]&256&&ce(t,o[8])},i:ve,o:ve,d(o){o&&Z(e)}}}function yl(l){let e;return{c(){e=p("div"),e.textContent="Loading editor...",a(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl")},m(n,t){Q(n,e,t)},p:ve,i:ve,o:ve,d(n){n&&Z(e)}}}function Mt(l){let e,n,t;function o(s){l[26](s)}let r={videoElement:l[1],captions:l[15],maxWordsPerLine:3,backgroundColor:"#FF0000",activeWordColor:"#FFFFFF",inactiveWordColor:"rgba(255, 255, 255, 0.4)",fontSize:"clamp(20px, 3vw, 40px)",enablePopAnimation:!0,popScale:1.1};return l[9]!==void 0&&(r.position=l[9]),e=new pl({props:r}),ze.push(()=>xt(e,"position",o)),e.$on("positionChange",l[27]),{c(){V(e.$$.fragment)},m(s,i){z(e,s,i),t=!0},p(s,i){const c={};i[0]&2&&(c.videoElement=s[1]),i[0]&32768&&(c.captions=s[15]),!n&&i[0]&512&&(n=!0,c.position=s[9],Jt(()=>n=!1)),e.$set(c)},i(s){t||($(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){A(e,s)}}}function $l(l){let e,n;return e=new zn({props:{class:"w-5 h-5 ml-0.5"}}),{c(){V(e.$$.fragment)},m(t,o){z(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Nl(l){let e,n;return e=new Ln({props:{class:"w-5 h-5"}}),{c(){V(e.$$.fragment)},m(t,o){z(e,t,o),n=!0},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function El(l){let e,n,t,o,r,s,i,c,m,g,b,f;function d(N,L){return N[13]&&N[14]?vl:bl}let h=d(l),S=h(l);const P=[yl,kl,wl],w=[];function M(N,L){return N[7]?0:N[8]?1:2}return g=M(l),b=w[g]=P[g](l),{c(){e=p("div"),n=p("header"),t=p("h1"),o=Y("Video Editor ("),r=Y(l[0]),s=Y(")"),i=W(),c=p("div"),S.c(),m=W(),b.c(),a(t,"class","text-lg font-semibold text-gray-900"),a(c,"class","flex items-center space-x-3"),a(n,"class","bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between flex-shrink-0"),a(e,"class","flex-1 flex flex-col ml-16 h-screen")},m(N,L){Q(N,e,L),u(e,n),u(n,t),u(t,o),u(t,r),u(t,s),u(n,i),u(n,c),S.m(c,null),u(e,m),w[g].m(e,null),f=!0},p(N,L){(!f||L[0]&1)&&ce(r,N[0]),h===(h=d(N))&&S?S.p(N,L):(S.d(1),S=h(N),S&&(S.c(),S.m(c,null)));let _=g;g=M(N),g===_?w[g].p(N,L):(Ue(),E(w[_],1,1,()=>{w[_]=null}),He(),b=w[g],b?b.p(N,L):(b=w[g]=P[g](N),b.c()),$(b,1),b.m(e,null))},i(N){f||($(b),f=!0)},o(N){E(b),f=!1},d(N){N&&Z(e),S.d(),w[g].d()}}}function Ce(l){const e=Math.floor(l/60),n=Math.floor(l%60);return`${e}:${n.toString().padStart(2,"0")}`}function Tt(l){return l.preventDefault(),!1}function jt(l){const[e,n,t]=l.split(":"),[o,r]=t.split(",");return parseInt(e,10)*3600+parseInt(n,10)*60+parseInt(o,10)+parseInt(r,10)/1e3}function Cl(l){const e=l.split(/\r?\n/);let n=[],t=null,o=1;for(const r of e)if(r.trim()==="")t&&t.text.trim()!==""&&n.push(t),t=null;else if(t===null)t={id:o++,text:"",active:!1};else if(r.includes("-->")){const[s,i]=r.split("-->").map(c=>c.trim());t.start=jt(s),t.end=jt(i)}else t.text+=(t.text===""?"":" ")+r.trim();return t&&t.text.trim()!==""&&n.push(t),n}function Pt(l){const e=Math.floor(l/3600),n=Math.floor(l%3600/60),t=Math.floor(l%60),o=Math.floor(l%1*1e3);return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")},${o.toString().padStart(3,"0")}`}function Sl(l,e,n){let{jobId:t}=e,o,r=!1,s=0,i=0,c=1,m="",g=!0,b=null,f={x:50,y:15},d=null,h=!1,S="",P=!1,w="",M="original";function N(){o&&(r?o.pause():o.play())}function L(){if(o){n(3,s=o.currentTime),n(4,i=o.duration||0),n(15,j=j.map(D=>({...D,active:s>=D.start&&s<=D.end})));const C=j.find(D=>D.active);C&&C.text}}function _(){d&&(document.fullscreenElement?document.exitFullscreen().then(()=>{}).catch(C=>{console.error("Error attempting to exit fullscreen:",C)}):d.requestFullscreen().then(()=>{}).catch(C=>{console.error("Error attempting to enable fullscreen:",C)}))}function I(C){if(!o||!i)return;const D=C.currentTarget.getBoundingClientRect(),re=(C.clientX-D.left)/D.width*i;n(1,o.currentTime=re,o),n(3,s=re)}let j=[];st(async()=>{try{const C=await fetch(`/api/editor_data/${t}`);if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const D=await C.json();if(D.status==="success")n(6,m=D.video_url),n(15,j=Cl(D.srt_content)),M=D.resolution||"original";else throw new Error(D.message||"Failed to load editor data")}catch(C){console.error("Error fetching editor data:",C),n(8,b=C.message)}finally{n(7,g=!1)}});function y(C,D){n(15,j=j.map(H=>H.id===C?{...H,text:D}:H))}function v(C){o&&n(1,o.currentTime=C.start,o)}function O(){return j.map((C,D)=>`${D+1}
${Pt(C.start)} --> ${Pt(C.end)}
${C.text}`).join(`

`)}async function we(C){return new Promise((D,H)=>{const re=setInterval(async()=>{try{const X=await(await fetch(`/api/job_status/${C}`)).json();X.status==="completed"?(clearInterval(re),D(X)):X.status==="failed"?(clearInterval(re),H(new Error(X.error||"Burning failed"))):n(12,S=`Processing: ${X.progress_message||X.status}...`)}catch(B){clearInterval(re),H(B)}},3e3);setTimeout(()=>{clearInterval(re),H(new Error("Export timed out"))},6e5)})}async function he(){var C;n(11,h=!0),n(12,S="Saving subtitles..."),n(13,P=!1);try{const D=O(),H={x:f.x,y:f.y},re=await fetch("/save_and_burn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:t,srt_content:D,positional_data:H,resolution:M})});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const B=await re.json();if(B.status==="success"){n(12,S="Video burning in progress...");const X=await we(B.job_id);n(13,P=!0),n(12,S="Export complete!"),n(14,w=((C=X.result)==null?void 0:C.video_url)||"")}else throw new Error(B.message||"Failed to start export")}catch(D){console.error("Error exporting video:",D),n(12,S=`Export failed: ${D.message}`),n(13,P=!1)}finally{n(11,h=!1)}}function q(C){ze[C?"unshift":"push"](()=>{o=C,n(1,o)})}const G=()=>n(2,r=!0),Ne=()=>n(2,r=!1);function ke(C){f=C,n(9,f)}const k=C=>n(9,f=C.detail);function J(C){ze[C?"unshift":"push"](()=>{d=C,n(10,d)})}const ee=()=>o&&n(1,o.currentTime-=5,o),oe=()=>o&&n(1,o.currentTime+=5,o);function R(){c=Ut(this.value),n(5,c)}const te=()=>o&&n(1,o.volume=c,o);return l.$$set=C=>{"jobId"in C&&n(0,t=C.jobId)},[t,o,r,s,i,c,m,g,b,f,d,h,S,P,w,j,N,L,_,I,y,v,he,q,G,Ne,ke,k,J,ee,oe,R,te]}class Ml extends le{constructor(e){super(),ne(this,e,Sl,El,x,{jobId:0},null,[-1,-1])}}function Tl(l){let e,n,t,o,r,s,i,c,m,g,b,f,d,h,S,P,w,M,N,L,_,I,j,y;return o=new wt({props:{class:"w-6 h-6 text-white"}}),c=new wn({props:{class:"w-5 h-5"}}),b=new wt({props:{class:"w-5 h-5"}}),h=new nl({props:{class:"w-5 h-5"}}),w=new On({props:{class:"w-5 h-5"}}),_=new Nn({props:{class:"w-5 h-5"}}),{c(){e=p("aside"),n=p("div"),t=p("div"),V(o.$$.fragment),r=W(),s=p("nav"),i=p("a"),V(c.$$.fragment),m=W(),g=p("a"),V(b.$$.fragment),f=W(),d=p("a"),V(h.$$.fragment),S=W(),P=p("a"),V(w.$$.fragment),M=W(),N=p("div"),L=p("button"),V(_.$$.fragment),a(t,"class","w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center"),a(n,"class","mb-8"),a(i,"href","/"),a(i,"class","w-12 h-12 rounded-xl bg-gray-100 text-gray-900 flex items-center justify-center hover:bg-gray-200 transition-colors"),a(i,"title","Home"),a(g,"href","/editor-new"),a(g,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(g,"title","New Editor"),a(d,"href","/profile"),a(d,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(d,"title","Profile"),a(P,"href","/"),a(P,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-gray-100 hover:text-gray-900 transition-colors"),a(P,"title","Dashboard"),a(s,"class","flex-1 flex flex-col items-center space-y-2 w-full"),a(L,"class","w-12 h-12 rounded-xl text-gray-500 flex items-center justify-center hover:bg-red-50 hover:text-red-600 transition-colors"),a(L,"title","Logout"),a(N,"class","mt-auto w-full flex flex-col items-center space-y-2"),a(e,"class","fixed left-0 top-0 h-full w-16 bg-white border-r border-gray-200 flex flex-col items-center py-6 z-50 shadow-sm")},m(v,O){Q(v,e,O),u(e,n),u(n,t),z(o,t,null),u(e,r),u(e,s),u(s,i),z(c,i,null),u(s,m),u(s,g),z(b,g,null),u(s,f),u(s,d),z(h,d,null),u(s,S),u(s,P),z(w,P,null),u(e,M),u(e,N),u(N,L),z(_,L,null),I=!0,j||(y=K(L,"click",jl),j=!0)},p:ve,i(v){I||($(o.$$.fragment,v),$(c.$$.fragment,v),$(b.$$.fragment,v),$(h.$$.fragment,v),$(w.$$.fragment,v),$(_.$$.fragment,v),I=!0)},o(v){E(o.$$.fragment,v),E(c.$$.fragment,v),E(b.$$.fragment,v),E(h.$$.fragment,v),E(w.$$.fragment,v),E(_.$$.fragment,v),I=!1},d(v){v&&Z(e),A(o),A(c),A(b),A(h),A(w),A(_),j=!1,y()}}}function jl(){window.location.href="/logout"}class Pl extends le{constructor(e){super(),ne(this,e,null,Tl,x,{})}}function Ll(l){let e;return{c(){e=p("div"),e.textContent="No video job selected. Please go to the dashboard to select a video to edit.",a(e,"class","flex-1 flex items-center justify-center text-gray-500 text-xl ml-16")},m(n,t){Q(n,e,t)},p:ve,i:ve,o:ve,d(n){n&&Z(e)}}}function Il(l){let e,n;return e=new Ml({props:{jobId:l[0]}}),{c(){V(e.$$.fragment)},m(t,o){z(e,t,o),n=!0},p(t,o){const r={};o&1&&(r.jobId=t[0]),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function Wl(l){let e,n,t,o,r,s;n=new Pl({});const i=[Il,Ll],c=[];function m(g,b){return g[0]?0:1}return o=m(l),r=c[o]=i[o](l),{c(){e=p("main"),V(n.$$.fragment),t=W(),r.c(),a(e,"class","flex h-screen w-full overflow-hidden bg-gray-100")},m(g,b){Q(g,e,b),z(n,e,null),u(e,t),c[o].m(e,null),s=!0},p(g,[b]){let f=o;o=m(g),o===f?c[o].p(g,b):(Ue(),E(c[f],1,1,()=>{c[f]=null}),He(),r=c[o],r?r.p(g,b):(r=c[o]=i[o](g),r.c()),$(r,1),r.m(e,null))},i(g){s||($(n.$$.fragment,g),$(r),s=!0)},o(g){E(n.$$.fragment,g),E(r),s=!1},d(g){g&&Z(e),A(n),c[o].d()}}}function Fl(l,e,n){let t=null;return st(()=>{const o=window.location.pathname.split("/"),r=o.indexOf("edit");r>-1&&o.length>r+1&&n(0,t=o[r+1])}),[t]}class zl extends le{constructor(e){super(),ne(this,e,Fl,Wl,x,{})}}new zl({target:document.getElementById("app")});
